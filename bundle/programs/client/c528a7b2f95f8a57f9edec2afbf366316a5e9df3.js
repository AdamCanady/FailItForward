!function(){var e,t;(function(){t={}}).call(this),function(){(function(){var e=this,n=e._,r={},i=Array.prototype,o=Object.prototype,a=Function.prototype,s=i.push,l=i.slice,u=i.concat,c=o.toString,d=o.hasOwnProperty,f=i.forEach,p=i.map,h=i.reduce,m=i.reduceRight,g=i.filter,v=i.every,_=i.some,y=i.indexOf,b=i.lastIndexOf,w=Array.isArray,k=Object.keys,M=a.bind,T=function(e){return e instanceof T?e:this instanceof T?(this._wrapped=e,void 0):new T(e)};"undefined"!=typeof t?("undefined"!=typeof module&&module.exports&&(t=module.exports=T),t._=T):e._=T,T.VERSION="1.5.2";var S=T.each=T.forEach=function(e,t,n){if(null!=e)if(f&&e.forEach===f)e.forEach(t,n);else if(e.length===+e.length){for(var i=0,o=e.length;o>i;i++)if(t.call(n,e[i],i,e)===r)return}else for(var a=T.keys(e),i=0,o=a.length;o>i;i++)if(t.call(n,e[a[i]],a[i],e)===r)return};T.map=T.collect=function(e,t,n){var r=[];return null==e?r:p&&e.map===p?e.map(t,n):(S(e,function(e,i,o){r.push(t.call(n,e,i,o))}),r)};var x="Reduce of empty array with no initial value";T.reduce=T.foldl=T.inject=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),h&&e.reduce===h)return r&&(t=T.bind(t,r)),i?e.reduce(t,n):e.reduce(t);if(S(e,function(e,o,a){i?n=t.call(r,n,e,o,a):(n=e,i=!0)}),!i)throw new TypeError(x);return n},T.reduceRight=T.foldr=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),m&&e.reduceRight===m)return r&&(t=T.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var o=e.length;if(o!==+o){var a=T.keys(e);o=a.length}if(S(e,function(s,l,u){l=a?a[--o]:--o,i?n=t.call(r,n,e[l],l,u):(n=e[l],i=!0)}),!i)throw new TypeError(x);return n},T.find=T.detect=function(e,t,n){var r;return E(e,function(e,i,o){return t.call(n,e,i,o)?(r=e,!0):void 0}),r},T.filter=T.select=function(e,t,n){var r=[];return null==e?r:g&&e.filter===g?e.filter(t,n):(S(e,function(e,i,o){t.call(n,e,i,o)&&r.push(e)}),r)},T.reject=function(e,t,n){return T.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},T.every=T.all=function(e,t,n){t||(t=T.identity);var i=!0;return null==e?i:v&&e.every===v?e.every(t,n):(S(e,function(e,o,a){return(i=i&&t.call(n,e,o,a))?void 0:r}),!!i)};var E=T.some=T.any=function(e,t,n){t||(t=T.identity);var i=!1;return null==e?i:_&&e.some===_?e.some(t,n):(S(e,function(e,o,a){return i||(i=t.call(n,e,o,a))?r:void 0}),!!i)};T.contains=T.include=function(e,t){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(t):E(e,function(e){return e===t})},T.invoke=function(e,t){var n=l.call(arguments,2),r=T.isFunction(t);return T.map(e,function(e){return(r?t:e[t]).apply(e,n)})},T.pluck=function(e,t){return T.map(e,function(e){return e[t]})},T.where=function(e,t,n){return T.isEmpty(t)?n?void 0:[]:T[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},T.findWhere=function(e,t){return T.where(e,t,!0)},T.max=function(e,t,n){if(!t&&T.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&T.isEmpty(e))return-1/0;var r={computed:-1/0,value:-1/0};return S(e,function(e,i,o){var a=t?t.call(n,e,i,o):e;a>r.computed&&(r={value:e,computed:a})}),r.value},T.min=function(e,t,n){if(!t&&T.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&T.isEmpty(e))return 1/0;var r={computed:1/0,value:1/0};return S(e,function(e,i,o){var a=t?t.call(n,e,i,o):e;a<r.computed&&(r={value:e,computed:a})}),r.value},T.shuffle=function(e){var t,n=0,r=[];return S(e,function(e){t=T.random(n++),r[n-1]=r[t],r[t]=e}),r},T.sample=function(e,t,n){return arguments.length<2||n?e[T.random(e.length-1)]:T.shuffle(e).slice(0,Math.max(0,t))};var L=function(e){return T.isFunction(e)?e:function(t){return t[e]}};T.sortBy=function(e,t,n){var r=L(t);return T.pluck(T.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var D=function(e){return function(t,n,r){var i={},o=null==n?T.identity:L(n);return S(t,function(n,a){var s=o.call(r,n,a,t);e(i,s,n)}),i}};T.groupBy=D(function(e,t,n){(T.has(e,t)?e[t]:e[t]=[]).push(n)}),T.indexBy=D(function(e,t,n){e[t]=n}),T.countBy=D(function(e,t){T.has(e,t)?e[t]++:e[t]=1}),T.sortedIndex=function(e,t,n,r){n=null==n?T.identity:L(n);for(var i=n.call(r,t),o=0,a=e.length;a>o;){var s=o+a>>>1;n.call(r,e[s])<i?o=s+1:a=s}return o},T.toArray=function(e){return e?T.isArray(e)?l.call(e):e.length===+e.length?T.map(e,T.identity):T.values(e):[]},T.size=function(e){return null==e?0:e.length===+e.length?e.length:T.keys(e).length},T.first=T.head=T.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:l.call(e,0,t)},T.initial=function(e,t,n){return l.call(e,0,e.length-(null==t||n?1:t))},T.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:l.call(e,Math.max(e.length-t,0))},T.rest=T.tail=T.drop=function(e,t,n){return l.call(e,null==t||n?1:t)},T.compact=function(e){return T.filter(e,T.identity)};var C=function(e,t,n){return t&&T.every(e,T.isArray)?u.apply(n,e):(S(e,function(e){T.isArray(e)||T.isArguments(e)?t?s.apply(n,e):C(e,t,n):n.push(e)}),n)};T.flatten=function(e,t){return C(e,t,[])},T.without=function(e){return T.difference(e,l.call(arguments,1))},T.uniq=T.unique=function(e,t,n,r){T.isFunction(t)&&(r=n,n=t,t=!1);var i=n?T.map(e,n,r):e,o=[],a=[];return S(i,function(n,r){(t?r&&a[a.length-1]===n:T.contains(a,n))||(a.push(n),o.push(e[r]))}),o},T.union=function(){return T.uniq(T.flatten(arguments,!0))},T.intersection=function(e){var t=l.call(arguments,1);return T.filter(T.uniq(e),function(e){return T.every(t,function(t){return T.indexOf(t,e)>=0})})},T.difference=function(e){var t=u.apply(i,l.call(arguments,1));return T.filter(e,function(e){return!T.contains(t,e)})},T.zip=function(){for(var e=T.max(T.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=T.pluck(arguments,""+n);return t},T.object=function(e,t){if(null==e)return{};for(var n={},r=0,i=e.length;i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},T.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n){if("number"!=typeof n)return r=T.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;i>r;r++)if(e[r]===t)return r;return-1},T.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var i=r?n:e.length;i--;)if(e[i]===t)return i;return-1},T.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=0,o=new Array(r);r>i;)o[i++]=e,e+=n;return o};var P=function(){};T.bind=function(e,t){var n,r;if(M&&e.bind===M)return M.apply(e,l.call(arguments,1));if(!T.isFunction(e))throw new TypeError;return n=l.call(arguments,2),r=function(){if(!(this instanceof r))return e.apply(t,n.concat(l.call(arguments)));P.prototype=e.prototype;var i=new P;P.prototype=null;var o=e.apply(i,n.concat(l.call(arguments)));return Object(o)===o?o:i}},T.partial=function(e){var t=l.call(arguments,1);return function(){return e.apply(this,t.concat(l.call(arguments)))}},T.bindAll=function(e){var t=l.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return S(t,function(t){e[t]=T.bind(e[t],e)}),e},T.memoize=function(e,t){var n={};return t||(t=T.identity),function(){var r=t.apply(this,arguments);return T.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},T.delay=function(e,t){var n=l.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},T.defer=function(e){return T.delay.apply(T,[e,1].concat(l.call(arguments,1)))},T.throttle=function(e,t,n){var r,i,o,a=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:new Date,a=null,o=e.apply(r,i)};return function(){var u=new Date;s||n.leading!==!1||(s=u);var c=t-(u-s);return r=this,i=arguments,0>=c?(clearTimeout(a),a=null,s=u,o=e.apply(r,i)):a||n.trailing===!1||(a=setTimeout(l,c)),o}},T.debounce=function(e,t,n){var r,i,o,a,s;return function(){o=this,i=arguments,a=new Date;var l=function(){var u=new Date-a;t>u?r=setTimeout(l,t-u):(r=null,n||(s=e.apply(o,i)))},u=n&&!r;return r||(r=setTimeout(l,t)),u&&(s=e.apply(o,i)),s}},T.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},T.wrap=function(e,t){return function(){var n=[e];return s.apply(n,arguments),t.apply(this,n)}},T.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},T.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},T.keys=k||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)T.has(e,n)&&t.push(n);return t},T.values=function(e){for(var t=T.keys(e),n=t.length,r=new Array(n),i=0;n>i;i++)r[i]=e[t[i]];return r},T.pairs=function(e){for(var t=T.keys(e),n=t.length,r=new Array(n),i=0;n>i;i++)r[i]=[t[i],e[t[i]]];return r},T.invert=function(e){for(var t={},n=T.keys(e),r=0,i=n.length;i>r;r++)t[e[n[r]]]=n[r];return t},T.functions=T.methods=function(e){var t=[];for(var n in e)T.isFunction(e[n])&&t.push(n);return t.sort()},T.extend=function(e){return S(l.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},T.pick=function(e){var t={},n=u.apply(i,l.call(arguments,1));return S(n,function(n){n in e&&(t[n]=e[n])}),t},T.omit=function(e){var t={},n=u.apply(i,l.call(arguments,1));for(var r in e)T.contains(n,r)||(t[r]=e[r]);return t},T.defaults=function(e){return S(l.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},T.clone=function(e){return T.isObject(e)?T.isArray(e)?e.slice():T.extend({},e):e},T.tap=function(e,t){return t(e),e};var I=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof T&&(e=e._wrapped),t instanceof T&&(t=t._wrapped);var i=c.call(e);if(i!=c.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=n.length;o--;)if(n[o]==e)return r[o]==t;var a=e.constructor,s=t.constructor;if(a!==s&&!(T.isFunction(a)&&a instanceof a&&T.isFunction(s)&&s instanceof s))return!1;n.push(e),r.push(t);var l=0,u=!0;if("[object Array]"==i){if(l=e.length,u=l==t.length)for(;l--&&(u=I(e[l],t[l],n,r)););}else{for(var d in e)if(T.has(e,d)&&(l++,!(u=T.has(t,d)&&I(e[d],t[d],n,r))))break;if(u){for(d in t)if(T.has(t,d)&&!l--)break;u=!l}}return n.pop(),r.pop(),u};T.isEqual=function(e,t){return I(e,t,[],[])},T.isEmpty=function(e){if(null==e)return!0;if(T.isArray(e)||T.isString(e))return 0===e.length;for(var t in e)if(T.has(e,t))return!1;return!0},T.isElement=function(e){return!(!e||1!==e.nodeType)},T.isArray=w||function(e){return"[object Array]"==c.call(e)},T.isObject=function(e){return e===Object(e)},S(["Arguments","Function","String","Number","Date","RegExp"],function(e){T["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}}),T.isArguments(arguments)||(T.isArguments=function(e){return!(!e||!T.has(e,"callee"))}),"function"!=typeof/./&&(T.isFunction=function(e){return"function"==typeof e}),T.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},T.isNaN=function(e){return T.isNumber(e)&&e!=+e},T.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},T.isNull=function(e){return null===e},T.isUndefined=function(e){return void 0===e},T.has=function(e,t){return d.call(e,t)},T.noConflict=function(){return e._=n,this},T.identity=function(e){return e},T.times=function(e,t,n){for(var r=Array(Math.max(0,e)),i=0;e>i;i++)r[i]=t.call(n,i);return r},T.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var A={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};A.unescape=T.invert(A.escape);var N={escape:new RegExp("["+T.keys(A.escape).join("")+"]","g"),unescape:new RegExp("("+T.keys(A.unescape).join("|")+")","g")};T.each(["escape","unescape"],function(e){T[e]=function(t){return null==t?"":(""+t).replace(N[e],function(t){return A[e][t]})}}),T.result=function(e,t){if(null==e)return void 0;var n=e[t];return T.isFunction(n)?n.call(e):n},T.mixin=function(e){S(T.functions(e),function(t){var n=T[t]=e[t];T.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),B.call(this,n.apply(T,e))}})};var O=0;T.uniqueId=function(e){var t=++O+"";return e?e+t:t},T.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Y=/(.)^/,j={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},R=/\\|'|\r|\n|\t|\u2028|\u2029/g;T.template=function(e,t,n){var r;n=T.defaults({},n,T.templateSettings);var i=new RegExp([(n.escape||Y).source,(n.interpolate||Y).source,(n.evaluate||Y).source].join("|")+"|$","g"),o=0,a="__p+='";e.replace(i,function(t,n,r,i,s){return a+=e.slice(o,s).replace(R,function(e){return"\\"+j[e]}),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(a+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(a+="';\n"+i+"\n__p+='"),o=s+t.length,t}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(n.variable||"obj","_",a)}catch(s){throw s.source=a,s}if(t)return r(t,T);var l=function(e){return r.call(this,e,T)};return l.source="function("+(n.variable||"obj")+"){\n"+a+"}",l},T.chain=function(e){return T(e).chain()};var B=function(e){return this._chain?T(e).chain():e};T.mixin(T),S(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];T.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],B.call(this,n)}}),S(["concat","join","slice"],function(e){var t=i[e];T.prototype[e]=function(){return B.call(this,t.apply(this._wrapped,arguments))}}),T.extend(T.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)}.call(this),function(){e=t._}.call(this),"undefined"==typeof Package&&(Package={}),Package.underscore={_:e}}(),function(){var e,t=Package.underscore._;(function(){e={isClient:!0,isServer:!1},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.PUBLIC_SETTINGS&&(e.settings={"public":__meteor_runtime_config__.PUBLIC_SETTINGS})}).call(this),function(){if(e.isServer)var n=Npm.require("fibers/future");"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.meteorRelease&&(e.release=__meteor_runtime_config__.meteorRelease),t.extend(e,{_get:function(e){for(var t=1;t<arguments.length;t++){if(!(arguments[t]in e))return void 0;e=e[arguments[t]]}return e},_ensure:function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];n in e||(e[n]={}),e=e[n]}return e},_delete:function(e){for(var t=[e],n=!0,r=1;r<arguments.length-1;r++){var i=arguments[r];if(!(i in e)){n=!1;break}if(e=e[i],"object"!=typeof e)break;t.push(e)}for(var r=t.length-1;r>=0;r--){var i=arguments[r+1];if(n)n=!1;else for(var o in t[r][i])return;delete t[r][i]}},_wrapAsync:function(r){return function(){for(var i,o,a=this,s=t.toArray(arguments),l=function(t){return t?e._debug("Exception in callback of async function",t.stack?t.stack:t):void 0};s.length>0&&"undefined"==typeof s[s.length-1];)s.pop();s.length>0&&s[s.length-1]instanceof Function?i=s.pop():e.isClient?i=l:(o=new n,i=o.resolver()),s.push(e.bindEnvironment(i,l));var u=r.apply(a,s);return o?o.wait():u}}})}.call(this),function(){"use strict";function t(){if(i.setImmediate){var e=function(e){i.setImmediate(e)};return e.implementation="setImmediate",e}return null}function n(){function e(e,t){return"string"==typeof e&&e.substring(0,t.length)===t}function t(t){if(t.source===i&&e(t.data,s)){var n=t.data.substring(s.length);try{a[n]&&a[n]()}finally{delete a[n]}}}if(!i.postMessage||i.importScripts)return null;var n=!0,r=i.onmessage;if(i.onmessage=function(){n=!1},i.postMessage("","*"),i.onmessage=r,!n)return null;var o=0,a={},s="Meteor._setImmediate."+Math.random()+".";i.addEventListener?i.addEventListener("message",t,!1):i.attachEvent("onmessage",t);var l=function(e){++o,a[o]=e,i.postMessage(s+o,"*")};return l.implementation="postMessage",l}function r(){var e=function(e){i.setTimeout(e,0)};return e.implementation="setTimeout",e}var i=this;e._setImmediate=t()||n()||r()}.call(this),function(){var n=function(e){if(Package.livedata){var t=Package.livedata.DDP._CurrentInvocation;if(t.get()&&t.get().isSimulation)throw new Error("Can't set timers inside simulations");return function(){t.withValue(null,e)}}return e},r=function(t,r){return e.bindEnvironment(n(r),function(n){e._debug("Exception from "+t+":",n,n.stack)})};t.extend(e,{setTimeout:function(e,t){return setTimeout(r("setTimeout callback",e),t)},setInterval:function(e,t){return setInterval(r("setInterval callback",e),t)},clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)},defer:function(t){e._setImmediate(r("defer callback",t))}})}.call(this),function(){var t=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};e.makeErrorType=function(e,n){var r=function(){var t=this;if(Error.captureStackTrace)Error.captureStackTrace(t,r);else{var i=new Error;i.__proto__=r.prototype,i instanceof r&&(t=i)}return n.apply(t,arguments),t.errorType=e,t};return t(r,Error),r},e.Error=e.makeErrorType("Meteor.Error",function(e,t,n){var r=this;r.error=e,r.reason=t,r.details=n,r.message=r.reason?r.reason+" ["+r.error+"]":"["+r.error+"]"})}.call(this),function(){e._noYieldsAllowed=function(e){return e()},e._SynchronousQueue=function(){var e=this;e._tasks=[],e._running=!1},t.extend(e._SynchronousQueue.prototype,{runTask:function(n){var r=this;if(!r.safeToRunTask())throw new Error("Could not synchronously run a task from a running task");r._tasks.push(n);var i=r._tasks;r._tasks=[],r._running=!0;try{for(;!t.isEmpty(i);){var o=i.shift();try{o()}catch(a){if(t.isEmpty(i))throw a;e._debug("Exception in queued task: "+a.stack)}}}finally{r._running=!1}},queueTask:function(e){var n=this,r=t.isEmpty(n._tasks);n._tasks.push(e),r&&setTimeout(t.bind(n.flush,n),0)},flush:function(){var e=this;e.runTask(function(){})},drain:function(){var e=this;if(e.safeToRunTask())for(;!t.isEmpty(e._tasks);)e.flush()},safeToRunTask:function(){var e=this;return!e._running}})}.call(this),function(){var t=[],n="loaded"===document.readyState||"complete"==document.readyState,r=function(){for(n=!0;t.length;)t.shift()()};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&r()}),window.attachEvent("load",r)),e.startup=function(r){var i=!document.addEventListener&&document.documentElement.doScroll;if(i&&window===top){try{i("left")}catch(o){return setTimeout(function(){e.startup(r)},50),void 0}r()}else n?r():t.push(r)}}.call(this),function(){var t=0;e._debug=function(){if(t)return t--,void 0;if("undefined"!=typeof console&&"undefined"!=typeof console.log)if(0==arguments.length)console.log("");else if("function"==typeof console.log.apply){for(var e=!0,n=0;n<arguments.length;n++)"string"!=typeof arguments[n]&&(e=!1);e?console.log.apply(console,[Array.prototype.join.call(arguments," ")]):console.log.apply(console,arguments)}else if("function"==typeof Function.prototype.bind){var r=Function.prototype.bind.call(console.log,console);r.apply(console,arguments)}else Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))},e._suppress_log=function(e){t+=e}}.call(this),function(){var n=0,r=[];e.EnvironmentVariable=function(){this.slot=n++},t.extend(e.EnvironmentVariable.prototype,{get:function(){return r[this.slot]},withValue:function(e,t){var n=r[this.slot];try{r[this.slot]=e;var i=t()}finally{r[this.slot]=n}return i}}),e.bindEnvironment=function(e,n,i){var o=t.clone(r);if(!n)throw new Error("onException must be supplied");return function(){var a=r;try{r=o;var s=e.apply(i,t.toArray(arguments))}catch(l){n(l)}finally{r=a}return s}}}.call(this),function(){e.absoluteUrl=function(n,r){r||"object"!=typeof n||(r=n,n=void 0),r=t.extend({},e.absoluteUrl.defaultOptions,r||{});var i=r.rootUrl;if(!i)throw new Error("Must pass options.rootUrl or set ROOT_URL in the server environment");return/^http[s]?:\/\//i.test(i)||(i="http://"+i),/\/$/.test(i)||(i+="/"),n&&(i+=n),r.secure&&/^http:/.test(i)&&!/http:\/\/localhost[:\/]/.test(i)&&!/http:\/\/127\.0\.0\.1[:\/]/.test(i)&&(i=i.replace(/^http:/,"https:")),r.replaceLocalhost&&(i=i.replace(/^http:\/\/localhost([:\/].*)/,"http://127.0.0.1$1")),i},e.absoluteUrl.defaultOptions={},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.ROOT_URL&&(e.absoluteUrl.defaultOptions.rootUrl=__meteor_runtime_config__.ROOT_URL),e._relativeToSiteRootUrl=function(e){return"object"==typeof __meteor_runtime_config__&&"/"===e.substr(0,1)&&(e=(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX||"")+e),e}}.call(this),"undefined"==typeof Package&&(Package={}),Package.meteor={Meteor:e}}(),function(){Package.meteor.Meteor;var e,t;(function(){!function(e,t){function n(e){var t=ht[e]={};return Q.each(e.split(tt),function(e,n){t[n]=!0}),t}function r(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(gt,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:mt.test(r)?Q.parseJSON(r):r}catch(o){}Q.data(e,n,r)}else r=t}return r}function i(e){var t;for(t in e)if(("data"!==t||!Q.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function o(){return!1}function a(){return!0}function s(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function l(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function u(e,t,n){if(t=t||0,Q.isFunction(t))return Q.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return Q.grep(e,function(e){return e===t===n});if("string"==typeof t){var r=Q.grep(e,function(e){return 1===e.nodeType});if(Yt.test(t))return Q.filter(t,r,!n);t=Q.filter(t,r)}return Q.grep(e,function(e){return Q.inArray(e,t)>=0===n})}function c(e){var t=Bt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function d(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function f(e,t){if(1===t.nodeType&&Q.hasData(e)){var n,r,i,o=Q._data(e),a=Q._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)Q.event.add(t,n,s[n][r])}a.data&&(a.data=Q.extend({},a.data))}}function p(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),Q.support.html5Clone&&e.innerHTML&&!Q.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Kt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.selected=e.defaultSelected:"input"===n||"textarea"===n?t.defaultValue=e.defaultValue:"script"===n&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(Q.expando))}function h(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function m(e){Kt.test(e.type)&&(e.defaultChecked=e.checked)}function g(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=_n.length;i--;)if(t=_n[i]+n,t in e)return t;return r}function v(e,t){return e=t||e,"none"===Q.css(e,"display")||!Q.contains(e.ownerDocument,e)}function _(e,t){for(var n,r,i=[],o=0,a=e.length;a>o;o++)n=e[o],n.style&&(i[o]=Q._data(n,"olddisplay"),t?(i[o]||"none"!==n.style.display||(n.style.display=""),""===n.style.display&&v(n)&&(i[o]=Q._data(n,"olddisplay",k(n.nodeName)))):(r=nn(n,"display"),i[o]||"none"===r||Q._data(n,"olddisplay",r)));for(o=0;a>o;o++)n=e[o],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?i[o]||"":"none"));return e}function y(e,t,n){var r=dn.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function b(e,t,n,r){for(var i=n===(r?"border":"content")?4:"width"===t?1:0,o=0;4>i;i+=2)"margin"===n&&(o+=Q.css(e,n+vn[i],!0)),r?("content"===n&&(o-=parseFloat(nn(e,"padding"+vn[i]))||0),"margin"!==n&&(o-=parseFloat(nn(e,"border"+vn[i]+"Width"))||0)):(o+=parseFloat(nn(e,"padding"+vn[i]))||0,"padding"!==n&&(o+=parseFloat(nn(e,"border"+vn[i]+"Width"))||0));return o}function w(e,t,n){var r="width"===t?e.offsetWidth:e.offsetHeight,i=!0,o=Q.support.boxSizing&&"border-box"===Q.css(e,"boxSizing");if(0>=r||null==r){if(r=nn(e,t),(0>r||null==r)&&(r=e.style[t]),fn.test(r))return r;i=o&&(Q.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+b(e,t,n||(o?"border":"content"),i)+"px"}function k(e){if(hn[e])return hn[e];var t=Q("<"+e+">").appendTo(U.body),n=t.css("display");return t.remove(),("none"===n||""===n)&&(rn=U.body.appendChild(rn||Q.extend(U.createElement("iframe"),{frameBorder:0,width:0,height:0})),on&&rn.createElement||(on=(rn.contentWindow||rn.contentDocument).document,on.write("<!doctype html><html><body>"),on.close()),t=on.body.appendChild(on.createElement(e)),n=nn(t,"display"),U.body.removeChild(rn)),hn[e]=n,n}function M(e,t,n,r){var i;if(Q.isArray(t))Q.each(t,function(t,i){n||wn.test(e)?r(e,i):M(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==Q.type(t))r(e,t);else for(i in t)M(e+"["+i+"]",t[i],n,r)}function T(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i,o,a=t.toLowerCase().split(tt),s=0,l=a.length;if(Q.isFunction(n))for(;l>s;s++)r=a[s],o=/^\+/.test(r),o&&(r=r.substr(1)||"*"),i=e[r]=e[r]||[],i[o?"unshift":"push"](n)}}function S(e,n,r,i,o,a){o=o||n.dataTypes[0],a=a||{},a[o]=!0;for(var s,l=e[o],u=0,c=l?l.length:0,d=e===jn;c>u&&(d||!s);u++)s=l[u](n,r,i),"string"==typeof s&&(!d||a[s]?s=t:(n.dataTypes.unshift(s),s=S(e,n,r,i,s,a)));return!d&&s||a["*"]||(s=S(e,n,r,i,"*",a)),s}function x(e,n){var r,i,o=Q.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((o[r]?e:i||(i={}))[r]=n[r]);i&&Q.extend(!0,e,i)}function E(e,n,r){var i,o,a,s,l=e.contents,u=e.dataTypes,c=e.responseFields;for(o in c)o in r&&(n[c[o]]=r[o]);for(;"*"===u[0];)u.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("content-type"));if(i)for(o in l)if(l[o]&&l[o].test(i)){u.unshift(o);break}if(u[0]in r)a=u[0];else{for(o in r){if(!u[0]||e.converters[o+" "+u[0]]){a=o;break}s||(s=o)}a=a||s}return a?(a!==u[0]&&u.unshift(a),r[a]):void 0}function L(e,t){var n,r,i,o,a=e.dataTypes.slice(),s=a[0],l={},u=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a[1])for(n in e.converters)l[n.toLowerCase()]=e.converters[n];for(;i=a[++u];)if("*"!==i){if("*"!==s&&s!==i){if(n=l[s+" "+i]||l["* "+i],!n)for(r in l)if(o=r.split(" "),o[1]===i&&(n=l[s+" "+o[0]]||l["* "+o[0]])){n===!0?n=l[r]:l[r]!==!0&&(i=o[0],a.splice(u--,0,i));break}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(c){return{state:"parsererror",error:n?c:"No conversion from "+s+" to "+i}}}s=i}return{state:"success",data:t}}function D(){try{return new e.XMLHttpRequest}catch(t){}}function C(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function P(){return setTimeout(function(){Jn=t},0),Jn=Q.now()}function I(e,t){Q.each(t,function(t,n){for(var r=(er[t]||[]).concat(er["*"]),i=0,o=r.length;o>i;i++)if(r[i].call(e,t,n))return})}function A(e,t,n){var r,i=0,o=Zn.length,a=Q.Deferred().always(function(){delete s.elem}),s=function(){for(var t=Jn||P(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),i=0,o=l.tweens.length;o>i;i++)l.tweens[i].run(r);return a.notifyWith(e,[l,r,n]),1>r&&o?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:Q.extend({},t),opts:Q.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Jn||P(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Q.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){for(var n=0,r=t?l.tweens.length:0;r>n;n++)l.tweens[n].run(1);return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),this}}),u=l.props;for(N(u,l.opts.specialEasing);o>i;i++)if(r=Zn[i].call(l,e,u,l.opts))return r;return I(l,u),Q.isFunction(l.opts.start)&&l.opts.start.call(e,l),Q.fx.timer(Q.extend(s,{anim:l,queue:l.opts.queue,elem:e})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function N(e,t){var n,r,i,o,a;for(n in e)if(r=Q.camelCase(n),i=t[r],o=e[n],Q.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=Q.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function O(e,t,n){var r,i,o,a,s,l,u,c,d=this,f=e.style,p={},h=[],m=e.nodeType&&v(e);n.queue||(u=Q._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,c=u.empty.fire,u.empty.fire=function(){u.unqueued||c()}),u.unqueued++,d.always(function(){d.always(function(){u.unqueued--,Q.queue(e,"fx").length||u.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===Q.css(e,"display")&&"none"===Q.css(e,"float")&&(Q.support.inlineBlockNeedsLayout&&"inline"!==k(e.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",Q.support.shrinkWrapBlocks||d.done(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(r in t)if(o=t[r],Gn.exec(o)){if(delete t[r],o===(m?"hide":"show"))continue;h.push(r)}if(a=h.length)for(s=Q._data(e,"fxshow")||Q._data(e,"fxshow",{}),m?Q(e).show():d.done(function(){Q(e).hide()}),d.done(function(){var t;Q.removeData(e,"fxshow",!0);for(t in p)Q.style(e,t,p[t])}),r=0;a>r;r++)i=h[r],l=d.createTween(i,m?s[i]:0),p[i]=s[i]||Q.style(e,i),i in s||(s[i]=l.start,m&&(l.end=l.start,l.start="width"===i||"height"===i?1:0))}function Y(e,t,n,r,i){return new Y.prototype.init(e,t,n,r,i)}function j(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=vn[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function R(e){return Q.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var B,F,U=e.document,$=e.location,H=e.navigator,q=e.jQuery,V=e.$,z=Array.prototype.push,W=Array.prototype.slice,J=Array.prototype.indexOf,K=Object.prototype.toString,G=Object.prototype.hasOwnProperty,X=String.prototype.trim,Q=function(e,t){return new Q.fn.init(e,t,B)},Z=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,et=/\S/,tt=/\s+/,nt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rt=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,it=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ot=/^[\],:{}\s]*$/,at=/(?:^|:|,)(?:\s*\[)+/g,st=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,lt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ut=/^-ms-/,ct=/-([\da-z])/gi,dt=function(e,t){return(t+"").toUpperCase()},ft=function(){U.addEventListener?(U.removeEventListener("DOMContentLoaded",ft,!1),Q.ready()):"complete"===U.readyState&&(U.detachEvent("onreadystatechange",ft),Q.ready())},pt={};Q.fn=Q.prototype={constructor:Q,init:function(e,n,r){var i,o,a;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:rt.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1])return n=n instanceof Q?n[0]:n,a=n&&n.nodeType?n.ownerDocument||n:U,e=Q.parseHTML(i[1],a,!0),it.test(i[1])&&Q.isPlainObject(n)&&this.attr.call(e,n,!0),Q.merge(this,e);if(o=U.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=U,this.selector=e,this}return Q.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),Q.makeArray(e,this))},selector:"",jquery:"1.8.2",length:0,size:function(){return this.length},toArray:function(){return W.call(this)
},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=Q.merge(this.constructor(),e);return r.prevObject=this,r.context=this.context,"find"===t?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return Q.each(this,e,t)},ready:function(e){return Q.ready.promise().done(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(W.apply(this,arguments),"slice",W.call(arguments).join(","))},map:function(e){return this.pushStack(Q.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:z,sort:[].sort,splice:[].splice},Q.fn.init.prototype=Q.fn,Q.extend=Q.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||Q.isFunction(s)||(s={}),u===l&&(s=this,--l);u>l;l++)if(null!=(e=arguments[l]))for(n in e)r=s[n],i=e[n],s!==i&&(c&&i&&(Q.isPlainObject(i)||(o=Q.isArray(i)))?(o?(o=!1,a=r&&Q.isArray(r)?r:[]):a=r&&Q.isPlainObject(r)?r:{},s[n]=Q.extend(c,a,i)):i!==t&&(s[n]=i));return s},Q.extend({noConflict:function(t){return e.$===Q&&(e.$=V),t&&e.jQuery===Q&&(e.jQuery=q),Q},isReady:!1,readyWait:1,holdReady:function(e){e?Q.readyWait++:Q.ready(!0)},ready:function(e){if(e===!0?!--Q.readyWait:!Q.isReady){if(!U.body)return setTimeout(Q.ready,1);Q.isReady=!0,e!==!0&&--Q.readyWait>0||(F.resolveWith(U,[Q]),Q.fn.trigger&&Q(U).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===Q.type(e)},isArray:Array.isArray||function(e){return"array"===Q.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):pt[K.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==Q.type(e)||e.nodeType||Q.isWindow(e))return!1;try{if(e.constructor&&!G.call(e,"constructor")&&!G.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||G.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var r;return e&&"string"==typeof e?("boolean"==typeof t&&(n=t,t=0),t=t||U,(r=it.exec(e))?[t.createElement(r[1])]:(r=Q.buildFragment([e],t,n?null:[]),Q.merge([],(r.cacheable?Q.clone(r.fragment):r.fragment).childNodes))):null},parseJSON:function(t){return t&&"string"==typeof t?(t=Q.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):ot.test(t.replace(st,"@").replace(lt,"]").replace(at,""))?new Function("return "+t)():(Q.error("Invalid JSON: "+t),void 0)):null},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||Q.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&et.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ut,"ms-").replace(ct,dt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,r){var i,o=0,a=e.length,s=a===t||Q.isFunction(e);if(r)if(s){for(i in e)if(n.apply(e[i],r)===!1)break}else for(;a>o&&n.apply(e[o++],r)!==!1;);else if(s){for(i in e)if(n.call(e[i],i,e[i])===!1)break}else for(;a>o&&n.call(e[o],o,e[o++])!==!1;);return e},trim:X&&!X.call("﻿ ")?function(e){return null==e?"":X.call(e)}:function(e){return null==e?"":(e+"").replace(nt,"")},makeArray:function(e,t){var n,r=t||[];return null!=e&&(n=Q.type(e),null==e.length||"string"===n||"function"===n||"regexp"===n||Q.isWindow(e)?z.call(r,e):Q.merge(r,e)),r},inArray:function(e,t,n){var r;if(t){if(J)return J.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;r>o;o++)e[i++]=n[o];else for(;n[o]!==t;)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,n,r){var i,o,a=[],s=0,l=e.length,u=e instanceof Q||l!==t&&"number"==typeof l&&(l>0&&e[0]&&e[l-1]||0===l||Q.isArray(e));if(u)for(;l>s;s++)i=n(e[s],s,r),null!=i&&(a[a.length]=i);else for(o in e)i=n(e[o],o,r),null!=i&&(a[a.length]=i);return a.concat.apply([],a)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(r=e[n],n=e,e=r),Q.isFunction(e)?(i=W.call(arguments,2),o=function(){return e.apply(n,i.concat(W.call(arguments)))},o.guid=e.guid=e.guid||Q.guid++,o):t},access:function(e,n,r,i,o,a,s){var l,u=null==r,c=0,d=e.length;if(r&&"object"==typeof r){for(c in r)Q.access(e,n,c,r[c],1,a,i);o=1}else if(i!==t){if(l=s===t&&Q.isFunction(i),u&&(l?(l=n,n=function(e,t,n){return l.call(Q(e),n)}):(n.call(e,i),n=null)),n)for(;d>c;c++)n(e[c],r,l?i.call(e[c],c,n(e[c],r)):i,s);o=1}return o?e:u?n.call(e):d?n(e[0],r):a},now:function(){return(new Date).getTime()}}),Q.ready.promise=function(t){if(!F)if(F=Q.Deferred(),"complete"===U.readyState)setTimeout(Q.ready,1);else if(U.addEventListener)U.addEventListener("DOMContentLoaded",ft,!1),e.addEventListener("load",Q.ready,!1);else{U.attachEvent("onreadystatechange",ft),e.attachEvent("onload",Q.ready);var n=!1;try{n=null==e.frameElement&&U.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!Q.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}Q.ready()}}()}return F.promise(t)},Q.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){pt["[object "+t+"]"]=t.toLowerCase()}),B=Q(U);var ht={};Q.Callbacks=function(e){e="string"==typeof e?ht[e]||n(e):Q.extend({},e);var r,i,o,a,s,l,u=[],c=!e.once&&[],d=function(t){for(r=e.memory&&t,i=!0,l=a||0,a=0,s=u.length,o=!0;u&&s>l;l++)if(u[l].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}o=!1,u&&(c?c.length&&d(c.shift()):r?u=[]:f.disable())},f={add:function(){if(u){var t=u.length;!function n(t){Q.each(t,function(t,r){var i=Q.type(r);"function"!==i||e.unique&&f.has(r)?r&&r.length&&"string"!==i&&n(r):u.push(r)})}(arguments),o?s=u.length:r&&(a=t,d(r))}return this},remove:function(){return u&&Q.each(arguments,function(e,t){for(var n;(n=Q.inArray(t,u,n))>-1;)u.splice(n,1),o&&(s>=n&&s--,l>=n&&l--)}),this},has:function(e){return Q.inArray(e,u)>-1},empty:function(){return u=[],this},disable:function(){return u=c=r=t,this},disabled:function(){return!u},lock:function(){return c=t,r||f.disable(),this},locked:function(){return!c},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!u||i&&!c||(o?c.push(t):d(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!i}};return f},Q.extend({Deferred:function(e){var t=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Q.Deferred(function(n){Q.each(t,function(t,r){var o=r[0],a=e[t];i[r[1]](Q.isFunction(a)?function(){var e=a.apply(this,arguments);e&&Q.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===i?n:this,[e])}:n[o])}),e=null}).promise()},promise:function(e){return null!=e?Q.extend(e,r):r}},i={};return r.pipe=r.then,Q.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=a.fire,i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=W.call(arguments),a=o.length,s=1!==a||e&&Q.isFunction(e.promise)?a:0,l=1===s?e:Q.Deferred(),u=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?W.call(arguments):i,r===t?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&Q.isFunction(o[i].promise)?o[i].promise().done(u(i,r,o)).fail(l.reject).progress(u(i,n,t)):--s;return s||l.resolveWith(r,o),l.promise()}}),Q.support=function(){var t,n,r,i,o,a,s,l,u,c,d,f=U.createElement("div");if(f.setAttribute("className","t"),f.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=f.getElementsByTagName("*"),r=f.getElementsByTagName("a")[0],r.style.cssText="top:1px;float:left;opacity:.5",!n||!n.length)return{};i=U.createElement("select"),o=i.appendChild(U.createElement("option")),a=f.getElementsByTagName("input")[0],t={leadingWhitespace:3===f.firstChild.nodeType,tbody:!f.getElementsByTagName("tbody").length,htmlSerialize:!!f.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:"on"===a.value,optSelected:o.selected,getSetAttribute:"t"!==f.className,enctype:!!U.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==U.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===U.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,i.disabled=!0,t.optDisabled=!o.disabled;try{delete f.test}catch(p){t.deleteExpando=!1}if(!f.addEventListener&&f.attachEvent&&f.fireEvent&&(f.attachEvent("onclick",d=function(){t.noCloneEvent=!1}),f.cloneNode(!0).fireEvent("onclick"),f.detachEvent("onclick",d)),a=U.createElement("input"),a.value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","checked"),a.setAttribute("name","t"),f.appendChild(a),s=U.createDocumentFragment(),s.appendChild(f.lastChild),t.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=a.checked,s.removeChild(a),s.appendChild(f),f.attachEvent)for(u in{submit:!0,change:!0,focusin:!0})l="on"+u,c=l in f,c||(f.setAttribute(l,"return;"),c="function"==typeof f[l]),t[u+"Bubbles"]=c;return Q(function(){var n,r,i,o,a="padding:0;margin:0;border:0;display:block;overflow:hidden;",s=U.getElementsByTagName("body")[0];s&&(n=U.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",s.insertBefore(n,s.firstChild),r=U.createElement("div"),n.appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=r.getElementsByTagName("td"),i[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===i[0].offsetHeight,i[0].style.display="",i[1].style.display="none",t.reliableHiddenOffsets=c&&0===i[0].offsetHeight,r.innerHTML="",r.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===r.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==s.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(r,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(r,null)||{width:"4px"}).width,o=U.createElement("div"),o.style.cssText=r.style.cssText=a,o.style.marginRight=o.style.width="0",r.style.width="1px",r.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),"undefined"!=typeof r.style.zoom&&(r.innerHTML="",r.style.cssText=a+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===r.offsetWidth,r.style.display="block",r.style.overflow="visible",r.innerHTML="<div></div>",r.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==r.offsetWidth,n.style.zoom=1),s.removeChild(n),n=r=i=o=null)}),s.removeChild(f),n=r=i=o=a=s=f=null,t}();var mt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,gt=/([A-Z])/g;Q.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(Q.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?Q.cache[e[Q.expando]]:e[Q.expando],!!e&&!i(e)},data:function(e,n,r,i){if(Q.acceptData(e)){var o,a,s=Q.expando,l="string"==typeof n,u=e.nodeType,c=u?Q.cache:e,d=u?e[s]:e[s]&&s;if(d&&c[d]&&(i||c[d].data)||!l||r!==t)return d||(u?e[s]=d=Q.deletedIds.pop()||Q.guid++:d=s),c[d]||(c[d]={},u||(c[d].toJSON=Q.noop)),("object"==typeof n||"function"==typeof n)&&(i?c[d]=Q.extend(c[d],n):c[d].data=Q.extend(c[d].data,n)),o=c[d],i||(o.data||(o.data={}),o=o.data),r!==t&&(o[Q.camelCase(n)]=r),l?(a=o[n],null==a&&(a=o[Q.camelCase(n)])):a=o,a}},removeData:function(e,t,n){if(Q.acceptData(e)){var r,o,a,s=e.nodeType,l=s?Q.cache:e,u=s?e[Q.expando]:Q.expando;if(l[u]){if(t&&(r=n?l[u]:l[u].data)){Q.isArray(t)||(t in r?t=[t]:(t=Q.camelCase(t),t=t in r?[t]:t.split(" ")));for(o=0,a=t.length;a>o;o++)delete r[t[o]];if(!(n?i:Q.isEmptyObject)(r))return}(n||(delete l[u].data,i(l[u])))&&(s?Q.cleanData([e],!0):Q.support.deleteExpando||l!=l.window?delete l[u]:l[u]=null)}}},_data:function(e,t,n){return Q.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&Q.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),Q.fn.extend({data:function(e,n){var i,o,a,s,l,u=this[0],c=0,d=null;if(e===t){if(this.length&&(d=Q.data(u),1===u.nodeType&&!Q._data(u,"parsedAttrs"))){for(a=u.attributes,l=a.length;l>c;c++)s=a[c].name,s.indexOf("data-")||(s=Q.camelCase(s.substring(5)),r(u,s,d[s]));Q._data(u,"parsedAttrs",!0)}return d}return"object"==typeof e?this.each(function(){Q.data(this,e)}):(i=e.split(".",2),i[1]=i[1]?"."+i[1]:"",o=i[1]+"!",Q.access(this,function(n){return n===t?(d=this.triggerHandler("getData"+o,[i[0]]),d===t&&u&&(d=Q.data(u,e),d=r(u,e,d)),d===t&&i[1]?this.data(i[0]):d):(i[1]=n,this.each(function(){var t=Q(this);t.triggerHandler("setData"+o,i),Q.data(this,e,n),t.triggerHandler("changeData"+o,i)}),void 0)},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){Q.removeData(this,e)})}}),Q.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=Q._data(e,t),n&&(!r||Q.isArray(n)?r=Q._data(e,t,Q.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Q.queue(e,t),r=n.length,i=n.shift(),o=Q._queueHooks(e,t),a=function(){Q.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Q._data(e,n)||Q._data(e,n,{empty:Q.Callbacks("once memory").add(function(){Q.removeData(e,t+"queue",!0),Q.removeData(e,n,!0)})})}}),Q.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),arguments.length<r?Q.queue(this[0],e):n===t?this:this.each(function(){var t=Q.queue(this,e,n);Q._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&Q.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Q.dequeue(this,e)})},delay:function(e,t){return e=Q.fx?Q.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=Q.Deferred(),a=this,s=this.length,l=function(){--i||o.resolveWith(a,[a])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)r=Q._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(l));return l(),o.promise(n)}});var vt,_t,yt,bt=/[\t\r\n]/g,wt=/\r/g,kt=/^(?:button|input)$/i,Mt=/^(?:button|input|object|select|textarea)$/i,Tt=/^a(?:rea|)$/i,St=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,xt=Q.support.getSetAttribute;Q.fn.extend({attr:function(e,t){return Q.access(this,Q.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Q.removeAttr(this,e)})},prop:function(e,t){return Q.access(this,Q.prop,e,t,arguments.length>1)},removeProp:function(e){return e=Q.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a,s;if(Q.isFunction(e))return this.each(function(t){Q(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(tt),n=0,r=this.length;r>n;n++)if(i=this[n],1===i.nodeType)if(i.className||1!==t.length){for(o=" "+i.className+" ",a=0,s=t.length;s>a;a++)o.indexOf(" "+t[a]+" ")<0&&(o+=t[a]+" ");i.className=Q.trim(o)}else i.className=e;return this},removeClass:function(e){var n,r,i,o,a,s,l;if(Q.isFunction(e))return this.each(function(t){Q(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(n=(e||"").split(tt),s=0,l=this.length;l>s;s++)if(i=this[s],1===i.nodeType&&i.className){for(r=(" "+i.className+" ").replace(bt," "),o=0,a=n.length;a>o;o++)for(;r.indexOf(" "+n[o]+" ")>=0;)r=r.replace(" "+n[o]+" "," ");i.className=e?Q.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return Q.isFunction(e)?this.each(function(n){Q(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var i,o=0,a=Q(this),s=t,l=e.split(tt);i=l[o++];)s=r?s:!a.hasClass(i),a[s?"addClass":"removeClass"](i);else("undefined"===n||"boolean"===n)&&(this.className&&Q._data(this,"__className__",this.className),this.className=this.className||e===!1?"":Q._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(bt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=Q.isFunction(e),this.each(function(r){var o,a=Q(this);1===this.nodeType&&(o=i?e.call(this,r,a.val()):e,null==o?o="":"number"==typeof o?o+="":Q.isArray(o)&&(o=Q.map(o,function(e){return null==e?"":e+""})),n=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))});if(o)return n=Q.valHooks[o.type]||Q.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(o,"value"))!==t?r:(r=o.value,"string"==typeof r?r.replace(wt,""):null==r?"":r)}}}),Q.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r,i,o=e.selectedIndex,a=[],s=e.options,l="select-one"===e.type;if(0>o)return null;for(n=l?o:0,r=l?o+1:s.length;r>n;n++)if(i=s[n],!(!i.selected||(Q.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&Q.nodeName(i.parentNode,"optgroup"))){if(t=Q(i).val(),l)return t;a.push(t)}return l&&!a.length&&s.length?Q(s[o]).val():a},set:function(e,t){var n=Q.makeArray(t);return Q(e).find("option").each(function(){this.selected=Q.inArray(Q(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,r,i){var o,a,s,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return i&&Q.isFunction(Q.fn[n])?Q(e)[n](r):"undefined"==typeof e.getAttribute?Q.prop(e,n,r):(s=1!==l||!Q.isXMLDoc(e),s&&(n=n.toLowerCase(),a=Q.attrHooks[n]||(St.test(n)?_t:vt)),r!==t?null===r?(Q.removeAttr(e,n),void 0):a&&"set"in a&&s&&(o=a.set(e,r,n))!==t?o:(e.setAttribute(n,r+""),r):a&&"get"in a&&s&&null!==(o=a.get(e,n))?o:(o=e.getAttribute(n),null===o?t:o))},removeAttr:function(e,t){var n,r,i,o,a=0;if(t&&1===e.nodeType)for(r=t.split(tt);a<r.length;a++)i=r[a],i&&(n=Q.propFix[i]||i,o=St.test(i),o||Q.attr(e,i,""),e.removeAttribute(xt?i:n),o&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(kt.test(e.nodeName)&&e.parentNode)Q.error("type property can't be changed");else if(!Q.support.radioValue&&"radio"===t&&Q.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return vt&&Q.nodeName(e,"button")?vt.get(e,t):t in e?e.value:null},set:function(e,t,n){return vt&&Q.nodeName(e,"button")?vt.set(e,t,n):(e.value=t,void 0)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!Q.isXMLDoc(e),a&&(n=Q.propFix[n]||n,o=Q.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):Mt.test(e.nodeName)||Tt.test(e.nodeName)&&e.href?0:t}}}}),_t={get:function(e,n){var r,i=Q.prop(e,n);return i===!0||"boolean"!=typeof i&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?Q.removeAttr(e,n):(r=Q.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},xt||(yt={name:!0,id:!0,coords:!0},vt=Q.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(yt[n]?""!==r.value:r.specified)?r.value:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=U.createAttribute(n),e.setAttributeNode(r)),r.value=t+""}},Q.each(["width","height"],function(e,t){Q.attrHooks[t]=Q.extend(Q.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})}),Q.attrHooks.contenteditable={get:vt.get,set:function(e,t,n){""===t&&(t="false"),vt.set(e,t,n)}}),Q.support.hrefNormalized||Q.each(["href","src","width","height"],function(e,n){Q.attrHooks[n]=Q.extend(Q.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return null===r?t:r}})}),Q.support.style||(Q.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}}),Q.support.optSelected||(Q.propHooks.selected=Q.extend(Q.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),Q.support.enctype||(Q.propFix.enctype="encoding"),Q.support.checkOn||Q.each(["radio","checkbox"],function(){Q.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]=Q.extend(Q.valHooks[this],{set:function(e,t){return Q.isArray(t)?e.checked=Q.inArray(Q(e).val(),t)>=0:void 0}})});var Et=/^(?:textarea|input|select)$/i,Lt=/^([^\.]*|)(?:\.(.+)|)$/,Dt=/(?:^|\s)hover(\.\S+|)\b/,Ct=/^key/,Pt=/^(?:mouse|contextmenu)|click/,It=/^(?:focusinfocus|focusoutblur)$/,At=function(e){return Q.event.special.hover?e:e.replace(Dt,"mouseenter$1 mouseleave$1")};Q.event={add:function(e,n,r,i,o){var a,s,l,u,c,d,f,p,h,m,g;if(3!==e.nodeType&&8!==e.nodeType&&n&&r&&(a=Q._data(e))){for(r.handler&&(h=r,r=h.handler,o=h.selector),r.guid||(r.guid=Q.guid++),l=a.events,l||(a.events=l={}),s=a.handle,s||(a.handle=s=function(e){return"undefined"==typeof Q||e&&Q.event.triggered===e.type?t:Q.event.dispatch.apply(s.elem,arguments)},s.elem=e),n=Q.trim(At(n)).split(" "),u=0;u<n.length;u++)c=Lt.exec(n[u])||[],d=c[1],f=(c[2]||"").split(".").sort(),g=Q.event.special[d]||{},d=(o?g.delegateType:g.bindType)||d,g=Q.event.special[d]||{},p=Q.extend({type:d,origType:c[1],data:i,handler:r,guid:r.guid,selector:o,needsContext:o&&Q.expr.match.needsContext.test(o),namespace:f.join(".")},h),m=l[d],m||(m=l[d]=[],m.delegateCount=0,g.setup&&g.setup.call(e,i,f,s)!==!1||(e.addEventListener?e.addEventListener(d,s,!1):e.attachEvent&&e.attachEvent("on"+d,s))),g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),o?m.splice(m.delegateCount++,0,p):m.push(p),Q.event.global[d]=!0;e=null}},global:{},remove:function(e,t,n,r,i){var o,a,s,l,u,c,d,f,p,h,m,g=Q.hasData(e)&&Q._data(e);if(g&&(f=g.events)){for(t=Q.trim(At(t||"")).split(" "),o=0;o<t.length;o++)if(a=Lt.exec(t[o])||[],s=l=a[1],u=a[2],s){for(p=Q.event.special[s]||{},s=(r?p.delegateType:p.bindType)||s,h=f[s]||[],c=h.length,u=u?new RegExp("(^|\\.)"+u.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d=0;d<h.length;d++)m=h[d],!i&&l!==m.origType||n&&n.guid!==m.guid||u&&!u.test(m.namespace)||r&&r!==m.selector&&("**"!==r||!m.selector)||(h.splice(d--,1),m.selector&&h.delegateCount--,p.remove&&p.remove.call(e,m));0===h.length&&c!==h.length&&(p.teardown&&p.teardown.call(e,u,g.handle)!==!1||Q.removeEvent(e,s,g.handle),delete f[s])}else for(s in f)Q.event.remove(e,s+t[o],n,r,!0);Q.isEmptyObject(f)&&(delete g.handle,Q.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,i,o){if(!i||3!==i.nodeType&&8!==i.nodeType){var a,s,l,u,c,d,f,p,h,m,g=n.type||n,v=[];if(!It.test(g+Q.event.triggered)&&(g.indexOf("!")>=0&&(g=g.slice(0,-1),s=!0),g.indexOf(".")>=0&&(v=g.split("."),g=v.shift(),v.sort()),i&&!Q.event.customEvent[g]||Q.event.global[g]))if(n="object"==typeof n?n[Q.expando]?n:new Q.Event(g,n):new Q.Event(g),n.type=g,n.isTrigger=!0,n.exclusive=s,n.namespace=v.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d=g.indexOf(":")<0?"on"+g:"",i){if(n.result=t,n.target||(n.target=i),r=null!=r?Q.makeArray(r):[],r.unshift(n),f=Q.event.special[g]||{},!f.trigger||f.trigger.apply(i,r)!==!1){if(h=[[i,f.bindType||g]],!o&&!f.noBubble&&!Q.isWindow(i)){for(m=f.delegateType||g,u=It.test(m+g)?i:i.parentNode,c=i;u;u=u.parentNode)h.push([u,m]),c=u;c===(i.ownerDocument||U)&&h.push([c.defaultView||c.parentWindow||e,m])}for(l=0;l<h.length&&!n.isPropagationStopped();l++)u=h[l][0],n.type=h[l][1],p=(Q._data(u,"events")||{})[n.type]&&Q._data(u,"handle"),p&&p.apply(u,r),p=d&&u[d],p&&Q.acceptData(u)&&p.apply&&p.apply(u,r)===!1&&n.preventDefault();return n.type=g,o||n.isDefaultPrevented()||f._default&&f._default.apply(i.ownerDocument,r)!==!1||"click"===g&&Q.nodeName(i,"a")||!Q.acceptData(i)||d&&i[g]&&("focus"!==g&&"blur"!==g||0!==n.target.offsetWidth)&&!Q.isWindow(i)&&(c=i[d],c&&(i[d]=null),Q.event.triggered=g,i[g](),Q.event.triggered=t,c&&(i[d]=c)),n.result}}else{a=Q.cache;for(l in a)a[l].events&&a[l].events[g]&&Q.event.trigger(n,r,a[l].handle.elem,!0)}}},dispatch:function(n){n=Q.event.fix(n||e.event);var r,i,o,a,s,l,u,c,d,f=(Q._data(this,"events")||{})[n.type]||[],p=f.delegateCount,h=W.call(arguments),m=!n.exclusive&&!n.namespace,g=Q.event.special[n.type]||{},v=[];if(h[0]=n,n.delegateTarget=this,!g.preDispatch||g.preDispatch.call(this,n)!==!1){if(p&&(!n.button||"click"!==n.type))for(o=n.target;o!=this;o=o.parentNode||this)if(o.disabled!==!0||"click"!==n.type){for(s={},u=[],r=0;p>r;r++)c=f[r],d=c.selector,s[d]===t&&(s[d]=c.needsContext?Q(d,this).index(o)>=0:Q.find(d,this,null,[o]).length),s[d]&&u.push(c);u.length&&v.push({elem:o,matches:u})}for(f.length>p&&v.push({elem:this,matches:f.slice(p)}),r=0;r<v.length&&!n.isPropagationStopped();r++)for(l=v[r],n.currentTarget=l.elem,i=0;i<l.matches.length&&!n.isImmediatePropagationStopped();i++)c=l.matches[i],(m||!n.namespace&&!c.namespace||n.namespace_re&&n.namespace_re.test(c.namespace))&&(n.data=c.data,n.handleObj=c,a=((Q.event.special[c.origType]||{}).handle||c.handler).apply(l.elem,h),a!==t&&(n.result=a,a===!1&&(n.preventDefault(),n.stopPropagation())));return g.postDispatch&&g.postDispatch.call(this,n),n.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,a=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||U,i=r.documentElement,o=r.body,e.pageX=n.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[Q.expando])return e;var t,n,r=e,i=Q.event.fixHooks[e.type]||{},o=i.props?this.props.concat(i.props):this.props;for(e=Q.Event(r),t=o.length;t;)n=o[--t],e[n]=r[n];return e.target||(e.target=r.srcElement||U),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,i.filter?i.filter(e,r):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){Q.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=Q.extend(new Q.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?Q.event.trigger(i,null,t):Q.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},Q.event.handle=Q.event.dispatch,Q.removeEvent=U.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&("undefined"==typeof e[r]&&(e[r]=null),e.detachEvent(r,n))},Q.Event=function(e,t){return this instanceof Q.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?a:o):this.type=e,t&&Q.extend(this,t),this.timeStamp=e&&e.timeStamp||Q.now(),this[Q.expando]=!0,void 0):new Q.Event(e,t)},Q.Event.prototype={preventDefault:function(){this.isDefaultPrevented=a;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=a;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=a,this.stopPropagation()},isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o},Q.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){Q.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return o.selector,(!i||i!==r&&!Q.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),Q.support.submitBubbles||(Q.event.special.submit={setup:function(){return Q.nodeName(this,"form")?!1:(Q.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=Q.nodeName(n,"input")||Q.nodeName(n,"button")?n.form:t;r&&!Q._data(r,"_submit_attached")&&(Q.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),Q._data(r,"_submit_attached",!0))}),void 0)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&Q.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return Q.nodeName(this,"form")?!1:(Q.event.remove(this,"._submit"),void 0)}}),Q.support.changeBubbles||(Q.event.special.change={setup:function(){return Et.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(Q.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),Q.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),Q.event.simulate("change",this,e,!0)})),!1):(Q.event.add(this,"beforeactivate._change",function(e){var t=e.target;Et.test(t.nodeName)&&!Q._data(t,"_change_attached")&&(Q.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||Q.event.simulate("change",this.parentNode,e,!0)}),Q._data(t,"_change_attached",!0))}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return Q.event.remove(this,"._change"),!Et.test(this.nodeName)}}),Q.support.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){Q.event.simulate(t,e.target,Q.event.fix(e),!0)};Q.event.special[t]={setup:function(){0===n++&&U.addEventListener(e,r,!0)
},teardown:function(){0===--n&&U.removeEventListener(e,r,!0)}}}),Q.fn.extend({on:function(e,n,r,i,a){var s,l;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(l in e)this.on(l,n,r,e[l],a);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=o;else if(!i)return this;return 1===a&&(s=i,i=function(e){return Q().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=Q.guid++)),this.each(function(){Q.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,a;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,Q(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(a in e)this.off(a,n,e[a]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=o),this.each(function(){Q.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return Q(this.context).on(e,this.selector,t,n),this},die:function(e,t){return Q(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){Q.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?Q.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,n=e.guid||Q.guid++,r=0,i=function(n){var i=(Q._data(this,"lastToggle"+e.guid)||0)%r;return Q._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};for(i.guid=n;r<t.length;)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Q.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Ct.test(t)&&(Q.event.fixHooks[t]=Q.event.keyHooks),Pt.test(t)&&(Q.event.fixHooks[t]=Q.event.mouseHooks)}),function(e,t){function n(e,t,n,r){n=n||[],t=t||P;var i,o,a,s,l=t.nodeType;if(!e||"string"!=typeof e)return n;if(1!==l&&9!==l)return[];if(a=w(t),!a&&!r&&(i=nt.exec(e)))if(s=i[1]){if(9===l){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&k(t,o)&&o.id===s)return n.push(o),n}else{if(i[2])return Y.apply(n,j.call(t.getElementsByTagName(e),0)),n;if((s=i[3])&&ft&&t.getElementsByClassName)return Y.apply(n,j.call(t.getElementsByClassName(s),0)),n}return m(e.replace(X,"$1"),t,n,r,a)}function r(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function i(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function o(e){return B(function(t){return t=+t,B(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function a(e,t,n){if(e===t)return n;for(var r=e.nextSibling;r;){if(r===t)return-1;r=r.nextSibling}return 1}function s(e,t){var r,i,o,a,s,l,u,c=$[D][e];if(c)return t?0:c.slice(0);for(s=e,l=[],u=y.preFilter;s;){(!r||(i=Z.exec(s)))&&(i&&(s=s.slice(i[0].length)),l.push(o=[])),r=!1,(i=et.exec(s))&&(o.push(r=new C(i.shift())),s=s.slice(r.length),r.type=i[0].replace(X," "));for(a in y.filter)!(i=st[a].exec(s))||u[a]&&!(i=u[a](i,P,!0))||(o.push(r=new C(i.shift())),s=s.slice(r.length),r.type=a,r.matches=i);if(!r)break}return t?s.length:s?n.error(e):$(e,l).slice(0)}function l(e,t,n){var r=t.dir,i=n&&"parentNode"===t.dir,o=N++;return t.first?function(t,n,o){for(;t=t[r];)if(i||1===t.nodeType)return e(t,n,o)}:function(t,n,a){if(a){for(;t=t[r];)if((i||1===t.nodeType)&&e(t,n,a))return t}else for(var s,l=A+" "+o+" ",u=l+v;t=t[r];)if(i||1===t.nodeType){if((s=t[D])===u)return t.sizset;if("string"==typeof s&&0===s.indexOf(l)){if(t.sizset)return t}else{if(t[D]=u,e(t,n,a))return t.sizset=!0,t;t.sizset=!1}}}}function u(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function c(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),u&&t.push(s));return a}function d(e,t,n,r,i,o){return r&&!r[D]&&(r=d(r)),i&&!i[D]&&(i=d(i,o)),B(function(o,a,s,l){if(!o||!i){var u,d,f,p=[],m=[],g=a.length,v=o||h(t||"*",s.nodeType?[s]:s,[],o),_=!e||!o&&t?v:c(v,p,e,s,l),y=n?i||(o?e:g||r)?[]:a:_;if(n&&n(_,y,s,l),r)for(f=c(y,m),r(f,[],s,l),u=f.length;u--;)(d=f[u])&&(y[m[u]]=!(_[m[u]]=d));if(o)for(u=e&&y.length;u--;)(d=y[u])&&(o[p[u]]=!(a[p[u]]=d));else y=c(y===a?y.splice(g,y.length):y),i?i(null,a,y,l):Y.apply(a,y)}})}function f(e){for(var t,n,r,i=e.length,o=y.relative[e[0].type],a=o||y.relative[" "],s=o?1:0,c=l(function(e){return e===t},a,!0),p=l(function(e){return R.call(t,e)>-1},a,!0),h=[function(e,n,r){return!o&&(r||n!==x)||((t=n).nodeType?c(e,n,r):p(e,n,r))}];i>s;s++)if(n=y.relative[e[s].type])h=[l(u(h),n)];else{if(n=y.filter[e[s].type].apply(null,e[s].matches),n[D]){for(r=++s;i>r&&!y.relative[e[r].type];r++);return d(s>1&&u(h),s>1&&e.slice(0,s-1).join("").replace(X,"$1"),n,r>s&&f(e.slice(s,r)),i>r&&f(e=e.slice(r)),i>r&&e.join(""))}h.push(n)}return u(h)}function p(e,t){var r=t.length>0,i=e.length>0,o=function(a,s,l,u,d){var f,p,h,m=[],g=0,_="0",b=a&&[],w=null!=d,k=x,M=a||i&&y.find.TAG("*",d&&s.parentNode||s),T=A+=null==k?1:Math.E;for(w&&(x=s!==P&&s,v=o.el);null!=(f=M[_]);_++){if(i&&f){for(p=0;h=e[p];p++)if(h(f,s,l)){u.push(f);break}w&&(A=T,v=++o.el)}r&&((f=!h&&f)&&g--,a&&b.push(f))}if(g+=_,r&&_!==g){for(p=0;h=t[p];p++)h(b,m,s,l);if(a){if(g>0)for(;_--;)b[_]||m[_]||(m[_]=O.call(u));m=c(m)}Y.apply(u,m),w&&!a&&m.length>0&&g+t.length>1&&n.uniqueSort(u)}return w&&(A=T,x=k),b};return o.el=0,r?B(o):o}function h(e,t,r,i){for(var o=0,a=t.length;a>o;o++)n(e,t[o],r,i);return r}function m(e,t,n,r,i){var o,a,l,u,c,d=s(e);if(d.length,!r&&1===d.length){if(a=d[0]=d[0].slice(0),a.length>2&&"ID"===(l=a[0]).type&&9===t.nodeType&&!i&&y.relative[a[1].type]){if(t=y.find.ID(l.matches[0].replace(at,""),t,i)[0],!t)return n;e=e.slice(a.shift().length)}for(o=st.POS.test(e)?-1:a.length-1;o>=0&&(l=a[o],!y.relative[u=l.type]);o--)if((c=y.find[u])&&(r=c(l.matches[0].replace(at,""),rt.test(a[0].type)&&t.parentNode||t,i))){if(a.splice(o,1),e=r.length&&a.join(""),!e)return Y.apply(n,j.call(r,0)),n;break}}return M(e,d)(r,t,i,n,rt.test(e)),n}function g(){}var v,_,y,b,w,k,M,T,S,x,E=!0,L="undefined",D=("sizcache"+Math.random()).replace(".",""),C=String,P=e.document,I=P.documentElement,A=0,N=0,O=[].pop,Y=[].push,j=[].slice,R=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},B=function(e,t){return e[D]=null==t||t,e},F=function(){var e={},t=[];return B(function(n,r){return t.push(n)>y.cacheLength&&delete e[t.shift()],e[n]=r},e)},U=F(),$=F(),H=F(),q="[\\x20\\t\\r\\n\\f]",V="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",z=V.replace("w","w#"),W="([*^$|!~]?=)",J="\\["+q+"*("+V+")"+q+"*(?:"+W+q+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+z+")|)|)"+q+"*\\]",K=":("+V+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+J+")|[^:]|\\\\.)*|.*))\\)|)",G=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+q+"*((?:-\\d)?\\d*)"+q+"*\\)|)(?=[^-]|$)",X=new RegExp("^"+q+"+|((?:^|[^\\\\])(?:\\\\.)*)"+q+"+$","g"),Z=new RegExp("^"+q+"*,"+q+"*"),et=new RegExp("^"+q+"*([\\x20\\t\\r\\n\\f>+~])"+q+"*"),tt=new RegExp(K),nt=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,rt=/[\x20\t\r\n\f]*[+~]/,it=/h\d/i,ot=/input|select|textarea|button/i,at=/\\(?!\\)/g,st={ID:new RegExp("^#("+V+")"),CLASS:new RegExp("^\\.("+V+")"),NAME:new RegExp("^\\[name=['\"]?("+V+")['\"]?\\]"),TAG:new RegExp("^("+V.replace("w","w*")+")"),ATTR:new RegExp("^"+J),PSEUDO:new RegExp("^"+K),POS:new RegExp(G,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+q+"*(even|odd|(([+-]|)(\\d*)n|)"+q+"*(?:([+-]|)"+q+"*(\\d+)|))"+q+"*\\)|)","i"),needsContext:new RegExp("^"+q+"*[>+~]|"+G,"i")},lt=function(e){var t=P.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},ut=lt(function(e){return e.appendChild(P.createComment("")),!e.getElementsByTagName("*").length}),ct=lt(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==L&&"#"===e.firstChild.getAttribute("href")}),dt=lt(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),ft=lt(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),pt=lt(function(e){e.id=D+0,e.innerHTML="<a name='"+D+"'></a><div name='"+D+"'></div>",I.insertBefore(e,I.firstChild);var t=P.getElementsByName&&P.getElementsByName(D).length===2+P.getElementsByName(D+0).length;return _=!P.getElementById(D),I.removeChild(e),t});try{j.call(I.childNodes,0)[0].nodeType}catch(ht){j=function(e){for(var t,n=[];t=this[e];e++)n.push(t);return n}}n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){return n(t,null,null,[e]).length>0},b=n.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=b(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=b(t);return n},w=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},k=n.contains=I.contains?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&1===r.nodeType&&n.contains&&n.contains(r))}:I.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},n.attr=function(e,t){var n,r=w(e);return r||(t=t.toLowerCase()),(n=y.attrHandle[t])?n(e):r||dt?e.getAttribute(t):(n=e.getAttributeNode(t),n?"boolean"==typeof e[t]?e[t]?t:null:n.specified?n.value:null:null)},y=n.selectors={cacheLength:50,createPseudo:B,match:st,attrHandle:ct?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:_?function(e,t,n){if(typeof t.getElementById!==L&&!n){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}}:function(e,n,r){if(typeof n.getElementById!==L&&!r){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==L&&i.getAttributeNode("id").value===e?[i]:t:[]}},TAG:ut?function(e,t){return typeof t.getElementsByTagName!==L?t.getElementsByTagName(e):void 0}:function(e,t){var n=t.getElementsByTagName(e);if("*"===e){for(var r,i=[],o=0;r=n[o];o++)1===r.nodeType&&i.push(r);return i}return n},NAME:pt&&function(e,t){return typeof t.getElementsByName!==L?t.getElementsByName(name):void 0},CLASS:ft&&function(e,t,n){return typeof t.getElementsByClassName===L||n?void 0:t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(at,""),e[3]=(e[4]||e[5]||"").replace(at,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||n.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&n.error(e[0]),e},PSEUDO:function(e){var t,n;return st.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(t=e[4])&&(tt.test(t)&&(n=s(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t),e.slice(0,3))}},filter:{ID:_?function(e){return e=e.replace(at,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(at,""),function(t){var n=typeof t.getAttributeNode!==L&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(at,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=U[D][e];return t||(t=U(e,new RegExp("(^|"+q+")"+e+"("+q+"|$)"))),function(e){return t.test(e.className||typeof e.getAttribute!==L&&e.getAttribute("class")||"")}},ATTR:function(e,t,r){return function(i){var o=n.attr(i,e);return null==o?"!="===t:t?(o+="","="===t?o===r:"!="===t?o!==r:"^="===t?r&&0===o.indexOf(r):"*="===t?r&&o.indexOf(r)>-1:"$="===t?r&&o.substr(o.length-r.length)===r:"~="===t?(" "+o+" ").indexOf(r)>-1:"|="===t?o===r||o.substr(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r){return"nth"===e?function(e){var t,i,o=e.parentNode;if(1===n&&0===r)return!0;if(o)for(i=0,t=o.firstChild;t&&(1!==t.nodeType||(i++,e!==t));t=t.nextSibling);return i-=r,i===n||0===i%n&&i/n>=0}:function(t){var n=t;switch(e){case"only":case"first":for(;n=n.previousSibling;)if(1===n.nodeType)return!1;if("first"===e)return!0;n=t;case"last":for(;n=n.nextSibling;)if(1===n.nodeType)return!1;return!0}}},PSEUDO:function(e,t){var r,i=y.pseudos[e]||y.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return i[D]?i(t):i.length>1?(r=[e,e,"",t],y.setFilters.hasOwnProperty(e.toLowerCase())?B(function(e,n){for(var r,o=i(e,t),a=o.length;a--;)r=R.call(e,o[a]),e[r]=!(n[r]=o[a])}):function(e){return i(e,0,r)}):i}},pseudos:{not:B(function(e){var t=[],n=[],r=M(e.replace(X,"$1"));return r[D]?B(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:B(function(e){return function(t){return n(e,t).length>0}}),contains:B(function(e){return function(t){return(t.textContent||t.innerText||b(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!y.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},header:function(e){return it.test(e.nodeName)},text:function(e){var t,n;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(n=e.getAttribute("type"))||n.toLowerCase()===t)},radio:r("radio"),checkbox:r("checkbox"),file:r("file"),password:r("password"),image:r("image"),submit:i("submit"),reset:i("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return ot.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return!(e!==t.activeElement||t.hasFocus&&!t.hasFocus()||!e.type&&!e.href)},active:function(e){return e===e.ownerDocument.activeElement},first:o(function(){return[0]}),last:o(function(e,t){return[t-1]}),eq:o(function(e,t,n){return[0>n?n+t:n]}),even:o(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:o(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:o(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:o(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},T=I.compareDocumentPosition?function(e,t){return e===t?(S=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return S=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],o=[],s=e.parentNode,l=t.parentNode,u=s;if(s===l)return a(e,t);if(!s)return-1;if(!l)return 1;for(;u;)i.unshift(u),u=u.parentNode;for(u=l;u;)o.unshift(u),u=u.parentNode;n=i.length,r=o.length;for(var c=0;n>c&&r>c;c++)if(i[c]!==o[c])return a(i[c],o[c]);return c===n?a(e,o[c],-1):a(i[c],t,1)},[0,0].sort(T),E=!S,n.uniqueSort=function(e){var t,n=1;if(S=E,e.sort(T),S)for(;t=e[n];n++)t===e[n-1]&&e.splice(n--,1);return e},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},M=n.compile=function(e,t){var n,r=[],i=[],o=H[D][e];if(!o){for(t||(t=s(e)),n=t.length;n--;)o=f(t[n]),o[D]?r.push(o):i.push(o);o=H(e,p(i,r))}return o},P.querySelectorAll&&!function(){var e,t=m,r=/'|\\/g,i=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,o=[":focus"],a=[":active",":focus"],l=I.matchesSelector||I.mozMatchesSelector||I.webkitMatchesSelector||I.oMatchesSelector||I.msMatchesSelector;lt(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||o.push("\\["+q+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||o.push(":checked")}),lt(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&o.push("[*^$]="+q+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||o.push(":enabled",":disabled")}),o=new RegExp(o.join("|")),m=function(e,n,i,a,l){if(!(a||l||o&&o.test(e))){var u,c,d=!0,f=D,p=n,h=9===n.nodeType&&e;if(1===n.nodeType&&"object"!==n.nodeName.toLowerCase()){for(u=s(e),(d=n.getAttribute("id"))?f=d.replace(r,"\\$&"):n.setAttribute("id",f),f="[id='"+f+"'] ",c=u.length;c--;)u[c]=f+u[c].join("");p=rt.test(e)&&n.parentNode||n,h=u.join(",")}if(h)try{return Y.apply(i,j.call(p.querySelectorAll(h),0)),i}catch(m){}finally{d||n.removeAttribute("id")}}return t(e,n,i,a,l)},l&&(lt(function(t){e=l.call(t,"div");try{l.call(t,"[test!='']:sizzle"),a.push("!=",K)}catch(n){}}),a=new RegExp(a.join("|")),n.matchesSelector=function(t,r){if(r=r.replace(i,"='$1']"),!(w(t)||a.test(r)||o&&o.test(r)))try{var s=l.call(t,r);if(s||e||t.document&&11!==t.document.nodeType)return s}catch(u){}return n(r,null,null,[t]).length>0})}(),y.pseudos.nth=y.pseudos.eq,y.filters=g.prototype=y.pseudos,y.setFilters=new g,n.attr=Q.attr,Q.find=n,Q.expr=n.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=n.uniqueSort,Q.text=n.getText,Q.isXMLDoc=n.isXML,Q.contains=n.contains}(e);var Nt=/Until$/,Ot=/^(?:parents|prev(?:Until|All))/,Yt=/^.[^:#\[\.,]*$/,jt=Q.expr.match.needsContext,Rt={children:!0,contents:!0,next:!0,prev:!0};Q.fn.extend({find:function(e){var t,n,r,i,o,a,s=this;if("string"!=typeof e)return Q(e).filter(function(){for(t=0,n=s.length;n>t;t++)if(Q.contains(s[t],this))return!0});for(a=this.pushStack("","find",e),t=0,n=this.length;n>t;t++)if(r=a.length,Q.find(e,this[t],a),t>0)for(i=r;i<a.length;i++)for(o=0;r>o;o++)if(a[o]===a[i]){a.splice(i--,1);break}return a},has:function(e){var t,n=Q(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(Q.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(u(this,e,!1),"not",e)},filter:function(e){return this.pushStack(u(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?jt.test(e)?Q(e,this.context).index(this[0])>=0:Q.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=jt.test(e)||"string"!=typeof e?Q(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(a?a.index(n)>-1:Q.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}return o=o.length>1?Q.unique(o):o,this.pushStack(o,"closest",e)},index:function(e){return e?"string"==typeof e?Q.inArray(this[0],Q(e)):Q.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?Q(e,t):Q.makeArray(e&&e.nodeType?[e]:e),r=Q.merge(this.get(),n);return this.pushStack(s(n[0])||s(r[0])?r:Q.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Q.fn.andSelf=Q.fn.addBack,Q.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Q.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Q.dir(e,"parentNode",n)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return Q.dir(e,"nextSibling")},prevAll:function(e){return Q.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Q.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Q.dir(e,"previousSibling",n)},siblings:function(e){return Q.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Q.sibling(e.firstChild)},contents:function(e){return Q.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:Q.merge([],e.childNodes)}},function(e,t){Q.fn[e]=function(n,r){var i=Q.map(this,t,n);return Nt.test(e)||(r=n),r&&"string"==typeof r&&(i=Q.filter(r,i)),i=this.length>1&&!Rt[e]?Q.unique(i):i,this.length>1&&Ot.test(e)&&(i=i.reverse()),this.pushStack(i,e,W.call(arguments).join(","))}}),Q.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?Q.find.matchesSelector(t[0],e)?[t[0]]:[]:Q.find.matches(e,t)},dir:function(e,n,r){for(var i=[],o=e[n];o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!Q(o).is(r));)1===o.nodeType&&i.push(o),o=o[n];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Bt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ft=/ jQuery\d+="(?:null|\d+)"/g,Ut=/^\s+/,$t=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ht=/<([\w:]+)/,qt=/<tbody/i,Vt=/<|&#?\w+;/,zt=/<(?:script|style|link)/i,Wt=/<(?:script|object|embed|option|style)/i,Jt=new RegExp("<(?:"+Bt+")[\\s/>]","i"),Kt=/^(?:checkbox|radio)$/,Gt=/checked\s*(?:[^=]|=\s*.checked.)/i,Xt=/\/(java|ecma)script/i,Qt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Zt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},en=c(U),tn=en.appendChild(U.createElement("div"));Zt.optgroup=Zt.option,Zt.tbody=Zt.tfoot=Zt.colgroup=Zt.caption=Zt.thead,Zt.th=Zt.td,Q.support.htmlSerialize||(Zt._default=[1,"X<div>","</div>"]),Q.fn.extend({text:function(e){return Q.access(this,function(e){return e===t?Q.text(this):this.empty().append((this[0]&&this[0].ownerDocument||U).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(Q.isFunction(e))return this.each(function(t){Q(this).wrapAll(e.call(this,t))});if(this[0]){var t=Q(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return Q.isFunction(e)?this.each(function(t){Q(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Q(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Q.isFunction(e);return this.each(function(n){Q(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!s(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=Q.clean(arguments);return this.pushStack(Q.merge(e,this),"before",this.selector)}},after:function(){if(!s(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=Q.clean(arguments);return this.pushStack(Q.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var n,r=0;null!=(n=this[r]);r++)(!e||Q.filter(e,[n]).length)&&(t||1!==n.nodeType||(Q.cleanData(n.getElementsByTagName("*")),Q.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&Q.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Q.clone(this,e,t)})},html:function(e){return Q.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Ft,""):t;if(!("string"!=typeof e||zt.test(e)||!Q.support.htmlSerialize&&Jt.test(e)||!Q.support.leadingWhitespace&&Ut.test(e)||Zt[(Ht.exec(e)||["",""])[1].toLowerCase()])){e=e.replace($t,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(Q.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return s(this[0])?this.length?this.pushStack(Q(Q.isFunction(e)?e():e),"replaceWith",e):this:Q.isFunction(e)?this.each(function(t){var n=Q(this),r=n.html();n.replaceWith(e.call(this,t,r))}):("string"!=typeof e&&(e=Q(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;Q(this).remove(),t?Q(t).before(e):Q(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=[].concat.apply([],e);var i,o,a,s,l=0,u=e[0],c=[],f=this.length;if(!Q.support.checkClone&&f>1&&"string"==typeof u&&Gt.test(u))return this.each(function(){Q(this).domManip(e,n,r)});if(Q.isFunction(u))return this.each(function(i){var o=Q(this);e[0]=u.call(this,i,n?o.html():t),o.domManip(e,n,r)});if(this[0]){if(i=Q.buildFragment(e,this,c),a=i.fragment,o=a.firstChild,1===a.childNodes.length&&(a=o),o)for(n=n&&Q.nodeName(o,"tr"),s=i.cacheable||f-1;f>l;l++)r.call(n&&Q.nodeName(this[l],"table")?d(this[l],"tbody"):this[l],l===s?a:Q.clone(a,!0,!0));a=o=null,c.length&&Q.each(c,function(e,t){t.src?Q.ajax?Q.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):Q.error("no ajax"):Q.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Qt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),Q.buildFragment=function(e,n,r){var i,o,a,s=e[0];return n=n||U,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,!(1===e.length&&"string"==typeof s&&s.length<512&&n===U&&"<"===s.charAt(0))||Wt.test(s)||!Q.support.checkClone&&Gt.test(s)||!Q.support.html5Clone&&Jt.test(s)||(o=!0,i=Q.fragments[s],a=i!==t),i||(i=n.createDocumentFragment(),Q.clean(e,n,i,r),o&&(Q.fragments[s]=a&&i)),{fragment:i,cacheable:o}},Q.fragments={},Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Q.fn[e]=function(n){var r,i=0,o=[],a=Q(n),s=a.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===s)return a[t](this[0]),this;for(;s>i;i++)r=(i>0?this.clone(!0):this).get(),Q(a[i])[t](r),o=o.concat(r);return this.pushStack(o,e,a.selector)}}),Q.extend({clone:function(e,t,n){var r,i,o,a;if(Q.support.html5Clone||Q.isXMLDoc(e)||!Jt.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(tn.innerHTML=e.outerHTML,tn.removeChild(a=tn.firstChild)),!(Q.support.noCloneEvent&&Q.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Q.isXMLDoc(e)))for(p(e,a),r=h(e),i=h(a),o=0;r[o];++o)i[o]&&p(r[o],i[o]);if(t&&(f(e,a),n))for(r=h(e),i=h(a),o=0;r[o];++o)f(r[o],i[o]);return r=i=null,a},clean:function(e,t,n,r){var i,o,a,s,l,u,d,f,p,h,g,v=t===U&&en,_=[];for(t&&"undefined"!=typeof t.createDocumentFragment||(t=U),i=0;null!=(a=e[i]);i++)if("number"==typeof a&&(a+=""),a){if("string"==typeof a)if(Vt.test(a)){for(v=v||c(t),d=t.createElement("div"),v.appendChild(d),a=a.replace($t,"<$1></$2>"),s=(Ht.exec(a)||["",""])[1].toLowerCase(),l=Zt[s]||Zt._default,u=l[0],d.innerHTML=l[1]+a+l[2];u--;)d=d.lastChild;if(!Q.support.tbody)for(f=qt.test(a),p="table"!==s||f?"<table>"!==l[1]||f?[]:d.childNodes:d.firstChild&&d.firstChild.childNodes,o=p.length-1;o>=0;--o)Q.nodeName(p[o],"tbody")&&!p[o].childNodes.length&&p[o].parentNode.removeChild(p[o]);!Q.support.leadingWhitespace&&Ut.test(a)&&d.insertBefore(t.createTextNode(Ut.exec(a)[0]),d.firstChild),a=d.childNodes,d.parentNode.removeChild(d)}else a=t.createTextNode(a);a.nodeType?_.push(a):Q.merge(_,a)}if(d&&(a=d=v=null),!Q.support.appendChecked)for(i=0;null!=(a=_[i]);i++)Q.nodeName(a,"input")?m(a):"undefined"!=typeof a.getElementsByTagName&&Q.grep(a.getElementsByTagName("input"),m);if(n)for(h=function(e){return!e.type||Xt.test(e.type)?r?r.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e):void 0},i=0;null!=(a=_[i]);i++)Q.nodeName(a,"script")&&h(a)||(n.appendChild(a),"undefined"!=typeof a.getElementsByTagName&&(g=Q.grep(Q.merge([],a.getElementsByTagName("script")),h),_.splice.apply(_,[i+1,0].concat(g)),i+=g.length));return _},cleanData:function(e,t){for(var n,r,i,o,a=0,s=Q.expando,l=Q.cache,u=Q.support.deleteExpando,c=Q.event.special;null!=(i=e[a]);a++)if((t||Q.acceptData(i))&&(r=i[s],n=r&&l[r])){if(n.events)for(o in n.events)c[o]?Q.event.remove(i,o):Q.removeEvent(i,o,n.handle);l[r]&&(delete l[r],u?delete i[s]:i.removeAttribute?i.removeAttribute(s):i[s]=null,Q.deletedIds.push(r))}}}),function(){var e,t;Q.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=Q.uaMatch(H.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),Q.browser=t,Q.sub=function(){function e(t,n){return new e.fn.init(t,n)}Q.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,r){return r&&r instanceof Q&&!(r instanceof e)&&(r=e(r)),Q.fn.init.call(this,n,r,t)},e.fn.init.prototype=e.fn;var t=e(U);return e}}();var nn,rn,on,an=/alpha\([^)]*\)/i,sn=/opacity=([^)]*)/,ln=/^(top|right|bottom|left)$/,un=/^(none|table(?!-c[ea]).+)/,cn=/^margin/,dn=new RegExp("^("+Z+")(.*)$","i"),fn=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),pn=new RegExp("^([-+])=("+Z+")","i"),hn={},mn={position:"absolute",visibility:"hidden",display:"block"},gn={letterSpacing:0,fontWeight:400},vn=["Top","Right","Bottom","Left"],_n=["Webkit","O","Moz","ms"],yn=Q.fn.toggle;Q.fn.extend({css:function(e,n){return Q.access(this,function(e,n,r){return r!==t?Q.style(e,n,r):Q.css(e,n)},e,n,arguments.length>1)},show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(e,t){var n="boolean"==typeof e;return Q.isFunction(e)&&Q.isFunction(t)?yn.apply(this,arguments):this.each(function(){(n?e:v(this))?Q(this).show():Q(this).hide()})}}),Q.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nn(e,"opacity");return""===n?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":Q.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=Q.camelCase(n),u=e.style;if(n=Q.cssProps[l]||(Q.cssProps[l]=g(u,l)),s=Q.cssHooks[n]||Q.cssHooks[l],r===t)return s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:u[n];if(a=typeof r,"string"===a&&(o=pn.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(Q.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||Q.cssNumber[l]||(r+="px"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{u[n]=r}catch(c){}}},css:function(e,n,r,i){var o,a,s,l=Q.camelCase(n);return n=Q.cssProps[l]||(Q.cssProps[l]=g(e.style,l)),s=Q.cssHooks[n]||Q.cssHooks[l],s&&"get"in s&&(o=s.get(e,!0,i)),o===t&&(o=nn(e,n)),"normal"===o&&n in gn&&(o=gn[n]),r||i!==t?(a=parseFloat(o),r||Q.isNumeric(a)?a||0:o):o},swap:function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];r=n.call(e);for(i in t)e.style[i]=o[i];return r}}),e.getComputedStyle?nn=function(t,n){var r,i,o,a,s=e.getComputedStyle(t,null),l=t.style;return s&&(r=s[n],""!==r||Q.contains(t.ownerDocument,t)||(r=Q.style(t,n)),fn.test(r)&&cn.test(n)&&(i=l.width,o=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=r,r=s.width,l.width=i,l.minWidth=o,l.maxWidth=a)),r
}:U.documentElement.currentStyle&&(nn=function(e,t){var n,r,i=e.currentStyle&&e.currentStyle[t],o=e.style;return null==i&&o&&o[t]&&(i=o[t]),fn.test(i)&&!ln.test(t)&&(n=o.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),o.left="fontSize"===t?"1em":i,i=o.pixelLeft+"px",o.left=n,r&&(e.runtimeStyle.left=r)),""===i?"auto":i}),Q.each(["height","width"],function(e,t){Q.cssHooks[t]={get:function(e,n,r){return n?0===e.offsetWidth&&un.test(nn(e,"display"))?Q.swap(e,mn,function(){return w(e,t,r)}):w(e,t,r):void 0},set:function(e,n,r){return y(e,n,r?b(e,t,r,Q.support.boxSizing&&"border-box"===Q.css(e,"boxSizing")):0)}}}),Q.support.opacity||(Q.cssHooks.opacity={get:function(e,t){return sn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=Q.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,t>=1&&""===Q.trim(o.replace(an,""))&&n.removeAttribute&&(n.removeAttribute("filter"),r&&!r.filter)||(n.filter=an.test(o)?o.replace(an,i):o+" "+i)}}),Q(function(){Q.support.reliableMarginRight||(Q.cssHooks.marginRight={get:function(e,t){return Q.swap(e,{display:"inline-block"},function(){return t?nn(e,"marginRight"):void 0})}}),!Q.support.pixelPosition&&Q.fn.position&&Q.each(["top","left"],function(e,t){Q.cssHooks[t]={get:function(e,n){if(n){var r=nn(e,t);return fn.test(r)?Q(e).position()[t]+"px":r}}}})}),Q.expr&&Q.expr.filters&&(Q.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!Q.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||nn(e,"display"))},Q.expr.filters.visible=function(e){return!Q.expr.filters.hidden(e)}),Q.each({margin:"",padding:"",border:"Width"},function(e,t){Q.cssHooks[e+t]={expand:function(n){var r,i="string"==typeof n?n.split(" "):[n],o={};for(r=0;4>r;r++)o[e+vn[r]+t]=i[r]||i[r-2]||i[0];return o}},cn.test(e)||(Q.cssHooks[e+t].set=y)});var bn=/%20/g,wn=/\[\]$/,kn=/\r?\n/g,Mn=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Tn=/^(?:select|textarea)/i;Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?Q.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Tn.test(this.nodeName)||Mn.test(this.type))}).map(function(e,t){var n=Q(this).val();return null==n?null:Q.isArray(n)?Q.map(n,function(e){return{name:t.name,value:e.replace(kn,"\r\n")}}):{name:t.name,value:n.replace(kn,"\r\n")}}).get()}}),Q.param=function(e,n){var r,i=[],o=function(e,t){t=Q.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(e)||e.jquery&&!Q.isPlainObject(e))Q.each(e,function(){o(this.name,this.value)});else for(r in e)M(r,e[r],n,o);return i.join("&").replace(bn,"+")};var Sn,xn,En=/#.*$/,Ln=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Dn=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Cn=/^(?:GET|HEAD)$/,Pn=/^\/\//,In=/\?/,An=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Nn=/([?&])_=[^&]*/,On=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Yn=Q.fn.load,jn={},Rn={},Bn=["*/"]+["*"];try{xn=$.href}catch(Fn){xn=U.createElement("a"),xn.href="",xn=xn.href}Sn=On.exec(xn.toLowerCase())||[],Q.fn.load=function(e,n,r){if("string"!=typeof e&&Yn)return Yn.apply(this,arguments);if(!this.length)return this;var i,o,a,s=this,l=e.indexOf(" ");return l>=0&&(i=e.slice(l,e.length),e=e.slice(0,l)),Q.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(o="POST"),Q.ajax({url:e,type:o,dataType:"html",data:n,complete:function(e,t){r&&s.each(r,a||[e.responseText,t,e])}}).done(function(e){a=arguments,s.html(i?Q("<div>").append(e.replace(An,"")).find(i):e)}),this},Q.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){Q.fn[t]=function(e){return this.on(t,e)}}),Q.each(["get","post"],function(e,n){Q[n]=function(e,r,i,o){return Q.isFunction(r)&&(o=o||i,i=r,r=t),Q.ajax({type:n,url:e,data:r,success:i,dataType:o})}}),Q.extend({getScript:function(e,n){return Q.get(e,t,n,"script")},getJSON:function(e,t,n){return Q.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?x(e,Q.ajaxSettings):(t=e,e=Q.ajaxSettings),x(e,t),e},ajaxSettings:{url:xn,isLocal:Dn.test(Sn[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Bn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:T(jn),ajaxTransport:T(Rn),ajax:function(e,n){function r(e,n,r,a){var u,d,_,y,w,M=n;2!==b&&(b=2,l&&clearTimeout(l),s=t,o=a||"",k.readyState=e>0?4:0,r&&(y=E(f,k,r)),e>=200&&300>e||304===e?(f.ifModified&&(w=k.getResponseHeader("Last-Modified"),w&&(Q.lastModified[i]=w),w=k.getResponseHeader("Etag"),w&&(Q.etag[i]=w)),304===e?(M="notmodified",u=!0):(u=L(f,y),M=u.state,d=u.data,_=u.error,u=!_)):(_=M,(!M||e)&&(M="error",0>e&&(e=0))),k.status=e,k.statusText=(n||M)+"",u?m.resolveWith(p,[d,M,k]):m.rejectWith(p,[k,M,_]),k.statusCode(v),v=t,c&&h.trigger("ajax"+(u?"Success":"Error"),[k,f,u?d:_]),g.fireWith(p,[k,M]),c&&(h.trigger("ajaxComplete",[k,f]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var i,o,a,s,l,u,c,d,f=Q.ajaxSetup({},n),p=f.context||f,h=p!==f&&(p.nodeType||p instanceof Q)?Q(p):Q.event,m=Q.Deferred(),g=Q.Callbacks("once memory"),v=f.statusCode||{},_={},y={},b=0,w="canceled",k={readyState:0,setRequestHeader:function(e,t){if(!b){var n=e.toLowerCase();e=y[n]=y[n]||e,_[e]=t}return this},getAllResponseHeaders:function(){return 2===b?o:null},getResponseHeader:function(e){var n;if(2===b){if(!a)for(a={};n=Ln.exec(o);)a[n[1].toLowerCase()]=n[2];n=a[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return b||(f.mimeType=e),this},abort:function(e){return e=e||w,s&&s.abort(e),r(0,e),this}};if(m.promise(k),k.success=k.done,k.error=k.fail,k.complete=g.add,k.statusCode=function(e){if(e){var t;if(2>b)for(t in e)v[t]=[v[t],e[t]];else t=e[k.status],k.always(t)}return this},f.url=((e||f.url)+"").replace(En,"").replace(Pn,Sn[1]+"//"),f.dataTypes=Q.trim(f.dataType||"*").toLowerCase().split(tt),null==f.crossDomain&&(u=On.exec(f.url.toLowerCase())||!1,f.crossDomain=u&&u.join(":")+(u[3]?"":"http:"===u[1]?80:443)!==Sn.join(":")+(Sn[3]?"":"http:"===Sn[1]?80:443)),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=Q.param(f.data,f.traditional)),S(jn,f,n,k),2===b)return k;if(c=f.global,f.type=f.type.toUpperCase(),f.hasContent=!Cn.test(f.type),c&&0===Q.active++&&Q.event.trigger("ajaxStart"),!f.hasContent&&(f.data&&(f.url+=(In.test(f.url)?"&":"?")+f.data,delete f.data),i=f.url,f.cache===!1)){var M=Q.now(),T=f.url.replace(Nn,"$1_="+M);f.url=T+(T===f.url?(In.test(f.url)?"&":"?")+"_="+M:"")}(f.data&&f.hasContent&&f.contentType!==!1||n.contentType)&&k.setRequestHeader("Content-Type",f.contentType),f.ifModified&&(i=i||f.url,Q.lastModified[i]&&k.setRequestHeader("If-Modified-Since",Q.lastModified[i]),Q.etag[i]&&k.setRequestHeader("If-None-Match",Q.etag[i])),k.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Bn+"; q=0.01":""):f.accepts["*"]);for(d in f.headers)k.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(f.beforeSend.call(p,k,f)===!1||2===b))return k.abort();w="abort";for(d in{success:1,error:1,complete:1})k[d](f[d]);if(s=S(Rn,f,n,k)){k.readyState=1,c&&h.trigger("ajaxSend",[k,f]),f.async&&f.timeout>0&&(l=setTimeout(function(){k.abort("timeout")},f.timeout));try{b=1,s.send(_,r)}catch(x){if(!(2>b))throw x;r(-1,x)}}else r(-1,"No Transport");return k},active:0,lastModified:{},etag:{}});var Un=[],$n=/\?/,Hn=/(=)\?(?=&|$)|\?\?/,qn=Q.now();Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Un.pop()||Q.expando+"_"+qn++;return this[e]=!0,e}}),Q.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,l=n.data,u=n.url,c=n.jsonp!==!1,d=c&&Hn.test(u),f=c&&!d&&"string"==typeof l&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Hn.test(l);return"jsonp"===n.dataTypes[0]||d||f?(o=n.jsonpCallback=Q.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,a=e[o],d?n.url=u.replace(Hn,"$1"+o):f?n.data=l.replace(Hn,"$1"+o):c&&(n.url+=($n.test(u)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||Q.error(o+" was not called"),s[0]},n.dataTypes[0]="json",e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,Un.push(o)),s&&Q.isFunction(a)&&a(s[0]),s=a=t}),"script"):void 0}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return Q.globalEval(e),e}}}),Q.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),Q.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=U.head||U.getElementsByTagName("head")[0]||U.documentElement;return{send:function(i,o){n=U.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){(i||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,i||o(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Vn,zn=e.ActiveXObject?function(){for(var e in Vn)Vn[e](0,1)}:!1,Wn=0;Q.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&D()||C()}:D,function(e){Q.extend(Q.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(Q.ajaxSettings.xhr()),Q.support.ajax&&Q.ajaxTransport(function(n){if(!n.crossDomain||Q.support.cors){var r;return{send:function(i,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)l.setRequestHeader(s,i[s])}catch(u){}l.send(n.hasContent&&n.data||null),r=function(e,i){var s,u,c,d,f;try{if(r&&(i||4===l.readyState))if(r=t,a&&(l.onreadystatechange=Q.noop,zn&&delete Vn[a]),i)4!==l.readyState&&l.abort();else{s=l.status,c=l.getAllResponseHeaders(),d={},f=l.responseXML,f&&f.documentElement&&(d.xml=f);try{d.text=l.responseText}catch(e){}try{u=l.statusText}catch(p){u=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=d.text?200:404}}catch(h){i||o(-1,h)}d&&o(s,u,d,c)},n.async?4===l.readyState?setTimeout(r,0):(a=++Wn,zn&&(Vn||(Vn={},Q(e).unload(zn)),Vn[a]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var Jn,Kn,Gn=/^(?:toggle|show|hide)$/,Xn=new RegExp("^(?:([-+])=|)("+Z+")([a-z%]*)$","i"),Qn=/queueHooks$/,Zn=[O],er={"*":[function(e,t){var n,r,i=this.createTween(e,t),o=Xn.exec(t),a=i.cur(),s=+a||0,l=1,u=20;if(o){if(n=+o[2],r=o[3]||(Q.cssNumber[e]?"":"px"),"px"!==r&&s){s=Q.css(i.elem,e,!0)||n||1;do l=l||".5",s/=l,Q.style(i.elem,e,s+r);while(l!==(l=i.cur()/a)&&1!==l&&--u)}i.unit=r,i.start=s,i.end=o[1]?s+(o[1]+1)*n:n}return i}]};Q.Animation=Q.extend(A,{tweener:function(e,t){Q.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],er[n]=er[n]||[],er[n].unshift(t)},prefilter:function(e,t){t?Zn.unshift(e):Zn.push(e)}}),Q.Tween=Y,Y.prototype={constructor:Y,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Q.cssNumber[n]?"":"px")},cur:function(){var e=Y.propHooks[this.prop];return e&&e.get?e.get(this):Y.propHooks._default.get(this)},run:function(e){var t,n=Y.propHooks[this.prop];return this.pos=t=this.options.duration?Q.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Y.propHooks._default.set(this),this}},Y.prototype.init.prototype=Y.prototype,Y.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Q.css(e.elem,e.prop,!1,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Q.fx.step[e.prop]?Q.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Q.cssProps[e.prop]]||Q.cssHooks[e.prop])?Q.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Y.propHooks.scrollTop=Y.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Q.each(["toggle","show","hide"],function(e,t){var n=Q.fn[t];Q.fn[t]=function(r,i,o){return null==r||"boolean"==typeof r||!e&&Q.isFunction(r)&&Q.isFunction(i)?n.apply(this,arguments):this.animate(j(t,!0),r,i,o)}}),Q.fn.extend({fadeTo:function(e,t,n,r){return this.filter(v).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=Q.isEmptyObject(e),o=Q.speed(t,n,r),a=function(){var t=A(this,Q.extend({},e),o);i&&t.stop(!0)};return i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=Q.timers,a=Q._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&Qn.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));(t||!r)&&Q.dequeue(this,e)})}}),Q.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Q.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Q.speed=function(e,t,n){var r=e&&"object"==typeof e?Q.extend({},e):{complete:n||!n&&t||Q.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Q.isFunction(t)&&t};return r.duration=Q.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Q.fx.speeds?Q.fx.speeds[r.duration]:Q.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){Q.isFunction(r.old)&&r.old.call(this),r.queue&&Q.dequeue(this,r.queue)},r},Q.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Q.timers=[],Q.fx=Y.prototype.init,Q.fx.tick=function(){for(var e,t=Q.timers,n=0;n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||Q.fx.stop()},Q.fx.timer=function(e){e()&&Q.timers.push(e)&&!Kn&&(Kn=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.interval=13,Q.fx.stop=function(){clearInterval(Kn),Kn=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fx.step={},Q.expr&&Q.expr.filters&&(Q.expr.filters.animated=function(e){return Q.grep(Q.timers,function(t){return e===t.elem}).length});var tr=/^(?:body|html)$/i;Q.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){Q.offset.setOffset(this,e,t)});var n,r,i,o,a,s,l,u={top:0,left:0},c=this[0],d=c&&c.ownerDocument;if(d)return(r=d.body)===c?Q.offset.bodyOffset(c):(n=d.documentElement,Q.contains(n,c)?("undefined"!=typeof c.getBoundingClientRect&&(u=c.getBoundingClientRect()),i=R(d),o=n.clientTop||r.clientTop||0,a=n.clientLeft||r.clientLeft||0,s=i.pageYOffset||n.scrollTop,l=i.pageXOffset||n.scrollLeft,{top:u.top+s-o,left:u.left+l-a}):u)},Q.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return Q.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(Q.css(e,"marginTop"))||0,n+=parseFloat(Q.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=Q.css(e,"position");"static"===r&&(e.style.position="relative");var i,o,a=Q(e),s=a.offset(),l=Q.css(e,"top"),u=Q.css(e,"left"),c=("absolute"===r||"fixed"===r)&&Q.inArray("auto",[l,u])>-1,d={},f={};c?(f=a.position(),i=f.top,o=f.left):(i=parseFloat(l)||0,o=parseFloat(u)||0),Q.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+i),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):a.css(d)}},Q.fn.extend({position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),n=this.offset(),r=tr.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(Q.css(e,"marginTop"))||0,n.left-=parseFloat(Q.css(e,"marginLeft"))||0,r.top+=parseFloat(Q.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(Q.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||U.body;e&&!tr.test(e.nodeName)&&"static"===Q.css(e,"position");)e=e.offsetParent;return e||U.body})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);Q.fn[e]=function(i){return Q.access(this,function(e,i,o){var a=R(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:(a?a.scrollTo(r?Q(a).scrollLeft():o,r?o:Q(a).scrollTop()):e[i]=o,void 0)},e,i,arguments.length,null)}}),Q.each({Height:"height",Width:"width"},function(e,n){Q.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){Q.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return Q.access(this,function(n,r,i){var o;return Q.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?Q.css(n,r,i,s):Q.style(n,r,i,s)},n,a?i:t,a,null)}})}),e.jQuery=e.$=Q,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return Q})}(window)}).call(this),function(){e=t=window.jQuery.noConflict()}.call(this),"undefined"==typeof Package&&(Package={}),Package.jquery={$:e,jQuery:t}}(),function(){var Meteor=Package.meteor.Meteor,JSON;(function(){window.JSON&&(JSON=window.JSON)}).call(this),function(){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,o,a,s=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,n=0;o>n;n+=1)a[n]=str(n,l)||"null";return i=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,i}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;o>n;n+=1)"string"==typeof rep[n]&&(r=rep[n],i=str(r,l),i&&a.push(quote(r)+(gap?": ":":")+i));else for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(i=str(r,l),i&&a.push(quote(r)+(gap?": ":":")+i));return i=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),void 0!==r?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()}.call(this),"undefined"==typeof Package&&(Package={}),Package.json={JSON:JSON}}(),function(){Package.meteor.Meteor,Package.jquery.$,Package.jquery.jQuery;var e=Package.json.JSON,t=Package.underscore._;(function(){(function(){var n,r=this,i=r.Backbone,o=Array.prototype.slice,a=Array.prototype.splice;n="undefined"!=typeof exports?exports:r.Backbone={},n.VERSION="0.9.2";var s=r.jQuery||r.Zepto||r.ender;n.setDomLibrary=function(e){s=e},n.noConflict=function(){return r.Backbone=i,this},n.emulateHTTP=!1,n.emulateJSON=!1;var l=/\s+/,u=n.Events={on:function(e,t,n){var r,i,o,a,s;if(!t)return this;for(e=e.split(l),r=this._callbacks||(this._callbacks={});i=e.shift();)s=r[i],o=s?s.tail:{},o.next=a={},o.context=n,o.callback=t,r[i]={tail:a,next:s?s.next:o};return this},off:function(e,n,r){var i,o,a,s,u,c;if(o=this._callbacks){if(!(e||n||r))return delete this._callbacks,this;for(e=e?e.split(l):t.keys(o);i=e.shift();)if(a=o[i],delete o[i],a&&(n||r))for(s=a.tail;(a=a.next)!==s;)u=a.callback,c=a.context,(n&&u!==n||r&&c!==r)&&this.on(i,u,c);return this}},trigger:function(e){var t,n,r,i,a,s,u;if(!(r=this._callbacks))return this;for(s=r.all,e=e.split(l),u=o.call(arguments,1);t=e.shift();){if(n=r[t])for(i=n.tail;(n=n.next)!==i;)n.callback.apply(n.context||this,u);if(n=s)for(i=n.tail,a=[t].concat(u);(n=n.next)!==i;)n.callback.apply(n.context||this,a)}return this}};u.bind=u.on,u.unbind=u.off;var c=n.Model=function(e,n){var r;e||(e={}),n&&n.parse&&(e=this.parse(e)),(r=E(this,"defaults"))&&(e=t.extend({},r,e)),n&&n.collection&&(this.collection=n.collection),this.attributes={},this._escapedAttributes={},this.cid=t.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(e,{silent:!0}),this.changed={},this._silent={},this._pending={},this._previousAttributes=t.clone(this.attributes),this.initialize.apply(this,arguments)};t.extend(c.prototype,u,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(){return t.clone(this.attributes)},get:function(e){return this.attributes[e]},escape:function(e){var n;if(n=this._escapedAttributes[e])return n;var r=this.get(e);return this._escapedAttributes[e]=t.escape(null==r?"":""+r)},has:function(e){return null!=this.get(e)},set:function(e,n,r){var i,o,a;if(t.isObject(e)||null==e?(i=e,r=n):(i={},i[e]=n),r||(r={}),!i)return this;if(i instanceof c&&(i=i.attributes),r.unset)for(o in i)i[o]=void 0;if(!this._validate(i,r))return!1;this.idAttribute in i&&(this.id=i[this.idAttribute]);var s=r.changes={},l=this.attributes,u=this._escapedAttributes,d=this._previousAttributes||{};for(o in i)a=i[o],(!t.isEqual(l[o],a)||r.unset&&t.has(l,o))&&(delete u[o],(r.silent?this._silent:s)[o]=!0),r.unset?delete l[o]:l[o]=a,t.isEqual(d[o],a)&&t.has(l,o)==t.has(d,o)?(delete this.changed[o],delete this._pending[o]):(this.changed[o]=a,r.silent||(this._pending[o]=!0));return r.silent||this.change(r),this},unset:function(e,t){return(t||(t={})).unset=!0,this.set(e,null,t)},clear:function(e){return(e||(e={})).unset=!0,this.set(t.clone(this.attributes),e)},fetch:function(e){e=e?t.clone(e):{};var r=this,i=e.success;return e.success=function(t,n,o){return r.set(r.parse(t,o),e)?(i&&i(r,t),void 0):!1},e.error=n.wrapError(e.error,r,e),(this.sync||n.sync).call(this,"read",this,e)},save:function(e,r,i){var o,a;if(t.isObject(e)||null==e?(o=e,i=r):(o={},o[e]=r),i=i?t.clone(i):{},i.wait){if(!this._validate(o,i))return!1;a=t.clone(this.attributes)}var s=t.extend({},i,{silent:!0});if(o&&!this.set(o,i.wait?s:i))return!1;var l=this,u=i.success;i.success=function(e,n,r){var a=l.parse(e,r);return i.wait&&(delete i.wait,a=t.extend(o||{},a)),l.set(a,i)?(u?u(l,e):l.trigger("sync",l,e,i),void 0):!1},i.error=n.wrapError(i.error,l,i);var c=this.isNew()?"create":"update",d=(this.sync||n.sync).call(this,c,this,i);return i.wait&&this.set(a,s),d},destroy:function(e){e=e?t.clone(e):{};var r=this,i=e.success,o=function(){r.trigger("destroy",r,r.collection,e)};if(this.isNew())return o(),!1;e.success=function(t){e.wait&&o(),i?i(r,t):r.trigger("sync",r,t,e)},e.error=n.wrapError(e.error,r,e);var a=(this.sync||n.sync).call(this,"delete",this,e);return e.wait||o(),a},url:function(){var e=E(this,"urlRoot")||E(this.collection,"url")||L();return this.isNew()?e:e+("/"==e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(e){e||(e={});var n=this._changing;this._changing=!0;for(var r in this._silent)this._pending[r]=!0;var i=t.extend({},e.changes,this._silent);this._silent={};for(var r in i)this.trigger("change:"+r,this,this.get(r),e);if(n)return this;for(;!t.isEmpty(this._pending);){this._pending={},this.trigger("change",this,e);for(var r in this.changed)this._pending[r]||this._silent[r]||delete this.changed[r];this._previousAttributes=t.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(e){return arguments.length?t.has(this.changed,e):!t.isEmpty(this.changed)},changedAttributes:function(e){if(!e)return this.hasChanged()?t.clone(this.changed):!1;var n,r=!1,i=this._previousAttributes;for(var o in e)t.isEqual(i[o],n=e[o])||((r||(r={}))[o]=n);return r},previous:function(e){return arguments.length&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return t.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(e,n){if(n.silent||!this.validate)return!0;e=t.extend({},this.attributes,e);var r=this.validate(e,n);return r?(n&&n.error?n.error(this,r,n):this.trigger("error",this,r,n),!1):!0}});var d=n.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,{silent:!0,parse:t.parse})};t.extend(d.prototype,u,{model:c,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},add:function(e,n){var r,i,o,s,l,u,c={},d={},f=[];for(n||(n={}),e=t.isArray(e)?e.slice():[e],r=0,o=e.length;o>r;r++){if(!(s=e[r]=this._prepareModel(e[r],n)))throw new Error("Can't add an invalid model to a collection");l=s.cid,u=s.id,c[l]||this._byCid[l]||null!=u&&(d[u]||this._byId[u])?f.push(r):c[l]=d[u]=s}for(r=f.length;r--;)e.splice(f[r],1);for(r=0,o=e.length;o>r;r++)(s=e[r]).on("all",this._onModelEvent,this),this._byCid[s.cid]=s,null!=s.id&&(this._byId[s.id]=s);if(this.length+=o,i=null!=n.at?n.at:this.models.length,a.apply(this.models,[i,0].concat(e)),this.comparator&&this.sort({silent:!0}),n.silent)return this;for(r=0,o=this.models.length;o>r;r++)c[(s=this.models[r]).cid]&&(n.index=r,s.trigger("add",s,this,n));return this},remove:function(e,n){var r,i,o,a;for(n||(n={}),e=t.isArray(e)?e.slice():[e],r=0,i=e.length;i>r;r++)a=this.getByCid(e[r])||this.get(e[r]),a&&(delete this._byId[a.id],delete this._byCid[a.cid],o=this.indexOf(a),this.models.splice(o,1),this.length--,n.silent||(n.index=o,a.trigger("remove",a,this,n)),this._removeReference(a));return this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,t),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,n){return e=this._prepareModel(e,n),this.add(e,t.extend({at:0},n)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},get:function(e){return null==e?void 0:this._byId[null!=e.id?e.id:e]},getByCid:function(e){return e&&this._byCid[e.cid||e]},at:function(e){return this.models[e]},where:function(e){return t.isEmpty(e)?[]:this.filter(function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},sort:function(e){if(e||(e={}),!this.comparator)throw new Error("Cannot sort a set without a comparator");var n=t.bind(this.comparator,this);return 1==this.comparator.length?this.models=this.sortBy(n):this.models.sort(n),e.silent||this.trigger("reset",this,e),this},pluck:function(e){return t.map(this.models,function(t){return t.get(e)})},reset:function(e,n){e||(e=[]),n||(n={});for(var r=0,i=this.models.length;i>r;r++)this._removeReference(this.models[r]);return this._reset(),this.add(e,t.extend({silent:!0},n)),n.silent||this.trigger("reset",this,n),this},fetch:function(e){e=e?t.clone(e):{},void 0===e.parse&&(e.parse=!0);var r=this,i=e.success;return e.success=function(t,n,o){r[e.add?"add":"reset"](r.parse(t,o),e),i&&i(r,t)},e.error=n.wrapError(e.error,r,e),(this.sync||n.sync).call(this,"read",this,e)},create:function(e,n){var r=this;if(n=n?t.clone(n):{},e=this._prepareModel(e,n),!e)return!1;n.wait||r.add(e,n);var i=n.success;return n.success=function(t,o){n.wait&&r.add(t,n),i?i(t,o):t.trigger("sync",e,o,n)},e.save(null,n),e},parse:function(e){return e},chain:function(){return t(this.models).chain()},_reset:function(){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(e,t){if(t||(t={}),e instanceof c)e.collection||(e.collection=this);else{var n=e;t.collection=this,e=new this.model(n,t),e._validate(e.attributes,t)||(e=!1)}return e},_removeReference:function(e){this==e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){("add"!=e&&"remove"!=e||n==this)&&("destroy"==e&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],this._byId[t.id]=t),this.trigger.apply(this,arguments))}});var f=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];t.each(f,function(e){d.prototype[e]=function(){return t[e].apply(t,[this.models].concat(t.toArray(arguments)))}});var p=n.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},h=/:\w+/g,m=/\*\w+/g,g=/[-[\]{}()+?.,\\^$|#\s]/g;t.extend(p.prototype,u,{initialize:function(){},route:function(e,r,i){return n.history||(n.history=new v),t.isRegExp(e)||(e=this._routeToRegExp(e)),i||(i=this[r]),n.history.route(e,t.bind(function(t){var o=this._extractParameters(e,t);i&&i.apply(this,o),this.trigger.apply(this,["route:"+r].concat(o)),n.history.trigger("route",this,r,o)},this)),this},navigate:function(e,t){n.history.navigate(e,t)},_bindRoutes:function(){if(this.routes){var e=[];for(var t in this.routes)e.unshift([t,this.routes[t]]);for(var n=0,r=e.length;r>n;n++)this.route(e[n][0],e[n][1],this[e[n][1]])}},_routeToRegExp:function(e){return e=e.replace(g,"\\$&").replace(h,"([^/]+)").replace(m,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});var v=n.History=function(){this.handlers=[],t.bindAll(this,"checkUrl")},_=/^[#\/]/,y=/msie [\w.]+/;v.started=!1,t.extend(v.prototype,u,{interval:50,getHash:function(e){var t=e?e.location:window.location,n=t.href.match(/#(.*)$/);
return n?n[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||t){e=window.location.pathname;var n=window.location.search;n&&(e+=n)}else e=this.getHash();return e.indexOf(this.options.root)||(e=e.substr(this.options.root.length)),e.replace(_,"")},start:function(e){if(v.started)throw new Error("Backbone.history has already been started");if("undefined"==typeof window)throw new Error("Backbone.History is client-only, can't start on the server");v.started=!0,this.options=t.extend({},{root:"/"},this.options,e),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var n=this.getFragment(),r=document.documentMode,i=y.exec(navigator.userAgent.toLowerCase())&&(!r||7>=r);i&&(this.iframe=s('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?s(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!i?s(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var o=window.location,a=o.pathname==this.options.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!a?(this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&a&&o.hash&&(this.fragment=this.getHash().replace(_,""),window.history.replaceState({},document.title,o.protocol+"//"+o.host+this.options.root+this.fragment)),this.options.silent?void 0:this.loadUrl())},stop:function(){s(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),v.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e==this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e==this.fragment?!1:(this.iframe&&this.navigate(e),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(e){var n=this.fragment=this.getFragment(e),r=t.any(this.handlers,function(e){return e.route.test(n)?(e.callback(n),!0):void 0});return r},navigate:function(e,t){if(!v.started)return!1;t&&t!==!0||(t={trigger:t});var n=(e||"").replace(_,"");this.fragment!=n&&(this._hasPushState?(0!=n.indexOf(this.options.root)&&(n=this.options.root+n),this.fragment=n,window.history[t.replace?"replaceState":"pushState"]({},document.title,n)):this._wantsHashChange?(this.fragment=n,this._updateHash(window.location,n,t.replace),this.iframe&&n!=this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,n,t.replace))):window.location.assign(this.options.root+e),t.trigger&&this.loadUrl(e))},_updateHash:function(e,t,n){n?e.replace(e.toString().replace(/(javascript:|#).*$/,"")+"#"+t):e.hash=t}});var b=n.View=function(e){this.cid=t.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,k=["model","collection","el","id","attributes","className","tagName"];t.extend(b.prototype,u,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(e,t,n){var r=document.createElement(e);return t&&s(r).attr(t),n&&s(r).html(n),r},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof s?e:s(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(e||(e=E(this,"events"))){this.undelegateEvents();for(var n in e){var r=e[n];if(t.isFunction(r)||(r=this[e[n]]),!r)throw new Error('Method "'+e[n]+'" does not exist');var i=n.match(w),o=i[1],a=i[2];r=t.bind(r,this),o+=".delegateEvents"+this.cid,""===a?this.$el.bind(o,r):this.$el.delegate(a,o,r)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=t.extend({},this.options,e));for(var n=0,r=k.length;r>n;n++){var i=k[n];e[i]&&(this[i]=e[i])}this.options=e},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var e=E(this,"attributes")||{};this.id&&(e.id=this.id),this.className&&(e["class"]=this.className),this.setElement(this.make(this.tagName,e),!1)}}});var M=function(e,t){var n=x(this,e,t);return n.extend=this.extend,n};c.extend=d.extend=p.extend=b.extend=M;var T={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};n.sync=function(r,i,o){var a=T[r];o||(o={});var l={type:a,dataType:"json"};return o.url||(l.url=E(i,"url")||L()),o.data||!i||"create"!=r&&"update"!=r||(l.contentType="application/json",l.data=e.stringify(i.toJSON())),n.emulateJSON&&(l.contentType="application/x-www-form-urlencoded",l.data=l.data?{model:l.data}:{}),n.emulateHTTP&&("PUT"===a||"DELETE"===a)&&(n.emulateJSON&&(l.data._method=a),l.type="POST",l.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",a)}),"GET"===l.type||n.emulateJSON||(l.processData=!1),s.ajax(t.extend(l,o))},n.wrapError=function(e,t,n){return function(r,i){i=r===t?i:r,e?e(t,i,n):t.trigger("error",t,i,n)}};var S=function(){},x=function(e,n,r){var i;return i=n&&n.hasOwnProperty("constructor")?n.constructor:function(){e.apply(this,arguments)},t.extend(i,e),S.prototype=e.prototype,i.prototype=new S,n&&t.extend(i.prototype,n),r&&t.extend(i,r),i.prototype.constructor=i,i.__super__=e.prototype,i},E=function(e,n){return e&&e[n]?t.isFunction(e[n])?e[n]():e[n]:null},L=function(){throw new Error('A "url" property or function must be specified')}}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package.backbone={}}(),function(){var e=Package.meteor.Meteor,t=Package.jquery.$;Package.jquery.jQuery,function(){if(window.localStorage)e._localStorage={getItem:function(e){return window.localStorage.getItem(e)},setItem:function(e,t){window.localStorage.setItem(e,t)},removeItem:function(e){window.localStorage.removeItem(e)}};else if(t.browser.msie){var n=document.createElement("span");n.style.behavior='url("#default#userData")',n.id="localstorage-helper",n.style.display="none",document.getElementsByTagName("head")[0].appendChild(n);var r="localStorage";n.load(r),e._localStorage={setItem:function(e,t){n.setAttribute(e,t),n.save(r)},removeItem:function(e){n.removeAttribute(e),n.save(r)},getItem:function(e){return n.load(r),n.getAttribute(e)}}}else e._debug("You are running a browser with no localStorage or userData support. Logging in from one tab will not cause another tab to be logged in."),e._localStorage={_data:{},setItem:function(e,t){this._data[e]=t},removeItem:function(e){delete this._data[e]},getItem:function(e){var t=this._data[e];return void 0===t?null:t}}}.call(this),"undefined"==typeof Package&&(Package={}),Package.localstorage={}}(),function(){var e,t=Package.meteor.Meteor,n=Package.underscore._;(function(){e={},e.active=!1,e.currentComputation=null;var r=function(t){e.currentComputation=t,e.active=!!t},i=function(){return"undefined"!=typeof t?t._debug:"undefined"!=typeof console&&console.log?console.log:function(){}},o=1,a=[],s=!1,l=!1,u=!1,c=[],d=function(){s||(setTimeout(e.flush,0),s=!0)},f=!1;e.Computation=function(e,t){if(!f)throw new Error("Deps.Computation constructor is private; use Deps.autorun");f=!1;var n=this;n.stopped=!1,n.invalidated=!1,n.firstRun=!0,n._id=o++,n._onInvalidateCallbacks=[],n._parent=t,n._func=e,n._recomputing=!1;var r=!0;try{n._compute(),r=!1}finally{n.firstRun=!1,r&&n.stop()}},n.extend(e.Computation.prototype,{onInvalidate:function(t){var n=this;if("function"!=typeof t)throw new Error("onInvalidate requires a function");var r=function(){e.nonreactive(function(){t(n)})};n.invalidated?r():n._onInvalidateCallbacks.push(r)},invalidate:function(){var e=this;if(!e.invalidated){e._recomputing||e.stopped||(d(),a.push(this)),e.invalidated=!0;for(var t,n=0;t=e._onInvalidateCallbacks[n];n++)t();e._onInvalidateCallbacks=[]}},stop:function(){this.stopped||(this.stopped=!0,this.invalidate())},_compute:function(){var t=this;t.invalidated=!1;var n=e.currentComputation;r(t),u=!0;try{t._func(t)}finally{r(n),u=!1}},_recompute:function(){var e=this;for(e._recomputing=!0;e.invalidated&&!e.stopped;)try{e._compute()}catch(t){i()("Exception from Deps recompute:",t.stack||t.message)}e._recomputing=!1}}),e.Dependency=function(){this._dependentsById={}},n.extend(e.Dependency.prototype,{depend:function(t){if(!t){if(!e.active)return!1;t=e.currentComputation}var n=this,r=t._id;return r in n._dependentsById?!1:(n._dependentsById[r]=t,t.onInvalidate(function(){delete n._dependentsById[r]}),!0)},changed:function(){var e=this;for(var t in e._dependentsById)e._dependentsById[t].invalidate()},hasDependents:function(){var e=this;for(var t in e._dependentsById)return!0;return!1}}),n.extend(e,{flush:function(){if(l)throw new Error("Can't call Deps.flush while flushing");if(u)throw new Error("Can't flush inside Deps.autorun");for(l=!0,s=!0;a.length||c.length;){var e=a;a=[];for(var t,n=0;t=e[n];n++)t._recompute();if(c.length){var r=c.shift();try{r()}catch(o){i()("Exception from Deps afterFlush function:",o.stack||o.message)}}}l=!1,s=!1},autorun:function(t){if("function"!=typeof t)throw new Error("Deps.autorun requires a function argument");f=!0;var n=new e.Computation(t,e.currentComputation);return e.active&&e.onInvalidate(function(){n.stop()}),n},nonreactive:function(t){var n=e.currentComputation;r(null);try{return t()}finally{r(n)}},_makeNonreactive:function(t){if(t.$isNonreactive)return t;var r=function(){var r,i=this,o=n.toArray(arguments);return e.nonreactive(function(){r=t.apply(i,o)}),r};return r.$isNonreactive=!0,r},onInvalidate:function(t){if(!e.active)throw new Error("Deps.onInvalidate requires a currentComputation");e.currentComputation.onInvalidate(t)},afterFlush:function(e){c.push(e),d()}})}).call(this),function(){t.flush=e.flush,t.autorun=e.autorun,t.autosubscribe=e.autorun,e.depend=function(e){return e.depend()}}.call(this),"undefined"==typeof Package&&(Package={}),Package.deps={Deps:e}}(),function(){var e=Package.meteor.Meteor;Package.underscore._;var t;(function(){if(e.isServer)var n=Npm.require("crypto");var r=function(){function e(){var e=4022871197,t=function(t){t=t.toString();for(var n=0;n<t.length;n++){e+=t.charCodeAt(n);var r=.02519603282416938*e;e=r>>>0,r-=e,r*=e,e=r>>>0,r-=e,e+=4294967296*r}return 2.3283064365386963e-10*(e>>>0)};return t.version="Mash 0.9",t}return function(t){var n=0,r=0,i=0,o=1;0==t.length&&(t=[+new Date]);var a=e();n=a(" "),r=a(" "),i=a(" ");for(var s=0;s<t.length;s++)n-=a(t[s]),0>n&&(n+=1),r-=a(t[s]),0>r&&(r+=1),i-=a(t[s]),0>i&&(i+=1);a=null;var l=function(){var e=2091639*n+2.3283064365386963e-10*o;return n=r,r=i,i=e-(o=0|e)};return l.uint32=function(){return 4294967296*l()},l.fract53=function(){return l()+1.1102230246251565e-16*(0|2097152*l())},l.version="Alea 0.9",l.args=t,l}(Array.prototype.slice.call(arguments))},i="23456789ABCDEFGHJKLMNPQRSTWXYZabcdefghijkmnopqrstuvwxyz",o=function(e){var t=this;void 0!==e&&(t.alea=r.apply(null,e)),t._Alea=r};o.prototype.fraction=function(){var e=this;if(e.alea)return e.alea();if(n){var t=parseInt(e.hexString(8),16);return 2.3283064365386963e-10*t}if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues){var r=new Uint32Array(1);return window.crypto.getRandomValues(r),2.3283064365386963e-10*r[0]}},o.prototype.hexString=function(e){var t=this;if(n&&!t.alea){var r,i=Math.ceil(e/2);try{r=n.randomBytes(i)}catch(o){r=n.pseudoRandomBytes(i)}var a=r.toString("hex");return a.substring(0,e)}for(var s=[],l=0;e>l;++l)s.push(t.choice("0123456789abcdef"));return s.join("")},o.prototype.id=function(){for(var e=[],t=this,n=0;17>n;n++)e[n]=t.choice(i);return e.join("")},o.prototype.choice=function(e){var t=Math.floor(this.fraction()*e.length);return"string"==typeof e?e.substr(t,1):e[t]};var a="undefined"!=typeof window&&window.innerHeight||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientHeight||"undefined"!=typeof document&&document.body&&document.body.clientHeight||1,s="undefined"!=typeof window&&window.innerWidth||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientWidth||"undefined"!=typeof document&&document.body&&document.body.clientWidth||1,l="undefined"!=typeof navigator&&navigator.userAgent||"";t=n||"undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues?new o:new o([new Date,a,s,l,Math.random()]),t.create=function(){return new o(arguments)}}).call(this),function(){e.uuid=function(){for(var e="0123456789abcdef",n=[],r=0;36>r;r++)n[r]=t.choice(e);n[14]="4",n[19]=e.substr(8|3&parseInt(n[19],16),1),n[8]=n[13]=n[18]=n[23]="-";var i=n.join("");return i}}.call(this),"undefined"==typeof Package&&(Package={}),Package.random={Random:t}}(),function(){Package.meteor.Meteor;var e,t,n,r,i=Package.json.JSON,o=Package.underscore._;(function(){e={},t={};var a={};e.addType=function(e,t){if(o.has(a,e))throw new Error("Type "+e+" already present");a[e]=t};var s=function(e){return o.isNaN(e)||1/0===e||e===-1/0},l=[{matchJSONValue:function(e){return o.has(e,"$date")&&1===o.size(e)},matchObject:function(e){return e instanceof Date},toJSONValue:function(e){return{$date:e.getTime()}},fromJSONValue:function(e){return new Date(e.$date)}},{matchJSONValue:function(e){return o.has(e,"$InfNaN")&&1===o.size(e)},matchObject:s,toJSONValue:function(e){var t;return t=o.isNaN(e)?0:1/0===e?1:-1,{$InfNaN:t}},fromJSONValue:function(e){return e.$InfNaN/0}},{matchJSONValue:function(e){return o.has(e,"$binary")&&1===o.size(e)},matchObject:function(e){return"undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&o.has(e,"$Uint8ArrayPolyfill")},toJSONValue:function(e){return{$binary:n(e)}},fromJSONValue:function(e){return r(e.$binary)}},{matchJSONValue:function(e){return o.has(e,"$escape")&&1===o.size(e)},matchObject:function(e){return o.isEmpty(e)||o.size(e)>2?!1:o.any(l,function(t){return t.matchJSONValue(e)})},toJSONValue:function(t){var n={};return o.each(t,function(t,r){n[r]=e.toJSONValue(t)}),{$escape:n}},fromJSONValue:function(t){var n={};return o.each(t.$escape,function(t,r){n[r]=e.fromJSONValue(t)}),n}},{matchJSONValue:function(e){return o.has(e,"$type")&&o.has(e,"$value")&&2===o.size(e)},matchObject:function(t){return e._isCustomType(t)},toJSONValue:function(e){return{$type:e.typeName(),$value:e.toJSONValue()}},fromJSONValue:function(e){var t=e.$type,n=a[t];return n(e.$value)}}];e._isCustomType=function(e){return e&&"function"==typeof e.toJSONValue&&"function"==typeof e.typeName&&o.has(a,e.typeName())};var u=e._adjustTypesToJSONValue=function(e){if(null===e)return null;var t=c(e);return void 0!==t?t:"object"!=typeof e?e:(o.each(e,function(t,n){if("object"==typeof t||void 0===t||s(t)){var r=c(t);return r?(e[n]=r,void 0):(u(t),void 0)}}),e)},c=function(e){for(var t=0;t<l.length;t++){var n=l[t];if(n.matchObject(e))return n.toJSONValue(e)}return void 0};e.toJSONValue=function(t){var n=c(t);return void 0!==n?n:("object"==typeof t&&(t=e.clone(t),u(t)),t)};var d=e._adjustTypesFromJSONValue=function(e){if(null===e)return null;var t=f(e);return t!==e?t:"object"!=typeof e?e:(o.each(e,function(t,n){if("object"==typeof t){var r=f(t);if(t!==r)return e[n]=r,void 0;d(t)}}),e)},f=function(e){if("object"==typeof e&&null!==e&&o.size(e)<=2&&o.all(e,function(e,t){return"string"==typeof t&&"$"===t.substr(0,1)}))for(var t=0;t<l.length;t++){var n=l[t];if(n.matchJSONValue(e))return n.fromJSONValue(e)}return e};e.fromJSONValue=function(t){var n=f(t);return n===t&&"object"==typeof t?(t=e.clone(t),d(t),t):n},e.stringify=function(t,n){var r=e.toJSONValue(t);return n&&(n.canonical||n.indent)?e._canonicalStringify(r,n):i.stringify(r)},e.parse=function(t){if("string"!=typeof t)throw new Error("EJSON.parse argument should be a string");return e.fromJSONValue(i.parse(t))},e.isBinary=function(e){return!!("undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&e.$Uint8ArrayPolyfill)},e.equals=function(t,n,r){var i,a=!(!r||!r.keyOrderSensitive);if(t===n)return!0;if(o.isNaN(t)&&o.isNaN(n))return!0;if(!t||!n)return!1;if("object"!=typeof t||"object"!=typeof n)return!1;if(t instanceof Date&&n instanceof Date)return t.valueOf()===n.valueOf();if(e.isBinary(t)&&e.isBinary(n)){if(t.length!==n.length)return!1;for(i=0;i<t.length;i++)if(t[i]!==n[i])return!1;return!0}if("function"==typeof t.equals)return t.equals(n,r);if(t instanceof Array){if(!(n instanceof Array))return!1;if(t.length!==n.length)return!1;for(i=0;i<t.length;i++)if(!e.equals(t[i],n[i],r))return!1;return!0}var s;if(a){var l=[];return o.each(n,function(e,t){l.push(t)}),i=0,s=o.all(t,function(t,o){return i>=l.length?!1:o!==l[i]?!1:e.equals(t,n[l[i]],r)?(i++,!0):!1}),s&&i===l.length}return i=0,s=o.all(t,function(t,a){return o.has(n,a)?e.equals(t,n[a],r)?(i++,!0):!1:!1}),s&&o.size(n)===i},e.clone=function(t){var n;if("object"!=typeof t)return t;if(null===t)return null;if(t instanceof Date)return new Date(t.getTime());if(e.isBinary(t)){n=e.newBinary(t.length);for(var r=0;r<t.length;r++)n[r]=t[r];return n}if(o.isArray(t)||o.isArguments(t)){for(n=[],r=0;r<t.length;r++)n[r]=e.clone(t[r]);return n}return"function"==typeof t.clone?t.clone():(n={},o.each(t,function(t,r){n[r]=e.clone(t)}),n)}}).call(this),function(){function t(e){return i.stringify(e)}var n=function(e,r,i,a,s){var l,u,c,d,f=a,p=r[e];switch(typeof p){case"string":return t(p);case"number":return isFinite(p)?String(p):"null";case"boolean":return String(p);case"object":if(!p)return"null";if(f=a+i,d=[],o.isArray(p)||o.isArguments(p)){for(c=p.length,l=0;c>l;l+=1)d[l]=n(l,p,i,f,s)||"null";return u=0===d.length?"[]":f?"[\n"+f+d.join(",\n"+f)+"\n"+a+"]":"["+d.join(",")+"]"}var h=o.keys(p);return s&&(h=h.sort()),o.each(h,function(e){u=n(e,p,i,f,s),u&&d.push(t(e)+(f?": ":":")+u)}),u=0===d.length?"{}":f?"{\n"+f+d.join(",\n"+f)+"\n"+a+"}":"{"+d.join(",")+"}"}};e._canonicalStringify=function(e,t){if(t=o.extend({indent:"",canonical:!1},t),t.indent===!0)t.indent="  ";else if("number"==typeof t.indent){for(var r="",i=0;i<t.indent;i++)r+=" ";t.indent=r}return n("",{"":e},t.indent,"",t.canonical)}}.call(this),function(){for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o={},a=0;a<i.length;a++)o[i.charAt(a)]=a;n=function(e){for(var t=[],n=null,r=null,i=null,o=null,a=0;a<e.length;a++)switch(a%3){case 0:n=63&e[a]>>2,r=(3&e[a])<<4;break;case 1:r|=15&e[a]>>4,i=(15&e[a])<<2;break;case 2:i|=3&e[a]>>6,o=63&e[a],t.push(s(n)),t.push(s(r)),t.push(s(i)),t.push(s(o)),n=null,r=null,i=null,o=null}return null!=n&&(t.push(s(n)),t.push(s(r)),null==i?t.push("="):t.push(s(i)),null==o&&t.push("=")),t.join("")};var s=function(e){return i.charAt(e)},l=function(e){return"="===e?-1:o[e]};e.newBinary=function(e){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer){for(var t=[],n=0;e>n;n++)t.push(0);return t.$Uint8ArrayPolyfill=!0,t}return new Uint8Array(new ArrayBuffer(e))},r=function(t){var n=Math.floor(3*t.length/4);"="==t.charAt(t.length-1)&&(n--,"="==t.charAt(t.length-2)&&n--);for(var r=e.newBinary(n),i=null,o=null,a=null,s=0,u=0;u<t.length;u++){var c=t.charAt(u),d=l(c);switch(u%4){case 0:if(0>d)throw new Error("invalid base64 string");i=d<<2;break;case 1:if(0>d)throw new Error("invalid base64 string");i|=d>>4,r[s++]=i,o=(15&d)<<4;break;case 2:d>=0&&(o|=d>>2,r[s++]=o,a=(3&d)<<6);break;case 3:d>=0&&(r[s++]=a|d)}}return r},t.base64Encode=n,t.base64Decode=r}.call(this),"undefined"==typeof Package&&(Package={}),Package.ejson={EJSON:e,EJSONTest:t}}(),function(){Package.meteor.Meteor;var e,t=Package.underscore._;(function(){var n=function(e,t,n,r){return{key:e,value:t,next:n,prev:r}};e=function(){var e=this;e._dict={},e._first=null,e._last=null,e._size=0;var n=t.toArray(arguments);e._stringify=function(e){return e},"function"==typeof n[0]&&(e._stringify=n.shift()),t.each(n,function(t){e.putBefore(t[0],t[1],null)})},t.extend(e.prototype,{_k:function(e){return" "+this._stringify(e)},empty:function(){var e=this;return!e._first},size:function(){var e=this;return e._size},_linkEltIn:function(e){var t=this;e.next?(e.prev=e.next.prev,e.next.prev=e,e.prev&&(e.prev.next=e)):(e.prev=t._last,t._last&&(t._last.next=e),t._last=e),(null===t._first||t._first===e.next)&&(t._first=e)},_linkEltOut:function(e){var t=this;e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next),e===t._last&&(t._last=e.prev),e===t._first&&(t._first=e.next)},putBefore:function(e,t,r){var i=this;if(i._dict[i._k(e)])throw new Error("Item "+e+" already present in OrderedDict");var o=r?n(e,t,i._dict[i._k(r)]):n(e,t,null);if(void 0===o.next)throw new Error("could not find item to put this one before");i._linkEltIn(o),i._dict[i._k(e)]=o,i._size++},append:function(e,t){var n=this;n.putBefore(e,t,null)},remove:function(e){var t=this,n=t._dict[t._k(e)];if(void 0===n)throw new Error("Item "+e+" not present in OrderedDict");return t._linkEltOut(n),t._size--,delete t._dict[t._k(e)],n.value},get:function(e){var t=this;return t.has(e)?t._dict[t._k(e)].value:void 0},has:function(e){var n=this;return t.has(n._dict,n._k(e))},forEach:function(t){for(var n=this,r=0,i=n._first;null!==i;){var o=t(i.value,i.key,r);if(o===e.BREAK)return;i=i.next,r++}},first:function(){var e=this;return e.empty()?void 0:e._first.key},firstValue:function(){var e=this;return e.empty()?void 0:e._first.value},last:function(){var e=this;return e.empty()?void 0:e._last.key},lastValue:function(){var e=this;return e.empty()?void 0:e._last.value},prev:function(e){var t=this;if(t.has(e)){var n=t._dict[t._k(e)];if(n.prev)return n.prev.key}return null},next:function(e){var t=this;if(t.has(e)){var n=t._dict[t._k(e)];if(n.next)return n.next.key}return null},moveBefore:function(e,t){var n=this,r=n._dict[n._k(e)],i=t?n._dict[n._k(t)]:null;if(void 0===r)throw new Error("Item to move is not present");if(void 0===i)throw new Error("Could not find element to move this one before");i!==r.next&&(n._linkEltOut(r),r.next=i,n._linkEltIn(r))},indexOf:function(t){var n=this,r=null;return n.forEach(function(i,o,a){return n._k(o)===n._k(t)?(r=a,e.BREAK):void 0}),r},_checkRep:function(){var e=this;t.each(e._dict,function(e,t){if(t.next===t)throw new Error("Next is a loop");if(t.prev===t)throw new Error("Prev is a loop")})}}),e.BREAK={"break":!0}}).call(this),"undefined"==typeof Package&&(Package={}),Package["ordered-dict"]={OrderedDict:e}}(),function(){Package.meteor.Meteor;var e,t;(function(){t={exports:{}}}).call(this),function(){!function(){function e(e){for(var t=[],n=[],r=0;r<e[0].length;r++)t.push(e[0][r][1]),n.push(e[0][r][0]);return t=t.sort(function(e,t){return e-t}),n=n.sort(function(e,t){return e-t}),[[t[0],n[0]],[t[t.length-1],n[n.length-1]]]}function n(e,t,n){for(var r=[[0,0]],i=0;i<n.length;i++){for(var o=0;o<n[i].length;o++)r.push(n[i][o]);r.push([0,0])}for(var a=!1,i=0,o=r.length-1;i<r.length;o=i++)r[i][0]>t!=r[o][0]>t&&e<(r[o][1]-r[i][1])*(t-r[i][0])/(r[o][0]-r[i][0])+r[i][1]&&(a=!a);return a}var r={};"undefined"!=typeof t&&t.exports&&(t.exports=r),r.lineStringsIntersect=function(e,t){for(var n=[],r=0;r<=e.coordinates.length-2;++r)for(var i=0;i<=t.coordinates.length-2;++i){var o={x:e.coordinates[r][1],y:e.coordinates[r][0]},a={x:e.coordinates[r+1][1],y:e.coordinates[r+1][0]},s={x:t.coordinates[i][1],y:t.coordinates[i][0]},l={x:t.coordinates[i+1][1],y:t.coordinates[i+1][0]},u=(l.x-s.x)*(o.y-s.y)-(l.y-s.y)*(o.x-s.x),c=(a.x-o.x)*(o.y-s.y)-(a.y-o.y)*(o.x-s.x),d=(l.y-s.y)*(a.x-o.x)-(l.x-s.x)*(a.y-o.y);if(0!=d){var f=u/d,p=c/d;f>=0&&1>=f&&p>=0&&1>=p&&n.push({type:"Point",coordinates:[o.x+f*(a.x-o.x),o.y+f*(a.y-o.y)]})}}return 0==n.length&&(n=!1),n},r.pointInBoundingBox=function(e,t){return!(e.coordinates[1]<t[0][0]||e.coordinates[1]>t[1][0]||e.coordinates[0]<t[0][1]||e.coordinates[0]>t[1][1])},r.pointInPolygon=function(t,i){for(var o="Polygon"==i.type?[i.coordinates]:i.coordinates,a=!1,s=0;s<o.length;s++)r.pointInBoundingBox(t,e(o[s]))&&(a=!0);if(!a)return!1;for(var l=!1,s=0;s<o.length;s++)n(t.coordinates[1],t.coordinates[0],o[s])&&(l=!0);return l},r.numberToRadius=function(e){return e*Math.PI/180},r.numberToDegree=function(e){return 180*e/Math.PI},r.drawCircle=function(e,t,n){for(var i=[t.coordinates[1],t.coordinates[0]],o=e/1e3/6371,a=[r.numberToRadius(i[0]),r.numberToRadius(i[1])],n=n||15,s=[[i[0],i[1]]],l=0;n>l;l++){var u=2*Math.PI*l/n,c=Math.asin(Math.sin(a[0])*Math.cos(o)+Math.cos(a[0])*Math.sin(o)*Math.cos(u)),d=a[1]+Math.atan2(Math.sin(u)*Math.sin(o)*Math.cos(a[0]),Math.cos(o)-Math.sin(a[0])*Math.sin(c));s[l]=[],s[l][1]=r.numberToDegree(c),s[l][0]=r.numberToDegree(d)}return{type:"Polygon",coordinates:[s]}},r.rectangleCentroid=function(e){var t=e.coordinates[0],n=t[0][0],r=t[0][1],i=t[2][0],o=t[2][1],a=i-n,s=o-r;return{type:"Point",coordinates:[n+a/2,r+s/2]}},r.pointDistance=function(e,t){var n=e.coordinates[0],i=e.coordinates[1],o=t.coordinates[0],a=t.coordinates[1],s=r.numberToRadius(a-i),l=r.numberToRadius(o-n),u=Math.pow(Math.sin(s/2),2)+Math.cos(r.numberToRadius(i))*Math.cos(r.numberToRadius(a))*Math.pow(Math.sin(l/2),2),c=2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u));return 1e3*6371*c},r.geometryWithinRadius=function(e,t,n){if("Point"==e.type)return r.pointDistance(e,t)<=n;if("LineString"==e.type||"Polygon"==e.type){var i,o={};i="Polygon"==e.type?e.coordinates[0]:e.coordinates;for(var a in i)if(o.coordinates=i[a],r.pointDistance(o,t)>n)return!1}return!0},r.area=function(e){for(var t,n,r=0,i=e.coordinates[0],o=i.length-1,a=0;a<i.length;o=a++){var t={x:i[a][1],y:i[a][0]},n={x:i[o][1],y:i[o][0]};r+=t.x*n.y,r-=t.y*n.x}return r/=2},r.centroid=function(e){for(var t,n,i,o=0,a=0,s=e.coordinates[0],l=s.length-1,u=0;u<s.length;l=u++){var n={x:s[u][1],y:s[u][0]},i={x:s[l][1],y:s[l][0]};t=n.x*i.y-i.x*n.y,o+=(n.x+i.x)*t,a+=(n.y+i.y)*t}return t=6*r.area(e),{type:"Point",coordinates:[a/t,o/t]}},r.simplify=function(e,t){t=t||20,e=e.map(function(e){return{lng:e.coordinates[0],lat:e.coordinates[1]}});var n,r,i,o,a,s,l,u,c,d,f,p,h,m,g,v,_,y,b,w=.5*(Math.PI/180),k=new Array,M=new Array,T=new Array;if(e.length<3)return e;for(n=e.length,d=360*t/(6378137*2*Math.PI),d*=d,i=0,M[0]=0,T[0]=n-1,r=1;r>0;)if(o=M[r-1],a=T[r-1],r--,a-o>1){for(f=e[a].lng()-e[o].lng(),p=e[a].lat()-e[o].lat(),Math.abs(f)>180&&(f=360-Math.abs(f)),f*=Math.cos(w*(e[a].lat()+e[o].lat())),h=f*f+p*p,s=o+1,l=o,c=-1;a>s;s++)m=e[s].lng()-e[o].lng(),g=e[s].lat()-e[o].lat(),Math.abs(m)>180&&(m=360-Math.abs(m)),m*=Math.cos(w*(e[s].lat()+e[o].lat())),v=m*m+g*g,_=e[s].lng()-e[a].lng(),y=e[s].lat()-e[a].lat(),Math.abs(_)>180&&(_=360-Math.abs(_)),_*=Math.cos(w*(e[s].lat()+e[a].lat())),b=_*_+y*y,u=v>=h+b?b:b>=h+v?v:(m*p-g*f)*(m*p-g*f)/h,u>c&&(l=s,c=u);d>c?(k[i]=o,i++):(r++,M[r-1]=l,T[r-1]=a,r++,M[r-1]=o,T[r-1]=l)}else k[i]=o,i++;k[i]=n-1,i++;for(var S=new Array,s=0;i>s;s++)S.push(e[k[s]]);return S.map(function(e){return{type:"Point",coordinates:[e.lng,e.lat]}})},r.destinationPoint=function(e,t,n){n/=6371,t=r.numberToRadius(t);var i=r.numberToRadius(e.coordinates[0]),o=r.numberToRadius(e.coordinates[1]),a=Math.asin(Math.sin(i)*Math.cos(n)+Math.cos(i)*Math.sin(n)*Math.cos(t)),s=o+Math.atan2(Math.sin(t)*Math.sin(n)*Math.cos(i),Math.cos(n)-Math.sin(i)*Math.sin(a));return s=(s+3*Math.PI)%(2*Math.PI)-Math.PI,{type:"Point",coordinates:[r.numberToDegree(a),r.numberToDegree(s)]}}}()}.call(this),function(){e=t.exports}.call(this),"undefined"==typeof Package&&(Package={}),Package["geojson-utils"]={GeoJSON:e}}(),function(){var e,t=Package.meteor.Meteor,n=Package.underscore._,r=Package.json.JSON,i=Package.ejson.EJSON,o=Package["ordered-dict"].OrderedDict,a=Package.deps.Deps,s=Package.random.Random,l=Package["geojson-utils"].GeoJSON;(function(){e=function(e){this.name=e,this.docs={},this._observeQueue=new t._SynchronousQueue,this.next_qid=1,this.queries={},this._savedOriginals=null,this.paused=!1},e._applyChanges=function(e,t){n.each(t,function(t,n){void 0===t?delete e[n]:e[n]=t})};var l=function(e){var t=new Error(e);return t.name="MinimongoError",t};e.prototype.find=function(t,n){return 0===arguments.length&&(t={}),new e.Cursor(this,t,n)},e.Cursor=function(t,n,r){var i=this;if(r||(r={}),this.collection=t,e._selectorIsId(n))i.selector_id=e._idStringify(n),i.selector_f=e._compileSelector(n,i),i.sort_f=void 0;else{if(c(n))throw new Error("$near can't be inside $or/$and/$nor/$not");i.selector_id=void 0,i.selector_f=e._compileSelector(n,i),i.sort_f=u(n)||r.sort?e._compileSort(r.sort||[],i):null}i.skip=r.skip,i.limit=r.limit,i.fields=r.fields,i.fields&&(i.projection_f=e._compileProjection(i.fields)),i._transform=r.transform&&"undefined"!=typeof a?a._makeNonreactive(r.transform):r.transform,i.db_objects=null,i.cursor_pos=0,"undefined"!=typeof a&&(i.reactive=void 0===r.reactive?!0:r.reactive)},e.Cursor.prototype.rewind=function(){var e=this;e.db_objects=null,e.cursor_pos=0},e.prototype.findOne=function(e,t){return 0===arguments.length&&(e={}),t=t||{},t.limit=1,this.find(e,t).fetch()[0]},e.Cursor.prototype.forEach=function(e,t){var n=this;for(null===n.db_objects&&(n.db_objects=n._getRawObjects(!0)),n.reactive&&n._depend({addedBefore:!0,removed:!0,changed:!0,movedBefore:!0});n.cursor_pos<n.db_objects.length;){var r=i.clone(n.db_objects[n.cursor_pos]);n.projection_f&&(r=n.projection_f(r)),n._transform&&(r=n._transform(r)),e.call(t,r,n.cursor_pos,n),++n.cursor_pos}},e.Cursor.prototype.getTransform=function(){var e=this;return e._transform},e.Cursor.prototype.map=function(e,t){var n=this,r=[];return n.forEach(function(i,o){r.push(e.call(t,i,o,n))}),r},e.Cursor.prototype.fetch=function(){var e=this,t=[];return e.forEach(function(e){t.push(e)}),t},e.Cursor.prototype.count=function(){var e=this;return e.reactive&&e._depend({added:!0,removed:!0},!0),null===e.db_objects&&(e.db_objects=e._getRawObjects(!0)),e.db_objects.length},e.Cursor.prototype._publishCursor=function(e){var n=this;if(!n.collection.name)throw new Error("Can't publish a cursor from a collection without a name.");var r=n.collection.name;return t.Collection._publishCursor(n,e,r)},e._isOrderedChanges=function(e){if(e.added&&e.addedBefore)throw new Error("Please specify only one of added() and addedBefore()");return"function"==typeof e.addedBefore||"function"==typeof e.movedBefore},e.LiveResultsSet=function(){},n.extend(e.Cursor.prototype,{observe:function(t){var n=this;return e._observeFromObserveChanges(n,t)},observeChanges:function(t){var r=this,o=e._isOrderedChanges(t);if(!t._allow_unordered&&!o&&(r.skip||r.limit))throw new Error("must use ordered observe with skip or limit");var s,l={selector_f:r.selector_f,sort_f:o&&r.sort_f,results_snapshot:null,ordered:o,cursor:r,observeChanges:t.observeChanges,fields:r.fields,projection_f:r.projection_f};r.reactive&&(s=r.collection.next_qid++,r.collection.queries[s]=l),l.results=r._getRawObjects(o),r.collection.paused&&(l.results_snapshot=o?[]:{});var u=function(e,t,i){return e?function(){var o=this,a=arguments;void 0!==t&&r.projection_f&&(a[t]=r.projection_f(a[t]),i&&n.isEmpty(a[t]))||r.collection.paused||r.collection._observeQueue.queueTask(function(){e.apply(o,a)})}:function(){}};l.added=u(t.added,1),l.changed=u(t.changed,1,!0),l.removed=u(t.removed),o&&(l.moved=u(t.moved),l.addedBefore=u(t.addedBefore,1),l.movedBefore=u(t.movedBefore)),t._suppress_initial||r.collection.paused||n.each(l.results,function(e){var t=i.clone(e);delete t._id,o&&l.addedBefore(e._id,t,null),l.added(e._id,t)});var c=new e.LiveResultsSet;return n.extend(c,{collection:r.collection,stop:function(){r.reactive&&delete r.collection.queries[s]}}),r.reactive&&a.active&&a.onInvalidate(function(){c.stop()}),r.collection._observeQueue.drain(),c}}),e.Cursor.prototype._getRawObjects=function(e){var t=this,r=e?[]:{};if(t.selector_id){if(t.skip)return r;if(n.has(t.collection.docs,t.selector_id)){var i=t.collection.docs[t.selector_id];e?r.push(i):r[t.selector_id]=i}return r}for(var o in t.collection.docs){var a=t.collection.docs[o];if(t.selector_f(a)&&(e?r.push(a):r[o]=a),t.limit&&!t.skip&&!t.sort_f&&r.length===t.limit)return r
}if(!e)return r;t.sort_f&&r.sort(t.sort_f);var s=t.skip||0,l=t.limit?t.limit+s:r.length;return r.slice(s,l)},e.Cursor.prototype._depend=function(e,t){var r=this;if(a.active){var i=new a.Dependency;i.depend();var o=n.bind(i.changed,i),s={_suppress_initial:!0,_allow_unordered:t};n.each(["added","changed","removed","addedBefore","movedBefore"],function(t){e[t]&&(s[t]=o)}),r.observeChanges(s)}},e.prototype.insert=function(r,o){var a=this;r=i.clone(r),n.has(r,"_id")||(r._id=e._useOID?new e._ObjectID:s.id());var u=e._idStringify(r._id);if(n.has(a.docs,u))throw l("Duplicate _id '"+r._id+"'");a._saveOriginal(u,void 0),a.docs[u]=r;var c=[];for(var d in a.queries){var f=a.queries[d];f.selector_f(r)&&(f.cursor.skip||f.cursor.limit?c.push(d):e._insertInResults(f,r))}return n.each(c,function(t){a.queries[t]&&e._recomputeResults(a.queries[t])}),a._observeQueue.drain(),o&&t.defer(function(){o(null,r._id)}),r._id},e.prototype.remove=function(r,i){var o=this,a=[],s=[],l=e._compileSelector(r,o),u=e._idsMatchedBySelector(r);if(u)n.each(u,function(t){var r=e._idStringify(t);n.has(o.docs,r)&&l(o.docs[r])&&a.push(r)});else for(var c in o.docs){var d=o.docs[c];l(d)&&a.push(c)}for(var f=[],p=0;p<a.length;p++){var h=a[p],m=o.docs[h];n.each(o.queries,function(e,t){e.selector_f(m)&&(e.cursor.skip||e.cursor.limit?s.push(t):f.push({qid:t,doc:m}))}),o._saveOriginal(h,m),delete o.docs[h]}n.each(f,function(t){var n=o.queries[t.qid];n&&e._removeFromResults(n,t.doc)}),n.each(s,function(t){var n=o.queries[t];n&&e._recomputeResults(n)}),o._observeQueue.drain();var g=a.length;return i&&t.defer(function(){i(null,g)}),g},e.prototype.update=function(r,o,a,s){var l=this;!s&&a instanceof Function&&(s=a,a=null),a||(a={});var u=e._compileSelector(r,l),c={};n.each(l.queries,function(e,t){!e.cursor.skip&&!e.cursor.limit||e.paused||(c[t]=i.clone(e.results))});var d={},f=0;for(var p in l.docs){var h=l.docs[p];if(u(h)&&(l._saveOriginal(p,h),l._modifyAndNotify(h,o,d),++f,!a.multi))break}n.each(d,function(t,n){var r=l.queries[n];r&&e._recomputeResults(r,c[n])}),l._observeQueue.drain();var m;if(0===f&&a.upsert){var g=e._removeDollarOperators(r);e._modify(g,o,!0),!g._id&&a.insertedId&&(g._id=a.insertedId),m=l.insert(g),f=1}var v;return a._returnObject?(v={numberAffected:f},void 0!==m&&(v.insertedId=m)):v=f,s&&t.defer(function(){s(null,v)}),v},e.prototype.upsert=function(e,t,r,i){var o=this;return i||"function"!=typeof r||(i=r,r={}),o.update(e,t,n.extend({},r,{upsert:!0,_returnObject:!0}),i)},e.prototype._modifyAndNotify=function(t,r,o){var a=this,s={};for(var l in a.queries){var u=a.queries[l];s[l]=u.ordered?u.selector_f(t):n.has(u.results,e._idStringify(t._id))}var c=i.clone(t);e._modify(t,r);for(l in a.queries){u=a.queries[l];var d=s[l],f=u.selector_f(t);u.cursor.skip||u.cursor.limit?(d||f)&&(o[l]=!0):d&&!f?e._removeFromResults(u,t):!d&&f?e._insertInResults(u,t):d&&f&&e._updateInResults(u,t,c)}},e._insertInResults=function(t,n){var r=i.clone(n);if(delete r._id,t.ordered){if(t.sort_f){var o=e._insertInSortedList(t.sort_f,t.results,n),a=t.results[o+1];a=a?a._id:null,t.addedBefore(n._id,r,a)}else t.addedBefore(n._id,r,null),t.results.push(n);t.added(n._id,r)}else t.added(n._id,r),t.results[e._idStringify(n._id)]=n},e._removeFromResults=function(t,n){if(t.ordered){var r=e._findInOrderedResults(t,n);t.removed(n._id),t.results.splice(r,1)}else{var i=e._idStringify(n._id);t.removed(n._id),delete t.results[i]}},e._updateInResults=function(t,r,o){if(!i.equals(r._id,o._id))throw new Error("Can't change a doc's _id while updating");var a=e._makeChangedFields(r,o);if(!t.ordered)return n.isEmpty(a)||(t.changed(r._id,a),t.results[e._idStringify(r._id)]=r),void 0;var s=e._findInOrderedResults(t,r);if(n.isEmpty(a)||t.changed(r._id,a),t.sort_f){t.results.splice(s,1);var l=e._insertInSortedList(t.sort_f,t.results,r);if(s!==l){var u=t.results[l+1];u=u?u._id:null,t.movedBefore&&t.movedBefore(r._id,u)}}},e._recomputeResults=function(t,n){n||(n=t.results),t.results=t.cursor._getRawObjects(t.ordered),t.paused||e._diffQueryChanges(t.ordered,n,t.results,t)},e._findInOrderedResults=function(e,t){if(!e.ordered)throw new Error("Can't call _findInOrderedResults on unordered query");for(var n=0;n<e.results.length;n++)if(e.results[n]===t)return n;throw Error("object missing from query")},e._binarySearch=function(e,t,n){for(var r=0,i=t.length;i>0;){var o=Math.floor(i/2);e(n,t[r+o])>=0?(r+=o+1,i-=o+1):i=o}return r},e._insertInSortedList=function(t,n,r){if(0===n.length)return n.push(r),0;var i=e._binarySearch(t,n,r);return n.splice(i,0,r),i},e.prototype.saveOriginals=function(){var e=this;if(e._savedOriginals)throw new Error("Called saveOriginals twice without retrieveOriginals");e._savedOriginals={}},e.prototype.retrieveOriginals=function(){var e=this;if(!e._savedOriginals)throw new Error("Called retrieveOriginals without saveOriginals");var t=e._savedOriginals;return e._savedOriginals=null,t},e.prototype._saveOriginal=function(e,t){var r=this;r._savedOriginals&&(n.has(r._savedOriginals,e)||(r._savedOriginals[e]=i.clone(t)))},e.prototype.pauseObservers=function(){if(!this.paused){this.paused=!0;for(var e in this.queries){var t=this.queries[e];t.results_snapshot=i.clone(t.results)}}},e.prototype.resumeObservers=function(){var t=this;if(this.paused){this.paused=!1;for(var n in this.queries){var r=t.queries[n];e._diffQueryChanges(r.ordered,r.results_snapshot,r.results,r),r.results_snapshot=null}t._observeQueue.drain()}},e._idStringify=function(t){if(t instanceof e._ObjectID)return t.valueOf();if("string"==typeof t)return""===t?t:"-"===t.substr(0,1)||"~"===t.substr(0,1)||e._looksLikeObjectID(t)||"{"===t.substr(0,1)?"-"+t:t;if(void 0===t)return"-";if("object"==typeof t&&null!==t)throw new Error("Meteor does not currently support objects other than ObjectID as ids");return"~"+r.stringify(t)},e._idParse=function(t){return""===t?t:"-"===t?void 0:"-"===t.substr(0,1)?t.substr(1):"~"===t.substr(0,1)?r.parse(t.substr(1)):e._looksLikeObjectID(t)?new e._ObjectID(t):t},e._makeChangedFields=function(t,n){var r={};return e._diffObjects(n,t,{leftOnly:function(e){r[e]=void 0},rightOnly:function(e,t){r[e]=t},both:function(e,t,n){i.equals(t,n)||(r[e]=n)}}),r},e._observeFromObserveChanges=function(t,n){var r=t.getTransform();if(r||(r=function(e){return e}),n.addedAt&&n.added)throw new Error("Please specify only one of added() and addedAt()");if(n.changedAt&&n.changed)throw new Error("Please specify only one of changed() and changedAt()");if(n.removed&&n.removedAt)throw new Error("Please specify only one of removed() and removedAt()");return n.addedAt||n.movedTo||n.changedAt||n.removedAt?e._observeOrderedFromObserveChanges(t,n,r):e._observeUnorderedFromObserveChanges(t,n,r)},e._observeUnorderedFromObserveChanges=function(t,n,r){var o={},a=!!n._suppress_initial,s=t.observeChanges({added:function(t,s){var l=e._idStringify(t),u=i.clone(s);u._id=t,o[l]=u,a||n.added&&n.added(r(u))},changed:function(t,s){var l=e._idStringify(t),u=o[l],c=i.clone(u);e._applyChanges(u,s),a||n.changed&&n.changed(r(u),r(c))},removed:function(t){var i=e._idStringify(t),s=o[i];delete o[i],a||n.removed&&n.removed(r(s))}});return a=!1,s},e._observeOrderedFromObserveChanges=function(t,n,r){var a=new o(e._idStringify),s=!!n._suppress_initial,l=!n._no_indices,u=t.observeChanges({addedBefore:function(e,t,o){var u=i.clone(t);if(u._id=e,a.putBefore(e,u,o||null),!s)if(n.addedAt){var c=l?a.indexOf(e):-1;n.addedAt(r(i.clone(u)),c,o)}else n.added&&n.added(r(i.clone(u)))},changed:function(t,o){var s=a.get(t);if(!s)throw new Error("Unknown id for changed: "+t);var u=i.clone(s);if(e._applyChanges(s,o),n.changedAt){var c=l?a.indexOf(t):-1;n.changedAt(r(i.clone(s)),r(u),c)}else n.changed&&n.changed(r(i.clone(s)),r(u))},movedBefore:function(e,t){var o,s=a.get(e);if(n.movedTo&&(o=l?a.indexOf(e):-1),a.moveBefore(e,t||null),n.movedTo){var u=l?a.indexOf(e):-1;n.movedTo(r(i.clone(s)),o,u,t||null)}else n.moved&&n.moved(r(i.clone(s)))},removed:function(e){var t,i=a.get(e);n.removedAt&&(t=l?a.indexOf(e):-1),a.remove(e),n.removedAt&&n.removedAt(r(i),t),n.removed&&n.removed(r(i))}});return s=!1,u},e._compileProjection=function(e){if(!n.isObject(e))throw l("fields option must be an object");if(n.any(n.values(e),function(e){return-1===n.indexOf([1,0,!0,!1],e)}))throw l("Projection values should be one of 1, 0, true, or false");var t=n.isUndefined(e._id)?!0:e._id,r=n.reject(n.keys(e).sort(),function(e){return"_id"===e}),o=null,a={};n.each(r,function(t){var r=!!e[t];if(null===o&&(o=r),o!==r)throw l("You cannot currently mix including and excluding fields.");var i=a;t=t.split("."),n.each(t.slice(0,-1),function(e,r){if(n.has(i,e)){if(n.isBoolean(i[e])){var o=t.join("."),a=t.slice(0,r+1).join(".");throw l("both "+o+" and "+a+" found in fields option, using both of them may trigger unexpected behavior. Did you mean to use only one of them?")}}else i[e]={};i=i[e]}),i[n.last(t)]=o});var s=function(e,t){if(n.isArray(e))return n.map(e,function(e){return s(e,t)});var r=o?{}:i.clone(e);return n.each(t,function(t,i){n.has(e,i)&&(n.isObject(t)?n.isObject(e[i])&&(r[i]=s(e[i],t)):o?r[i]=e[i]:delete r[i])}),r};return function(e){var r=s(e,a);return t&&n.has(e,"_id")&&(r._id=e._id),!t&&n.has(r,"_id")&&delete r._id,r}};var u=function(e){return n.any(e,function(e,t){return"$near"===t||n.isObject(e)&&u(e)})},c=function(e){return n.any(e,function(e,t){return n.contains(["$or","$and","$nor","$not"],t)?u(e):n.isObject(e)&&c(e)})}}).call(this),function(){var t=function(e){return n.isArray(e)&&!i.isBinary(e)},o=function(e,r){return t(e)?n.any(e,r):r(e)},a=function(e,r){return r(e)?!0:t(e)&&n.any(e,r)},s=function(e){var t=void 0;for(var n in e){var r="$"===n.substr(0,1);if(void 0===t)t=r;else if(t!==r)throw new Error("Inconsistent selector: "+e)}return!!t},u=function(r,i,l){if(null==r)return function(e){return o(e,function(e){return null==e})};if(!n.isObject(r))return function(e){return o(e,function(e){return e===r})};if(r instanceof RegExp)return function(e){return void 0===e?!1:o(e,function(e){return r.test(e)})};if(t(r))return function(n){return t(n)?a(n,function(t){return e._f._equal(r,t)}):!1};if(s(r)){var u=[];return n.each(r,function(e,t){if(!n.has(d,t))throw new Error("Unrecognized operator: "+t);u.push(d[t](e,r,l))}),function(e,t){return n.all(u,function(n){return n(e,t)})}}return function(t){return o(t,function(t){return e._f._equal(r,t)})}},c={$and:function(e,r,i){if(!t(e)||n.isEmpty(e))throw Error("$and/$or/$nor must be nonempty array");var o=n.map(e,function(e){return f(e,i)});return function(e,t){return n.all(o,function(n){return n(e,t)})}},$or:function(e,r,i){if(!t(e)||n.isEmpty(e))throw Error("$and/$or/$nor must be nonempty array");var o=n.map(e,function(e){return f(e,i)});return function(e,t){return n.any(o,function(n){return n(e,t)})}},$nor:function(e,r,i){if(!t(e)||n.isEmpty(e))throw Error("$and/$or/$nor must be nonempty array");var o=n.map(e,function(e){return f(e,i)});return function(e,t){return n.all(o,function(n){return!n(e,t)})}},$where:function(e){return e instanceof Function||(e=Function("return "+e)),function(t){return e.call(t)}}},d={$in:function(r){if(!t(r))throw new Error("Argument to $in must be array");return function(t){return a(t,function(t){return n.any(r,function(n){return e._f._equal(n,t)})})}},$all:function(r){if(!t(r))throw new Error("Argument to $all must be array");return function(i){return t(i)?n.all(r,function(t){return n.any(i,function(n){return e._f._equal(t,n)})}):!1}},$lt:function(t){return function(n){return o(n,function(n){return e._f._cmp(n,t)<0})}},$lte:function(t){return function(n){return o(n,function(n){return e._f._cmp(n,t)<=0})}},$gt:function(t){return function(n){return o(n,function(n){return e._f._cmp(n,t)>0})}},$gte:function(t){return function(n){return o(n,function(n){return e._f._cmp(n,t)>=0})}},$ne:function(t){return function(n){return!a(n,function(n){return e._f._equal(n,t)})}},$nin:function(e){if(!t(e))throw new Error("Argument to $nin must be array");var n=d.$in(e);return function(e,t){return void 0===e?!0:!n(e,t)}},$exists:function(e){return function(t){return e===(void 0!==t)}},$mod:function(e){var t=e[0],n=e[1];return function(e){return o(e,function(e){return e%t===n})}},$size:function(e){return function(n){return t(n)&&e===n.length}},$type:function(t){return function(n){return void 0===n?!1:o(n,function(n){return e._f._type(n)===t})}},$regex:function(e,t){var n=t.$options;if(void 0!==n){if(/[^gim]/.test(n))throw new Error("Only the i, m, and g regexp options are supported");var r=e instanceof RegExp?e.source:e;e=new RegExp(r,n)}else e instanceof RegExp||(e=new RegExp(e));return function(t){return void 0===t?!1:o(t,function(t){return e.test(t)})}},$options:function(){return function(){return!0}},$elemMatch:function(e,r,i){var o=f(e,i);return function(e,r){return t(e)?n.any(e,function(e){return o(e,r)}):!1}},$not:function(e,t,n){var r=u(e,t,n);return function(e,t){return!r(e,t)}},$near:function(e,t,r){function i(e,t){e=o(e),t=o(t);var r=e[0]-t[0],i=e[1]-t[1];return n.isNaN(r)||n.isNaN(i)?null:Math.sqrt(r*r+i*i)}function o(e){return n.map(e,n.identity)}var a=n.isObject(e)&&n.has(e,"$geometry")?"2dsphere":"2d",s="2d"===a?t.$maxDistance:e.$maxDistance,u="2d"===a?e:e.$geometry;return function(e,t){var n=null;switch(a){case"2d":n=i(u,e);break;case"2dsphere":n="Point"===e.type?l.pointDistance(u,e):l.geometryWithinRadius(e,u,s)?0:s+1}return r&&(r._distance||(r._distance={}),r._distance[t._id]=n),null===n?!1:void 0===s?!0:s>=n}},$maxDistance:function(){return function(){return!0}}};e._f={_type:function(n){return"number"==typeof n?1:"string"==typeof n?2:"boolean"==typeof n?8:t(n)?4:null===n?10:n instanceof RegExp?11:"function"==typeof n?13:n instanceof Date?9:i.isBinary(n)?5:n instanceof e._ObjectID?7:3},_equal:function(e,t){return i.equals(e,t,{keyOrderSensitive:!0})},_typeorder:function(e){return[-1,1,2,3,4,5,-1,6,7,8,0,9,-1,100,2,100,1,8,1][e]},_cmp:function(t,n){if(void 0===t)return void 0===n?0:-1;if(void 0===n)return 1;var r=e._f._type(t),i=e._f._type(n),o=e._f._typeorder(r),a=e._f._typeorder(i);if(o!==a)return a>o?-1:1;if(r!==i)throw Error("Missing type coercion logic in _cmp");if(7===r&&(r=i=2,t=t.toHexString(),n=n.toHexString()),9===r&&(r=i=1,t=t.getTime(),n=n.getTime()),1===r)return t-n;if(2===i)return n>t?-1:t===n?0:1;if(3===r){var s=function(e){var t=[];for(var n in e)t.push(n),t.push(e[n]);return t};return e._f._cmp(s(t),s(n))}if(4===r)for(var l=0;;l++){if(l===t.length)return l===n.length?0:-1;if(l===n.length)return 1;var u=e._f._cmp(t[l],n[l]);if(0!==u)return u}if(5===r){if(t.length!==n.length)return t.length-n.length;for(l=0;l<t.length;l++){if(t[l]<n[l])return-1;if(t[l]>n[l])return 1}return 0}if(8===r)return t?n?0:1:n?-1:0;if(10===r)return 0;if(11===r)throw Error("Sorting not supported on regular expression");if(13===r)throw Error("Sorting not supported on Javascript code");throw Error("Unknown type to sort")}},e._matches=function(t,n){return e._compileSelector(t)(n)},e._makeLookupFunction=function(r){var i,o,a,s=r.indexOf(".");if(-1===s)i=r;else{i=r.substr(0,s);var l=r.substr(s+1);o=e._makeLookupFunction(l),a=/^\d+(\.|$)/.test(l)}return function(e){if(null==e)return[void 0];var r=e[i];return o?t(r)&&0===r.length?[void 0]:((!t(r)||a)&&(r=[r]),Array.prototype.concat.apply([],n.map(r,o))):[r]}};var f=function(t,r){var i=[];return n.each(t,function(o,a){if("$"===a.substr(0,1)){if(!n.has(c,a))throw new Error("Unrecognized logical operator: "+a);i.push(c[a](o,t,r))}else{var s=e._makeLookupFunction(a),l=u(o,t,r);i.push(function(e,t){var r=s(e),i=o&&(o.$not||o.$ne||o.$nin)?n.all:n.any;return i(r,function(e){return l(e,t)})})}}),function(e,t){return void 0===t&&(t=e),n.all(i,function(n){return n(e,t)})}};e._compileSelector=function(n,r){if(n instanceof Function)return function(e){return n.call(e)};if(e._selectorIsId(n))return function(e){return i.equals(e._id,n)};if(!n||"_id"in n&&!n._id)return function(){return!1};if("boolean"==typeof n||t(n)||i.isBinary(n))throw new Error("Invalid selector: "+n);return f(n,r)},e._compileSort=function(i,o){var a=[];if(i instanceof Array)for(var s=0;s<i.length;s++)"string"==typeof i[s]?a.push({lookup:e._makeLookupFunction(i[s]),ascending:!0}):a.push({lookup:e._makeLookupFunction(i[s][0]),ascending:"desc"!==i[s][1]});else{if("object"!=typeof i)throw Error("Bad sort specification: ",r.stringify(i));for(var l in i)a.push({lookup:e._makeLookupFunction(l),ascending:i[l]>=0})}if(0===a.length)return function(e,t){return o&&o._distance?o._distance[e._id]-o._distance[t._id]:0};var u=function(r,i){var o,a=!0;return n.each(r,function(r){t(r)||(r=[r]),t(r)&&0===r.length&&(r=[void 0]),n.each(r,function(t){if(a)o=t,a=!1;else{var n=e._f._cmp(o,t);(i&&n>0||!i&&0>n)&&(o=t)}})}),o};return function(t,n){for(var r=0;r<a.length;++r){var i=a[r],o=u(i.lookup(t),i.ascending),s=u(i.lookup(n),i.ascending),l=e._f._cmp(o,s);if(0!==l)return i.ascending?l:-l}return 0}}}.call(this),function(){e._modify=function(t,r,o){var a=!1;for(var s in r){a="$"===s.substr(0,1);break}var l;if(a){var l=i.clone(t);for(var u in r){var c=e._modifiers[u];if(o&&"$setOnInsert"===u&&(c=e._modifiers.$set),!c)throw Error("Invalid modifier specified "+u);for(var d in r[u]){if(d.length&&"."===d[d.length-1])throw Error("Invalid mod field name, may not end in a period");var f=r[u][d],p=d.split("."),h=!!e._noCreateModifiers[u],m="$rename"===u,g=e._findModTarget(l,p,h,m),v=p.pop();c(g,v,f,d,l)}}}else{if(r._id&&!i.equals(t._id,r._id))throw Error("Cannot change the _id of a document");for(var s in r){if("$"===s.substr(0,1))throw Error("When replacing document, field name may not start with '$'");if(/\./.test(s))throw Error("When replacing document, field name may not contain '.'")}l=r}n.each(n.keys(t),function(e){("_id"!==e||o)&&delete t[e]});for(var s in l)t[s]=l[s]},e._findModTarget=function(e,t,n,i){for(var o=0;o<t.length;o++){var a=o===t.length-1,s=t[o],l=/^[0-9]+$/.test(s);if(!(!n||"object"==typeof e&&s in e))return void 0;if(e instanceof Array){if(i)return null;if(!l)throw Error("can't append to array using string field name ["+s+"]");for(s=parseInt(s),a&&(t[o]=s);e.length<s;)e.push(null);if(!a)if(e.length===s)e.push({});else if("object"!=typeof e[s])throw Error("can't modify field '"+t[o+1]+"' of list value "+r.stringify(e[s]))}else a||s in e||(e[s]={});if(a)return e;e=e[s]}},e._noCreateModifiers={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},e._modifiers={$inc:function(e,t,n){if("number"!=typeof n)throw Error("Modifier $inc allowed for numbers only");if(t in e){if("number"!=typeof e[t])throw Error("Cannot apply $inc modifier to non-number");e[t]+=n}else e[t]=n},$set:function(e,t,n){if("_id"===t&&!i.equals(n,e._id))throw Error("Cannot change the _id of a document");e[t]=i.clone(n)},$setOnInsert:function(){},$unset:function(e,t){void 0!==e&&(e instanceof Array?t in e&&(e[t]=null):delete e[t])},$push:function(e,t,n){var r=e[t];if(void 0===r)e[t]=[n];else{if(!(r instanceof Array))throw Error("Cannot apply $push modifier to non-array");r.push(i.clone(n))}},$pushAll:function(e,t,n){if(!("object"==typeof n&&n instanceof Array))throw Error("Modifier $pushAll/pullAll allowed for arrays only");var r=e[t];if(void 0===r)e[t]=n;else{if(!(r instanceof Array))throw Error("Cannot apply $pushAll modifier to non-array");for(var i=0;i<n.length;i++)r.push(n[i])}},$addToSet:function(t,r,i){var o=t[r];if(void 0===o)t[r]=[i];else{if(!(o instanceof Array))throw Error("Cannot apply $addToSet modifier to non-array");var a=!1;if("object"==typeof i)for(var s in i){"$each"===s&&(a=!0);break}var l=a?i.$each:[i];n.each(l,function(t){for(var n=0;n<o.length;n++)if(e._f._equal(t,o[n]))return;o.push(t)})}},$pop:function(e,t,n){if(void 0!==e){var r=e[t];if(void 0!==r){if(!(r instanceof Array))throw Error("Cannot apply $pop modifier to non-array");"number"==typeof n&&0>n?r.splice(0,1):r.pop()}}},$pull:function(t,n,r){if(void 0!==t){var i=t[n];if(void 0!==i){if(!(i instanceof Array))throw Error("Cannot apply $pull/pullAll modifier to non-array");var o=[];if("object"!=typeof r||r instanceof Array)for(var a=0;a<i.length;a++)e._f._equal(i[a],r)||o.push(i[a]);else for(var s=e._compileSelector(r),a=0;a<i.length;a++)s(i[a])||o.push(i[a]);t[n]=o}}},$pullAll:function(t,n,r){if(!("object"==typeof r&&r instanceof Array))throw Error("Modifier $pushAll/pullAll allowed for arrays only");if(void 0!==t){var i=t[n];if(void 0!==i){if(!(i instanceof Array))throw Error("Cannot apply $pull/pullAll modifier to non-array");for(var o=[],a=0;a<i.length;a++){for(var s=!1,l=0;l<r.length;l++)if(e._f._equal(i[a],r[l])){s=!0;break}s||o.push(i[a])}t[n]=o}}},$rename:function(t,n,r,i,o){if(i===r)throw Error("$rename source must differ from target");if(null===t)throw Error("$rename source field invalid");if("string"!=typeof r)throw Error("$rename target must be a string");if(void 0!==t){var a=t[n];delete t[n];var s=r.split("."),l=e._findModTarget(o,s,!1,!0);if(null===l)throw Error("$rename target field invalid");var u=s.pop();l[u]=a}},$bit:function(){throw Error("$bit is not supported")}},e._removeDollarOperators=function(e){var t={};for(var n in e)"$"!==n.substr(0,1)&&(t[n]=e[n]);return t}}.call(this),function(){e._diffQueryChanges=function(t,n,r,i){t?e._diffQueryOrderedChanges(n,r,i):e._diffQueryUnorderedChanges(n,r,i)},e._diffQueryUnorderedChanges=function(t,r,o){if(o.moved)throw new Error("_diffQueryUnordered called with a moved observer!");n.each(r,function(r){if(n.has(t,r._id)){var a=t[r._id];o.changed&&!i.equals(a,r)&&o.changed(r._id,e._makeChangedFields(r,a))}else{var s=i.clone(r);delete s._id,o.added&&o.added(r._id,s)}}),o.removed&&n.each(t,function(e){n.has(r,e._id)||o.removed(e._id)})},e._diffQueryOrderedChanges=function(r,o,a){var s={};n.each(o,function(e){s[e._id]&&t._debug("Duplicate _id in new_results"),s[e._id]=!0});var l={};n.each(r,function(e,n){e._id in l&&t._debug("Duplicate _id in old_results"),l[e._id]=n});for(var u=[],c=0,d=o.length,f=new Array(d),p=new Array(d),h=function(e){return l[o[e]._id]},m=0;d>m;m++)if(void 0!==l[o[m]._id]){for(var g=c;g>0&&!(h(f[g-1])<h(m));)g--;p[m]=0===g?-1:f[g-1],f[g]=m,g+1>c&&(c=g+1)}for(var v=0===c?-1:f[c-1];v>=0;)u.push(v),v=p[v];u.reverse(),u.push(o.length),n.each(r,function(e){s[e._id]||a.removed&&a.removed(e._id)});var _=0;n.each(u,function(t){for(var s,u,c,d=o[t]?o[t]._id:null,f=_;t>f;f++)u=o[f],n.has(l,u._id)?(s=r[l[u._id]],c=e._makeChangedFields(u,s),n.isEmpty(c)||a.changed&&a.changed(u._id,c),a.movedBefore&&a.movedBefore(u._id,d)):(c=i.clone(u),delete c._id,a.addedBefore&&a.addedBefore(u._id,c,d),a.added&&a.added(u._id,c));d&&(u=o[t],s=r[l[u._id]],c=e._makeChangedFields(u,s),n.isEmpty(c)||a.changed&&a.changed(u._id,c)),_=t+1})},e._diffObjects=function(e,t,r){n.each(e,function(e,i){n.has(t,i)?r.both&&r.both(i,e,t[i]):r.leftOnly&&r.leftOnly(i,e)}),r.rightOnly&&n.each(t,function(t,i){n.has(e,i)||r.rightOnly(i,t)})}}.call(this),function(){e._looksLikeObjectID=function(e){return 24===e.length&&e.match(/^[0-9a-f]*$/)},e._ObjectID=function(t){var n=this;if(t){if(t=t.toLowerCase(),!e._looksLikeObjectID(t))throw new Error("Invalid hexadecimal string for creating an ObjectID");n._str=t}else n._str=s.hexString(24)},e._ObjectID.prototype.toString=function(){var e=this;return'ObjectID("'+e._str+'")'},e._ObjectID.prototype.equals=function(t){var n=this;return t instanceof e._ObjectID&&n.valueOf()===t.valueOf()},e._ObjectID.prototype.clone=function(){var t=this;return new e._ObjectID(t._str)},e._ObjectID.prototype.typeName=function(){return"oid"},e._ObjectID.prototype.getTimestamp=function(){var e=this;return parseInt(e._str.substr(0,8),16)},e._ObjectID.prototype.valueOf=e._ObjectID.prototype.toJSONValue=e._ObjectID.prototype.toHexString=function(){return this._str},e._selectorIsId=function(t){return"string"==typeof t||"number"==typeof t||t instanceof e._ObjectID},e._selectorIsIdPerhapsAsObject=function(t){return e._selectorIsId(t)||t&&"object"==typeof t&&t._id&&e._selectorIsId(t._id)&&1===n.size(t)},e._idsMatchedBySelector=function(t){if(e._selectorIsId(t))return[t];if(!t)return null;if(n.has(t,"_id"))return e._selectorIsId(t._id)?[t._id]:t._id&&t._id.$in&&n.isArray(t._id.$in)&&!n.isEmpty(t._id.$in)&&n.all(t._id.$in,e._selectorIsId)?t._id.$in:null;if(t.$and&&n.isArray(t.$and))for(var r=0;r<t.$and.length;++r){var i=e._idsMatchedBySelector(t.$and[r]);if(i)return i}return null},i.addType("oid",function(t){return new e._ObjectID(t)})}.call(this),"undefined"==typeof Package&&(Package={}),Package.minimongo={LocalCollection:e}}(),function(){var e,t=Package.meteor.Meteor,n=Package.underscore._,r=Package.ejson.EJSON;(function(){e=function(){return e.info.apply(this,arguments)};var i=0,o=[],a=0;e._intercept=function(e){i+=e},e._suppress=function(e){a+=e},e._intercepted=function(){var e=o;return o=[],i=0,e},e.outputFormat="json";var s={debug:"green",warn:"magenta",error:"red"},l="blue",u=["time","timeInexact","level","file","line","program","originApp","stderr"],c=u.concat(["app","message"]),d=function(n){var r=e.format(n),i=n.level;"undefined"!=typeof console&&console[i]?console[i](r):t._debug(r)};e._getCallerDetails=function(){var e=function(){var e=new Error,t=e.stack;return t},t=e();if(!t)return{};for(var n,r=t.split("\n"),i=1;i<r.length;++i){if(n=r[i],n.match(/^\s*at eval \(eval/))return{file:"eval"};if(!n.match(/packages\/logging(?:\/|(?::tests)?\.js)/))break}var o={},a=/(?:[@(]| at )([^(]+?):([0-9:]+)(?:\)|$)/.exec(n);return a?(o.line=a[2].split(":")[0],o.file=a[1].split("/").slice(-1)[0].split("?")[0],o):o},n.each(["debug","info","warn","error"],function(s){e[s]=function(l){if(a)return a--,void 0;var c=!1;i&&(i--,c=!0);var f=!n.isObject(l)||n.isRegExp(l)||n.isDate(l)?{message:new String(l).toString()}:l;if(n.each(u,function(e){if(f[e])throw new Error("Can't set '"+e+"' in log message")}),n.has(f,"message")&&!n.isString(f.message))throw new Error("The 'message' field in log objects must be a string");if(f=n.extend(e._getCallerDetails(),f),f.time=new Date,f.level=s,"debug"!==s)if(c)o.push(r.stringify(f));else if(t.isServer)if("colored-text"===e.outputFormat)console.log(e.format(f,{color:!0}));else{if("json"!==e.outputFormat)throw new Error("Unknown logging output format: "+e.outputFormat);console.log(r.stringify(f))}else d(f)}}),e.parse=function(e){var t=null;if(e&&"{"===e.charAt(0))try{t=r.parse(e)}catch(n){}return t&&t.time&&t.time instanceof Date?t:null},e.format=function(e,i){e=r.clone(e),i=i||{};var o=e.time;if(!(o instanceof Date))throw new Error("'time' must be a Date object");var a=e.timeInexact,u=e.level||"info",d=e.file,f=e.line,p=e.app||"",h=e.originApp,m=e.message||"",g=e.program||"",v=e.stderr||"";n.each(c,function(t){delete e[t]}),n.isEmpty(e)||(m&&(m+=" "),m+=r.stringify(e));var _=function(e){return 10>e?"0"+e:e},y=function(e){return 100>e?"0"+_(e):e},b=o.getFullYear()+_(o.getMonth()+1)+_(o.getDate()),w=_(o.getHours())+":"+_(o.getMinutes())+":"+_(o.getSeconds())+"."+y(o.getMilliseconds()),k="("+-((new Date).getTimezoneOffset()/60)+")",M="";p&&(M+=p),h&&h!==p&&(M+=" via "+h),M&&(M="["+M+"] ");var T=d&&f?["(",g?g+":":"",d,":",f,") "].join(""):"",S=v?"(STDERR) ":"",x=[u.charAt(0).toUpperCase(),b,"-",w,k,a?"? ":" ",M,T,S].join(""),E=function(e,n){return i.color&&t.isServer&&n?Npm.require("cli-color")[n](e):e};return E(x,l)+E(m,s[u])},e.objFromText=function(e,t){var r={message:e,level:"info",time:new Date,timeInexact:!0};return n.extend(r,t)}}).call(this),"undefined"==typeof Package&&(Package={}),Package.logging={Log:e}}(),function(){var e,t,n=Package.meteor.Meteor,r=Package.underscore._,i=Package.ejson.EJSON;(function(){var o=new n.EnvironmentVariable;e=function(e,n){var r=o.get();r&&r.checking(e);try{d(e,n)}catch(i){throw i instanceof t.Error&&i.path&&(i.message+=" in field "+i.path),i}},t={Optional:function(e){return new a(e)},OneOf:function(){return new s(r.toArray(arguments))},Any:["__any__"],Where:function(e){return new l(e)},ObjectIncluding:function(e){return new u(e)},Integer:["__integer__"],Error:n.makeErrorType("Match.Error",function(e){this.message="Match error: "+e,this.path="",this.sanitizedError=new n.Error(400,"Match failed")}),test:function(e,n){try{return d(e,n),!0}catch(r){if(r instanceof t.Error)return!1;throw r}},_failIfArgumentsAreNotAllChecked:function(e,t,n,r){var i=new f(n,r),a=o.withValue(i,function(){return e.apply(t,n)});return i.throwUnlessAllArgumentsHaveBeenChecked(),a}};var a=function(e){this.pattern=e},s=function(e){if(r.isEmpty(e))throw new Error("Must provide at least one choice to Match.OneOf");this.choices=e},l=function(e){this.condition=e},u=function(e){this.pattern=e},c=[[String,"string"],[Number,"number"],[Boolean,"boolean"],[void 0,"undefined"]],d=function(e,n){if(n!==t.Any){for(var o=0;o<c.length;++o)if(n===c[o][0]){if(typeof e===c[o][1])return;throw new t.Error("Expected "+c[o][1]+", got "+typeof e)}if(null===n){if(null===e)return;throw new t.Error("Expected null, got "+i.stringify(e))}if(n===t.Integer){if("number"==typeof e&&(0|e)===e)return;throw new t.Error("Expected Integer, got "+(e instanceof Object?i.stringify(e):e))}if(n===Object&&(n=t.ObjectIncluding({})),n instanceof Array){if(1!==n.length)throw Error("Bad pattern: arrays must have one type element"+i.stringify(n));if(!r.isArray(e)&&!r.isArguments(e))throw new t.Error("Expected array, got "+i.stringify(e));return r.each(e,function(e,r){try{d(e,n[0])}catch(i){throw i instanceof t.Error&&(i.path=h(r,i.path)),i}}),void 0}if(n instanceof l){if(n.condition(e))return;throw new t.Error("Failed Match.Where validation")}if(n instanceof a&&(n=t.OneOf(void 0,n.pattern)),n instanceof s){for(var o=0;o<n.choices.length;++o)try{return d(e,n.choices[o]),void 0}catch(f){if(!(f instanceof t.Error))throw f}throw new t.Error("Failed Match.OneOf or Match.Optional validation")}if(n instanceof Function){if(e instanceof n)return;throw new t.Error("Expected "+n.name)}var p=!1;if(n instanceof u&&(p=!0,n=n.pattern),"object"!=typeof n)throw Error("Bad pattern: unknown pattern type");if("object"!=typeof e)throw new t.Error("Expected object, got "+typeof e);if(null===e)throw new t.Error("Expected object, got null");if(e.constructor!==Object)throw new t.Error("Expected plain object");var m={},g={};r.each(n,function(e,t){e instanceof a?g[t]=e.pattern:m[t]=e}),r.each(e,function(e,n){try{if(r.has(m,n))d(e,m[n]),delete m[n];else if(r.has(g,n))d(e,g[n]);else if(!p)throw new t.Error("Unknown key")}catch(i){throw i instanceof t.Error&&(i.path=h(n,i.path)),i}}),r.each(m,function(e,n){throw new t.Error("Missing key '"+n+"'")})}},f=function(e,t){var n=this;n.args=r.clone(e),n.args.reverse(),n.description=t};r.extend(f.prototype,{checking:function(e){var t=this;t._checkingOneValue(e)||(r.isArray(e)||r.isArguments(e))&&r.each(e,r.bind(t._checkingOneValue,t))},_checkingOneValue:function(e){for(var t=this,n=0;n<t.args.length;++n)if(e===t.args[n])return t.args.splice(n,1),!0;return!1},throwUnlessAllArgumentsHaveBeenChecked:function(){var e=this;if(!r.isEmpty(e.args))throw new Error("Did not check() all arguments during "+e.description)}});var p=["do","if","in","for","let","new","try","var","case","else","enum","eval","false","null","this","true","void","with","break","catch","class","const","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof"],h=function(e,t){return"number"==typeof e||e.match(/^[0-9]+$/)?e="["+e+"]":(!e.match(/^[a-z_$][0-9a-z_$]*$/i)||r.contains(p,e))&&(e=JSON.stringify([e])),t&&"["!==t[0]?e+"."+t:e+t}}).call(this),"undefined"==typeof Package&&(Package={}),Package.check={check:e,Match:t}}(),function(){var e=Package.meteor.Meteor,t=Package.underscore._;Package.logging.Log;var n,r=Package.json.JSON;(function(){var i,o="Meteor_Reload",a=3e4,s={};"undefined"!=typeof sessionStorage&&sessionStorage&&(i=sessionStorage.getItem(o),sessionStorage.removeItem(o)),i||(i="{}");var l={};try{l=r.parse(i),"object"!=typeof l&&(e._debug("Got bad data on reload. Ignoring."),l={})}catch(u){e._debug("Got invalid JSON on reload. Ignoring.")
}l.reload&&"object"==typeof l.data&&l.time+a>(new Date).getTime()&&(s=l.data);var c=[];n={},n._onMigrate=function(e,t){t||(t=e,e=void 0),c.push({name:e,callback:t})},n._migrationData=function(e){return s[e]};var d=!1;n._reload=function(){if(!d){d=!0;var n=function(){t.defer(function(){for(var i={},a=t.clone(c);a.length;){var s=a.shift(),l=s.callback(n);if(!l[0])return;l.length>1&&s.name&&(i[s.name]=l[1])}try{var u=r.stringify({time:(new Date).getTime(),data:i,reload:!0})}catch(d){throw e._debug("Couldn't serialize data for migration",i),d}"undefined"!=typeof sessionStorage&&sessionStorage?sessionStorage.setItem(o,u):e._debug("Browser does not support sessionStorage. Not saving migration state."),window.location.reload()})};n()}}}).call(this),function(){e._reload={onMigrate:n._onMigrate,migrationData:n._migrationData,reload:n._reload}}.call(this),"undefined"==typeof Package&&(Package={}),Package.reload={Reload:n}}(),function(){var e=Package.meteor.Meteor;Package.check.check,Package.check.Match;var t=Package.random.Random,n=Package.ejson.EJSON,r=Package.json.JSON,i=Package.underscore._,o=Package.deps.Deps;Package.logging.Log;var a,s,l,u,c,d,f,p,h,m,g=Package.reload.Reload,v=Package.minimongo.LocalCollection;(function(){s={}}).call(this),function(){l=function(){var e=document,t=window,n={},i=function(){};i.prototype.addEventListener=function(e,t){this._listeners||(this._listeners={}),e in this._listeners||(this._listeners[e]=[]);var r=this._listeners[e];-1===n.arrIndexOf(r,t)&&r.push(t)},i.prototype.removeEventListener=function(e,t){if(this._listeners&&e in this._listeners){var r=this._listeners[e],i=n.arrIndexOf(r,t);return-1!==i?(r.length>1?this._listeners[e]=r.slice(0,i).concat(r.slice(i+1)):delete this._listeners[e],void 0):void 0}},i.prototype.dispatchEvent=function(e){var t=e.type,n=Array.prototype.slice.call(arguments,0);if(this["on"+t]&&this["on"+t].apply(this,n),this._listeners&&t in this._listeners)for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].apply(this,n)};var o=function(e,t){if(this.type=e,"undefined"!=typeof t)for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])};o.prototype.toString=function(){var e=[];for(var t in this)if(this.hasOwnProperty(t)){var n=this[t];"function"==typeof n&&(n="[function]"),e.push(t+"="+n)}return"SimpleEvent("+e.join(", ")+")"};var a=function(e){var t=this;t._events=e||[],t._listeners={}};a.prototype.emit=function(e){var t=this;if(t._verifyType(e),!t._nuked){var n=Array.prototype.slice.call(arguments,1);if(t["on"+e]&&t["on"+e].apply(t,n),e in t._listeners)for(var r=0;r<t._listeners[e].length;r++)t._listeners[e][r].apply(t,n)}},a.prototype.on=function(e,t){var n=this;n._verifyType(e),n._nuked||(e in n._listeners||(n._listeners[e]=[]),n._listeners[e].push(t))},a.prototype._verifyType=function(e){var t=this;-1===n.arrIndexOf(t._events,e)&&n.log("Event "+r.stringify(e)+" not listed "+r.stringify(t._events)+" in "+t)},a.prototype.nuke=function(){var e=this;e._nuked=!0;for(var t=0;t<e._events.length;t++)delete e[e._events[t]];e._listeners={}};var s="abcdefghijklmnopqrstuvwxyz0123456789_";n.random_string=function(e,t){t=t||s.length;var n,r=[];for(n=0;e>n;n++)r.push(s.substr(Math.floor(Math.random()*t),1));return r.join("")},n.random_number=function(e){return Math.floor(Math.random()*e)},n.random_number_string=function(e){var t=(""+(e-1)).length,r=Array(t+1).join("0");return(r+n.random_number(e)).slice(-t)},n.getOrigin=function(e){e+="/";var t=e.split("/").slice(0,3);return t.join("/")},n.isSameOriginUrl=function(e,n){return n||(n=t.location.href),e.split("/").slice(0,3).join("/")===n.split("/").slice(0,3).join("/")},n.isSameOriginScheme=function(e,n){return n||(n=t.location.href),e.split(":")[0]===n.split(":")[0]},n.getParentDomain=function(e){if(/^[0-9.]*$/.test(e))return e;if(/^\[/.test(e))return e;if(!/[.]/.test(e))return e;var t=e.split(".").slice(1);return t.join(".")},n.objectExtend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};var l="_jp";n.polluteGlobalNamespace=function(){l in t||(t[l]={})},n.closeFrame=function(e,t){return"c"+r.stringify([e,t])},n.userSetCode=function(e){return 1e3===e||e>=3e3&&4999>=e},n.countRTO=function(e){var t;return t=e>100?3*e:e+200},n.log=function(){t.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)},n.bind=function(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}},n.flatUrl=function(e){return-1===e.indexOf("?")&&-1===e.indexOf("#")},n.amendUrl=function(t){var r=e.location;if(!t)throw new Error("Wrong url for SockJS");if(!n.flatUrl(t))throw new Error("Only basic urls are supported in SockJS");0===t.indexOf("//")&&(t=r.protocol+t),0===t.indexOf("/")&&(t=r.protocol+"//"+r.host+t),t=t.replace(/[/]+$/,"");var i=t.split("/");return("http:"===i[0]&&/:80$/.test(i[2])||"https:"===i[0]&&/:443$/.test(i[2]))&&(i[2]=i[2].replace(/:(80|443)$/,"")),t=i.join("/")},n.arrIndexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},n.arrSkip=function(e,t){var r=n.arrIndexOf(e,t);if(-1===r)return e.slice();var i=e.slice(0,r);return i.concat(e.slice(r+1))},n.isArray=Array.isArray||function(e){return{}.toString.call(e).indexOf("Array")>=0},n.delay=function(e,t){return"function"==typeof e&&(t=e,e=0),setTimeout(t,e)};var u,c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,d={"\x00":"\\u0000","":"\\u0001","":"\\u0002","":"\\u0003","":"\\u0004","":"\\u0005","":"\\u0006","":"\\u0007","\b":"\\b","	":"\\t","\n":"\\n","":"\\u000b","\f":"\\f","\r":"\\r","":"\\u000e","":"\\u000f","":"\\u0010","":"\\u0011","":"\\u0012","":"\\u0013","":"\\u0014","":"\\u0015","":"\\u0016","":"\\u0017","":"\\u0018","":"\\u0019","":"\\u001a","":"\\u001b","":"\\u001c","":"\\u001d","":"\\u001e","":"\\u001f",'"':'\\"',"\\":"\\\\","":"\\u007f","":"\\u0080","":"\\u0081","":"\\u0082","":"\\u0083","":"\\u0084","":"\\u0085","":"\\u0086","":"\\u0087","":"\\u0088","":"\\u0089","":"\\u008a","":"\\u008b","":"\\u008c","":"\\u008d","":"\\u008e","":"\\u008f","":"\\u0090","":"\\u0091","":"\\u0092","":"\\u0093","":"\\u0094","":"\\u0095","":"\\u0096","":"\\u0097","":"\\u0098","":"\\u0099","":"\\u009a","":"\\u009b","":"\\u009c","":"\\u009d","":"\\u009e","":"\\u009f","­":"\\u00ad","؀":"\\u0600","؁":"\\u0601","؂":"\\u0602","؃":"\\u0603","؄":"\\u0604","܏":"\\u070f","឴":"\\u17b4","឵":"\\u17b5","‌":"\\u200c","‍":"\\u200d","‎":"\\u200e","‏":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","‪":"\\u202a","‫":"\\u202b","‬":"\\u202c","‭":"\\u202d","‮":"\\u202e"," ":"\\u202f","⁠":"\\u2060","⁡":"\\u2061","⁢":"\\u2062","⁣":"\\u2063","⁤":"\\u2064","⁥":"\\u2065","⁦":"\\u2066","⁧":"\\u2067","⁨":"\\u2068","⁩":"\\u2069","⁪":"\\u206a","⁫":"\\u206b","⁬":"\\u206c","⁭":"\\u206d","⁮":"\\u206e","⁯":"\\u206f","﻿":"\\ufeff","￰":"\\ufff0","￱":"\\ufff1","￲":"\\ufff2","￳":"\\ufff3","￴":"\\ufff4","￵":"\\ufff5","￶":"\\ufff6","￷":"\\ufff7","￸":"\\ufff8","￹":"\\ufff9","￺":"\\ufffa","￻":"\\ufffb","￼":"\\ufffc","�":"\\ufffd","￾":"\\ufffe","￿":"\\uffff"},f=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,p=r&&r.stringify||function(e){return c.lastIndex=0,c.test(e)&&(e=e.replace(c,function(e){return d[e]})),'"'+e+'"'},h=function(e){var t,n={},r=[];for(t=0;65536>t;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n};n.quote=function(e){var t=p(e);return f.lastIndex=0,f.test(t)?(u||(u=h(f)),t.replace(f,function(e){return u[e]})):t};var m=["websocket","xdr-streaming","xhr-streaming","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"];n.probeProtocols=function(){for(var e={},t=0;t<m.length;t++){var n=m[t];e[n]=S[n]&&S[n].enabled()}return e},n.detectProtocols=function(e,t,n){var r={},i=[];t||(t=m);for(var o=0;o<t.length;o++){var a=t[o];r[a]=e[a]}var s=function(e){var t=e.shift();r[t]?i.push(t):e.length>0&&s(e)};return n.websocket!==!1&&s(["websocket"]),r["xhr-streaming"]&&!n.null_origin?i.push("xhr-streaming"):!r["xdr-streaming"]||n.cookie_needed||n.null_origin?s(["iframe-eventsource","iframe-htmlfile"]):i.push("xdr-streaming"),r["xhr-polling"]&&!n.null_origin?i.push("xhr-polling"):!r["xdr-polling"]||n.cookie_needed||n.null_origin?s(["iframe-xhr-polling","jsonp-polling"]):i.push("xdr-polling"),i};var g="_sockjs_global";n.createHook=function(){var e="a"+n.random_string(8);if(!(g in t)){var r={};t[g]=function(e){return e in r||(r[e]={id:e,del:function(){delete r[e]}}),r[e]}}return t[g](e)},n.attachMessage=function(e){n.attachEvent("message",e)},n.attachEvent=function(n,r){"undefined"!=typeof t.addEventListener?t.addEventListener(n,r,!1):(e.attachEvent("on"+n,r),t.attachEvent("on"+n,r))},n.detachMessage=function(e){n.detachEvent("message",e)},n.detachEvent=function(n,r){"undefined"!=typeof t.addEventListener?t.removeEventListener(n,r,!1):(e.detachEvent("on"+n,r),t.detachEvent("on"+n,r))};var v={},_=!1,y=function(){for(var e in v)v[e](),delete v[e]},b=function(){_||(_=!0,y())};n.attachEvent("unload",b),n.unload_add=function(e){var t=n.random_string(8);return v[t]=e,_&&n.delay(y),t},n.unload_del=function(e){e in v&&delete v[e]},n.createIframe=function(t,r){var i,o,a=e.createElement("iframe"),s=function(){clearTimeout(i);try{a.onload=null}catch(e){}a.onerror=null},l=function(){a&&(s(),setTimeout(function(){a&&a.parentNode.removeChild(a),a=null},0),n.unload_del(o))},u=function(e){a&&(l(),r(e))},c=function(e,t){try{a&&a.contentWindow&&a.contentWindow.postMessage(e,t)}catch(n){}};return a.src=t,a.style.display="none",a.style.position="absolute",a.onerror=function(){u("onerror")},a.onload=function(){clearTimeout(i),i=setTimeout(function(){u("onload timeout")},2e3)},e.body.appendChild(a),i=setTimeout(function(){u("timeout")},15e3),o=n.unload_add(l),{post:c,cleanup:l,loaded:s}},n.createHtmlfile=function(e,r){var i,o,a,s=new ActiveXObject("htmlfile"),u=function(){clearTimeout(i)},c=function(){s&&(u(),n.unload_del(o),a.parentNode.removeChild(a),a=s=null,CollectGarbage())},d=function(e){s&&(c(),r(e))},f=function(e,t){try{a&&a.contentWindow&&a.contentWindow.postMessage(e,t)}catch(n){}};s.open(),s.write('<html><script>document.domain="'+document.domain+'";</script></html>'),s.close(),s.parentWindow[l]=t[l];var p=s.createElement("div");return s.body.appendChild(p),a=s.createElement("iframe"),p.appendChild(a),a.src=e,i=setTimeout(function(){d("timeout")},15e3),o=n.unload_add(c),{post:f,cleanup:c,loaded:u}};var w=function(){};w.prototype=new a(["chunk","finish"]),w.prototype._start=function(e,r,i,o){var a=this;try{a.xhr=new XMLHttpRequest}catch(s){}if(!a.xhr)try{a.xhr=new t.ActiveXObject("Microsoft.XMLHTTP")}catch(s){}(t.ActiveXObject||t.XDomainRequest)&&(r+=(-1===r.indexOf("?")?"?":"&")+"t="+ +new Date),a.unload_ref=n.unload_add(function(){a._cleanup(!0)});try{a.xhr.open(e,r,!0)}catch(l){return a.emit("finish",0,""),a._cleanup(),void 0}if(o&&o.no_credentials||(a.xhr.withCredentials="true"),o&&o.headers)for(var u in o.headers)a.xhr.setRequestHeader(u,o.headers[u]);a.xhr.onreadystatechange=function(){if(a.xhr){var e=a.xhr;switch(e.readyState){case 3:try{var t=e.status,n=e.responseText}catch(e){}1223===t&&(t=204),n&&n.length>0&&a.emit("chunk",t,n);break;case 4:var t=e.status;1223===t&&(t=204),a.emit("finish",t,e.responseText),a._cleanup(!1)}}},a.xhr.send(i)},w.prototype._cleanup=function(e){var t=this;if(t.xhr){if(n.unload_del(t.unload_ref),t.xhr.onreadystatechange=function(){},e)try{t.xhr.abort()}catch(r){}t.unload_ref=t.xhr=null}},w.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)};var k=n.XHRCorsObject=function(){var e=this,t=arguments;n.delay(function(){e._start.apply(e,t)})};k.prototype=new w;var M=n.XHRLocalObject=function(e,t,r){var i=this;n.delay(function(){i._start(e,t,r,{no_credentials:!0})})};M.prototype=new w;var T=n.XDRObject=function(e,t,r){var i=this;n.delay(function(){i._start(e,t,r)})};T.prototype=new a(["chunk","finish"]),T.prototype._start=function(e,t,r){var i=this,o=new XDomainRequest;t+=(-1===t.indexOf("?")?"?":"&")+"t="+ +new Date;var a=o.ontimeout=o.onerror=function(){i.emit("finish",0,""),i._cleanup(!1)};o.onprogress=function(){i.emit("chunk",200,o.responseText)},o.onload=function(){i.emit("finish",200,o.responseText),i._cleanup(!1)},i.xdr=o,i.unload_ref=n.unload_add(function(){i._cleanup(!0)});try{i.xdr.open(e,t),i.xdr.send(r)}catch(s){a()}},T.prototype._cleanup=function(e){var t=this;if(t.xdr){if(n.unload_del(t.unload_ref),t.xdr.ontimeout=t.xdr.onerror=t.xdr.onprogress=t.xdr.onload=null,e)try{t.xdr.abort()}catch(r){}t.unload_ref=t.xdr=null}},T.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)},n.isXHRCorsCapable=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?1:t.XDomainRequest&&e.domain?2:R.enabled()?3:4};var S=function(e,t,r){if(!(this instanceof S))return new S(e,t,r);var i,o=this;o._options={devel:!1,debug:!1,protocols_whitelist:[],info:void 0,rtt:void 0},r&&n.objectExtend(o._options,r),o._base_url=n.amendUrl(e),o._server=o._options.server||n.random_number_string(1e3),o._options.protocols_whitelist&&o._options.protocols_whitelist.length?i=o._options.protocols_whitelist:(i="string"==typeof t&&t.length>0?[t]:n.isArray(t)?t:null,i&&o._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.')),o._protocols=[],o.protocol=null,o.readyState=S.CONNECTING,o._ir=V(o._base_url),o._ir.onfinish=function(e,t){o._ir=null,e?(o._options.info&&(e=n.objectExtend(e,o._options.info)),o._options.rtt&&(t=o._options.rtt),o._applyInfo(e,t,i),o._didClose()):o._didClose(1002,"Can't connect to server",!0)}};S.prototype=new i,S.version="0.3.4",S.CONNECTING=0,S.OPEN=1,S.CLOSING=2,S.CLOSED=3,S.prototype._debug=function(){this._options.debug&&n.log.apply(n,arguments)},S.prototype._dispatchOpen=function(){var e=this;e.readyState===S.CONNECTING?(e._transport_tref&&(clearTimeout(e._transport_tref),e._transport_tref=null),e.readyState=S.OPEN,e.dispatchEvent(new o("open"))):e._didClose(1006,"Server lost session")},S.prototype._dispatchMessage=function(e){var t=this;t.readyState===S.OPEN&&t.dispatchEvent(new o("message",{data:e}))},S.prototype._dispatchHeartbeat=function(){var e=this;e.readyState===S.OPEN&&e.dispatchEvent(new o("heartbeat",{}))},S.prototype._didClose=function(e,t,r){var i=this;if(i.readyState!==S.CONNECTING&&i.readyState!==S.OPEN&&i.readyState!==S.CLOSING)throw new Error("INVALID_STATE_ERR");i._ir&&(i._ir.nuke(),i._ir=null),i._transport&&(i._transport.doCleanup(),i._transport=null);var a=new o("close",{code:e,reason:t,wasClean:n.userSetCode(e)});if(!n.userSetCode(e)&&i.readyState===S.CONNECTING&&!r){if(i._try_next_protocol(a))return;a=new o("close",{code:2e3,reason:"All transports failed",wasClean:!1,last_event:a})}i.readyState=S.CLOSED,n.delay(function(){i.dispatchEvent(a)})},S.prototype._didMessage=function(e){var t=this,n=e.slice(0,1);switch(n){case"o":t._dispatchOpen();break;case"a":for(var i=r.parse(e.slice(1)||"[]"),o=0;o<i.length;o++)t._dispatchMessage(i[o]);break;case"m":var i=r.parse(e.slice(1)||"null");t._dispatchMessage(i);break;case"c":var i=r.parse(e.slice(1)||"[]");t._didClose(i[0],i[1]);break;case"h":t._dispatchHeartbeat()}},S.prototype._try_next_protocol=function(t){var r=this;for(r.protocol&&(r._debug("Closed transport:",r.protocol,""+t),r.protocol=null),r._transport_tref&&(clearTimeout(r._transport_tref),r._transport_tref=null);;){var i=r.protocol=r._protocols.shift();if(!i)return!1;if(S[i]&&S[i].need_body===!0&&(!e.body||"undefined"!=typeof e.readyState&&"complete"!==e.readyState))return r._protocols.unshift(i),r.protocol="waiting-for-load",n.attachEvent("load",function(){r._try_next_protocol()}),!0;if(S[i]&&S[i].enabled(r._options)){var o=S[i].roundTrips||1,a=(r._options.rto||0)*o||5e3;r._transport_tref=n.delay(a,function(){r.readyState===S.CONNECTING&&r._didClose(2007,"Transport timeouted")});var s=n.random_string(8),l=r._base_url+"/"+r._server+"/"+s;return r._debug("Opening transport:",i," url:"+l," RTO:"+r._options.rto),r._transport=new S[i](r,l,r._base_url),!0}r._debug("Skipping transport:",i)}},S.prototype.close=function(e,t){var r=this;if(e&&!n.userSetCode(e))throw new Error("INVALID_ACCESS_ERR");return r.readyState!==S.CONNECTING&&r.readyState!==S.OPEN?!1:(r.readyState=S.CLOSING,r._didClose(e||1e3,t||"Normal closure"),!0)},S.prototype.send=function(e){var t=this;if(t.readyState===S.CONNECTING)throw new Error("INVALID_STATE_ERR");return t.readyState===S.OPEN&&t._transport.doSend(n.quote(""+e)),!0},S.prototype._applyInfo=function(t,r,i){var o=this;o._options.info=t,o._options.rtt=r,o._options.rto=n.countRTO(r),o._options.info.null_origin=!e.domain,t.base_url&&(o._base_url=n.amendUrl(t.base_url));var a=n.probeProtocols();o._protocols=n.detectProtocols(a,i,t),n.isSameOriginScheme(o._base_url)||2!==n.isXHRCorsCapable()||(o._protocols=["jsonp-polling"])};var x=S.websocket=function(e,r){var i=this,o=r+"/websocket";o="https"===o.slice(0,5)?"wss"+o.slice(5):"ws"+o.slice(4),i.ri=e,i.url=o;var a=t.WebSocket||t.MozWebSocket;i.ws=new a(i.url),i.ws.onmessage=function(e){i.ri._didMessage(e.data)},i.unload_ref=n.unload_add(function(){i.ws.close()}),i.ws.onclose=function(){i.ri._didMessage(n.closeFrame(1006,"WebSocket connection broken"))}};x.prototype.doSend=function(e){this.ws.send("["+e+"]")},x.prototype.doCleanup=function(){var e=this,t=e.ws;t&&(t.onmessage=t.onclose=null,t.close(),n.unload_del(e.unload_ref),e.unload_ref=e.ri=e.ws=null)},x.enabled=function(){return!(!t.WebSocket&&!t.MozWebSocket)},x.roundTrips=2;var E=function(){};E.prototype.send_constructor=function(e){var t=this;t.send_buffer=[],t.sender=e},E.prototype.doSend=function(e){var t=this;t.send_buffer.push(e),t.send_stop||t.send_schedule()},E.prototype.send_schedule_wait=function(){var e,t=this;t.send_stop=function(){t.send_stop=null,clearTimeout(e)},e=n.delay(25,function(){t.send_stop=null,t.send_schedule()})},E.prototype.send_schedule=function(){var e=this;if(e.send_buffer.length>0){var t="["+e.send_buffer.join(",")+"]";e.send_stop=e.sender(e.trans_url,t,function(t,n){e.send_stop=null,t===!1?e.ri._didClose(1006,"Sending error "+n):e.send_schedule_wait()}),e.send_buffer=[]}},E.prototype.send_destructor=function(){var e=this;e._send_stop&&e._send_stop(),e._send_stop=null};var L=function(t,r,i){var o=this;if(!("_send_form"in o)){var a=o._send_form=e.createElement("form"),s=o._send_area=e.createElement("textarea");s.name="d",a.style.display="none",a.style.position="absolute",a.method="POST",a.enctype="application/x-www-form-urlencoded",a.acceptCharset="UTF-8",a.appendChild(s),e.body.appendChild(a)}var a=o._send_form,s=o._send_area,l="a"+n.random_string(8);a.target=l,a.action=t+"/jsonp_send?i="+l;var u;try{u=e.createElement('<iframe name="'+l+'">')}catch(c){u=e.createElement("iframe"),u.name=l}u.id=l,a.appendChild(u),u.style.display="none";try{s.value=r}catch(d){n.log("Your browser is seriously broken. Go home! "+d.message)}a.submit();var f=function(){u.onerror&&(u.onreadystatechange=u.onerror=u.onload=null,n.delay(500,function(){u.parentNode.removeChild(u),u=null}),s.value="",i(!0))};return u.onerror=u.onload=f,u.onreadystatechange=function(){"complete"==u.readyState&&f()},f},D=function(e){return function(t,n,r){var i=new e("POST",t+"/xhr_send",n);return i.onfinish=function(e){r(200===e||204===e,"http status "+e)},function(e){r(!1,e)}}},C=function(t,r){var i,o,a=e.createElement("script"),s=function(e){o&&(o.parentNode.removeChild(o),o=null),a&&(clearTimeout(i),a.parentNode.removeChild(a),a.onreadystatechange=a.onerror=a.onload=a.onclick=null,a=null,r(e),r=null)},l=!1,u=null;if(a.id="a"+n.random_string(8),a.src=t,a.type="text/javascript",a.charset="UTF-8",a.onerror=function(){u||(u=setTimeout(function(){l||s(n.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))},1e3))},a.onload=function(){s(n.closeFrame(1006,"JSONP script loaded abnormally (onload)"))},a.onreadystatechange=function(){if(/loaded|closed/.test(a.readyState)){if(a&&a.htmlFor&&a.onclick){l=!0;try{a.onclick()}catch(e){}}a&&s(n.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"==typeof a.async&&e.attachEvent)if(/opera/i.test(navigator.userAgent))o=e.createElement("script"),o.text="try{var a = document.getElementById('"+a.id+"'); if(a)a.onerror();}catch(x){};",a.async=o.async=!1;else{try{a.htmlFor=a.id,a.event="onclick"}catch(c){}a.async=!0}"undefined"!=typeof a.async&&(a.async=!0),i=setTimeout(function(){s(n.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))},35e3);var d=e.getElementsByTagName("head")[0];return d.insertBefore(a,d.firstChild),o&&d.insertBefore(o,d.firstChild),s},P=S["jsonp-polling"]=function(e,t){n.polluteGlobalNamespace();var r=this;r.ri=e,r.trans_url=t,r.send_constructor(L),r._schedule_recv()};P.prototype=new E,P.prototype._schedule_recv=function(){var e=this,t=function(t){e._recv_stop=null,t&&(e._is_closing||e.ri._didMessage(t)),e._is_closing||e._schedule_recv()};e._recv_stop=I(e.trans_url+"/jsonp",C,t)},P.enabled=function(){return!0},P.need_body=!0,P.prototype.doCleanup=function(){var e=this;e._is_closing=!0,e._recv_stop&&e._recv_stop(),e.ri=e._recv_stop=null,e.send_destructor()};var I=function(e,r,i){var o="a"+n.random_string(6),a=e+"?c="+escape(l+"."+o),s=0,u=function(e){switch(s){case 0:delete t[l][o],i(e);break;case 1:i(e),s=2;break;case 2:delete t[l][o]}},c=r(a,u);t[l][o]=c;var d=function(){t[l][o]&&(s=1,t[l][o](n.closeFrame(1e3,"JSONP user aborted read")))};return d},A=function(){};A.prototype=new E,A.prototype.run=function(e,t,n,r,i){var o=this;o.ri=e,o.trans_url=t,o.send_constructor(D(i)),o.poll=new Z(e,r,t+n,i)},A.prototype.doCleanup=function(){var e=this;e.poll&&(e.poll.abort(),e.poll=null)};var N=S["xhr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",it,n.XHRCorsObject)};N.prototype=new A,N.enabled=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)},N.roundTrips=2,N.need_body=!0;var O=S["xdr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",it,n.XDRObject)};O.prototype=new A,O.enabled=function(){return!!t.XDomainRequest},O.roundTrips=2;var Y=S["xhr-polling"]=function(e,t){this.run(e,t,"/xhr",it,n.XHRCorsObject)};Y.prototype=new A,Y.enabled=N.enabled,Y.roundTrips=2;var j=S["xdr-polling"]=function(e,t){this.run(e,t,"/xhr",it,n.XDRObject)};j.prototype=new A,j.enabled=O.enabled,j.roundTrips=2;var R=function(){};R.prototype.i_constructor=function(e,t,r){var i=this;i.ri=e,i.origin=n.getOrigin(r),i.base_url=r,i.trans_url=t;var o=r+"/iframe.html";i.ri._options.devel&&(o+="?t="+ +new Date),i.window_id=n.random_string(8),o+="#"+i.window_id,i.iframeObj=n.createIframe(o,function(e){i.ri._didClose(1006,"Unable to load an iframe ("+e+")")}),i.onmessage_cb=n.bind(i.onmessage,i),n.attachMessage(i.onmessage_cb)},R.prototype.doCleanup=function(){var e=this;if(e.iframeObj){n.detachMessage(e.onmessage_cb);try{e.iframeObj.iframe.contentWindow&&e.postMessage("c")}catch(t){}e.iframeObj.cleanup(),e.iframeObj=null,e.onmessage_cb=e.iframeObj=null}},R.prototype.onmessage=function(e){var t=this;if(e.origin===t.origin){var n=e.data.slice(0,8),i=e.data.slice(8,9),o=e.data.slice(9);if(n===t.window_id)switch(i){case"s":t.iframeObj.loaded(),t.postMessage("s",r.stringify([S.version,t.protocol,t.trans_url,t.base_url]));break;case"t":t.ri._didMessage(o)}}},R.prototype.postMessage=function(e,t){var n=this;n.iframeObj.post(n.window_id+e+(t||""),n.origin)},R.prototype.doSend=function(e){this.postMessage("m",e)},R.enabled=function(){var e=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Konqueror");return("function"==typeof t.postMessage||"object"==typeof t.postMessage)&&!e};var B,F=function(e,r){parent!==t?parent.postMessage(B+e+(r||""),"*"):n.log("Can't postMessage, no parent window.",e,r)},U=function(){};U.prototype._didClose=function(e,t){F("t",n.closeFrame(e,t))},U.prototype._didMessage=function(e){F("t",e)},U.prototype._doSend=function(e){this._transport.doSend(e)},U.prototype._doCleanup=function(){this._transport.doCleanup()},n.parent_origin=void 0,S.bootstrap_iframe=function(){var i;B=e.location.hash.slice(1);var o=function(e){if(e.source===parent&&("undefined"==typeof n.parent_origin&&(n.parent_origin=e.origin),e.origin===n.parent_origin)){var o=e.data.slice(0,8),a=e.data.slice(8,9),s=e.data.slice(9);if(o===B)switch(a){case"s":var l=r.parse(s),u=l[0],c=l[1],d=l[2],f=l[3];if(u!==S.version&&n.log('Incompatibile SockJS! Main site uses: "'+u+'", the iframe: "'+S.version+'".'),!n.flatUrl(d)||!n.flatUrl(f))return n.log("Only basic urls are supported in SockJS"),void 0;if(!n.isSameOriginUrl(d)||!n.isSameOriginUrl(f))return n.log("Can't connect to different domain from within an iframe. ("+r.stringify([t.location.href,d,f])+")"),void 0;i=new U,i._transport=new U[c](i,d,f);break;case"m":i._doSend(s);break;case"c":i&&i._doCleanup(),i=null}}};n.attachMessage(o),F("s")};var $=function(e,t){var r=this;n.delay(function(){r.doXhr(e,t)})};$.prototype=new a(["finish"]),$.prototype.doXhr=function(e,t){var i=this,o=(new Date).getTime(),a=new t("GET",e+"/info?cb="+n.random_string(10)),s=n.delay(8e3,function(){a.ontimeout()});a.onfinish=function(e,t){if(clearTimeout(s),s=null,200===e){var n=(new Date).getTime()-o,a=r.parse(t);"object"!=typeof a&&(a={}),i.emit("finish",a,n)}else i.emit("finish")},a.ontimeout=function(){a.close(),i.emit("finish")}};var H=function(t){var i=this,o=function(){var e=new R;e.protocol="w-iframe-info-receiver";var n=function(t){if("string"==typeof t&&"m"===t.substr(0,1)){var n=r.parse(t.substr(1)),o=n[0],a=n[1];i.emit("finish",o,a)}else i.emit("finish");e.doCleanup(),e=null},o={_options:{},_didClose:n,_didMessage:n};e.i_constructor(o,t,t)};e.body?o():n.attachEvent("load",o)};H.prototype=new a(["finish"]);var q=function(){var e=this;n.delay(function(){e.emit("finish",{},2e3)})};q.prototype=new a(["finish"]);var V=function(e){if(n.isSameOriginUrl(e))return new $(e,n.XHRLocalObject);switch(n.isXHRCorsCapable()){case 1:return new $(e,n.XHRLocalObject);case 2:return n.isSameOriginScheme(e)?new $(e,n.XDRObject):new q;case 3:return new H(e);default:return new q}},z=U["w-iframe-info-receiver"]=function(e,t,i){var o=new $(i,n.XHRLocalObject);o.onfinish=function(t,n){e._didMessage("m"+r.stringify([t,n])),e._didClose()}};z.prototype.doCleanup=function(){};var W=S["iframe-eventsource"]=function(){var e=this;e.protocol="w-iframe-eventsource",e.i_constructor.apply(e,arguments)};W.prototype=new R,W.enabled=function(){return"EventSource"in t&&R.enabled()},W.need_body=!0,W.roundTrips=3;var J=U["w-iframe-eventsource"]=function(e,t){this.run(e,t,"/eventsource",et,n.XHRLocalObject)};J.prototype=new A;var K=S["iframe-xhr-polling"]=function(){var e=this;e.protocol="w-iframe-xhr-polling",e.i_constructor.apply(e,arguments)};K.prototype=new R,K.enabled=function(){return t.XMLHttpRequest&&R.enabled()},K.need_body=!0,K.roundTrips=3;var G=U["w-iframe-xhr-polling"]=function(e,t){this.run(e,t,"/xhr",it,n.XHRLocalObject)};G.prototype=new A;var X=S["iframe-htmlfile"]=function(){var e=this;e.protocol="w-iframe-htmlfile",e.i_constructor.apply(e,arguments)};X.prototype=new R,X.enabled=function(){return R.enabled()},X.need_body=!0,X.roundTrips=3;var Q=U["w-iframe-htmlfile"]=function(e,t){this.run(e,t,"/htmlfile",rt,n.XHRLocalObject)};Q.prototype=new A;var Z=function(e,t,n,r){var i=this;i.ri=e,i.Receiver=t,i.recv_url=n,i.AjaxObject=r,i._scheduleRecv()};Z.prototype._scheduleRecv=function(){var e=this,t=e.poll=new e.Receiver(e.recv_url,e.AjaxObject),n=0;t.onmessage=function(t){n+=1,e.ri._didMessage(t.data)},t.onclose=function(n){e.poll=t=t.onmessage=t.onclose=null,e.poll_is_closing||("permanent"===n.reason?e.ri._didClose(1006,"Polling error ("+n.reason+")"):e._scheduleRecv())}},Z.prototype.abort=function(){var e=this;e.poll_is_closing=!0,e.poll&&e.poll.abort()};var et=function(e){var t=this,r=new EventSource(e);r.onmessage=function(e){t.dispatchEvent(new o("message",{data:unescape(e.data)}))},t.es_close=r.onerror=function(e,i){var a=i?"user":2!==r.readyState?"network":"permanent";t.es_close=r.onmessage=r.onerror=null,r.close(),r=null,n.delay(200,function(){t.dispatchEvent(new o("close",{reason:a}))})}};et.prototype=new i,et.prototype.abort=function(){var e=this;e.es_close&&e.es_close({},!0)};var tt,nt=function(){if(void 0===tt)if("ActiveXObject"in t)try{tt=!!new ActiveXObject("htmlfile")}catch(e){}else tt=!1;return tt},rt=function(e){var r=this;n.polluteGlobalNamespace(),r.id="a"+n.random_string(6,26),e+=(-1===e.indexOf("?")?"?":"&")+"c="+escape(l+"."+r.id);var i,a=nt()?n.createHtmlfile:n.createIframe;t[l][r.id]={start:function(){i.loaded()},message:function(e){r.dispatchEvent(new o("message",{data:e}))},stop:function(){r.iframe_close({},"network")}},r.iframe_close=function(e,n){i.cleanup(),r.iframe_close=i=null,delete t[l][r.id],r.dispatchEvent(new o("close",{reason:n}))},i=a(e,function(){r.iframe_close({},"permanent")})};rt.prototype=new i,rt.prototype.abort=function(){var e=this;e.iframe_close&&e.iframe_close({},"user")};var it=function(e,t){var n=this,r=0;n.xo=new t("POST",e,null),n.xo.onchunk=function(e,t){if(200===e)for(;;){var i=t.slice(r),a=i.indexOf("\n");if(-1===a)break;r+=a+1;var s=i.slice(0,a);n.dispatchEvent(new o("message",{data:s}))}},n.xo.onfinish=function(e,t){n.xo.onchunk(e,t),n.xo=null;var r=200===e?"network":"permanent";n.dispatchEvent(new o("close",{reason:r}))}};return it.prototype=new i,it.prototype.abort=function(){var e=this;e.xo&&(e.xo.close(),e.dispatchEvent(new o("close",{reason:"user"})),e.xo=null)},S.getUtils=function(){return n},S.getIframeTransport=function(){return R},S}(),"_sockjs_onload"in window&&setTimeout(_sockjs_onload,1),"function"==typeof define&&define.amd&&define("sockjs",[],function(){return l})}.call(this),function(){s.ClientStream=function(e){var t=this;t._initCommon(),t.HEARTBEAT_TIMEOUT=6e4,t.rawUrl=e,t.socket=null,t.sent_update_available=!1,t.heartbeatTimer=null,"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("online",i.bind(t._online,t),!1),t._launchConnection()},i.extend(s.ClientStream.prototype,{send:function(e){var t=this;t.currentStatus.connected&&t.socket.send(e)},_changeUrl:function(e){var t=this;t.rawUrl=e},_connected:function(t){var n=this;if(n.connectionTimer&&(clearTimeout(n.connectionTimer),n.connectionTimer=null),!n.currentStatus.connected){try{var o=r.parse(t)}catch(a){e._debug("DEBUG: malformed welcome packet",t)}o&&o.server_id?__meteor_runtime_config__.serverId&&__meteor_runtime_config__.serverId!==o.server_id&&!n.sent_update_available&&(n.sent_update_available=!0,i.each(n.eventCallbacks.update_available,function(e){e()})):e._debug("DEBUG: invalid welcome packet",o),n.currentStatus.status="connected",n.currentStatus.connected=!0,n.currentStatus.retryCount=0,n.statusChanged(),i.each(n.eventCallbacks.reset,function(e){e()})}},_cleanup:function(){var e=this;e._clearConnectionAndHeartbeatTimers(),e.socket&&(e.socket.onmessage=e.socket.onclose=e.socket.onerror=e.socket.onheartbeat=function(){},e.socket.close(),e.socket=null)
},_clearConnectionAndHeartbeatTimers:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.heartbeatTimer&&(clearTimeout(e.heartbeatTimer),e.heartbeatTimer=null)},_heartbeat_timeout:function(){var t=this;e._debug("Connection timeout. No heartbeat received."),t._lostConnection()},_heartbeat_received:function(){var e=this;e._forcedToDisconnect||(e.heartbeatTimer&&clearTimeout(e.heartbeatTimer),e.heartbeatTimer=setTimeout(i.bind(e._heartbeat_timeout,e),e.HEARTBEAT_TIMEOUT))},_sockjsProtocolsWhitelist:function(){var e=["xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"],t=navigator&&/iPhone|iPad|iPod/.test(navigator.userAgent)&&/OS 4_|OS 5_/.test(navigator.userAgent);return t||(e=["websocket"].concat(e)),e},_launchConnection:function(){var t=this;t._cleanup(),t.socket=new l(u(t.rawUrl),void 0,{debug:!1,protocols_whitelist:t._sockjsProtocolsWhitelist()}),t.socket.onmessage=function(e){t._heartbeat_received(),"connecting"===t.currentStatus.status?t._connected(e.data):t.currentStatus.connected&&i.each(t.eventCallbacks.message,function(t){t(e.data)})},t.socket.onclose=function(){t._lostConnection()},t.socket.onerror=function(){e._debug("stream error",i.toArray(arguments),(new Date).toDateString())},t.socket.onheartbeat=function(){t._heartbeat_received()},t.connectionTimer&&clearTimeout(t.connectionTimer),t.connectionTimer=setTimeout(i.bind(t._lostConnection,t),t.CONNECT_TIMEOUT)}})}.call(this),function(){var n=function(e,t){return e.length>=t.length&&e.substring(0,t.length)===t},r=function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t},a=function(i,o,a){o||(o="http");var s,l=i.match(/^ddp(i?)\+sockjs:\/\//),u=i.match(/^http(s?):\/\//);if(l){var c=i.substr(l[0].length);s="i"===l[1]?o:o+"s";var d=c.indexOf("/"),f=-1===d?c:c.substr(0,d),p=-1===d?"":c.substr(d);return f=f.replace(/\*/g,function(){return Math.floor(10*t.fraction())}),s+"://"+f+p}if(u){s=u[1]?o+"s":o;var h=i.substr(u[0].length);i=s+"://"+h}return-1!==i.indexOf("://")||n(i,"/")||(i=o+"://"+i),i=e._relativeToSiteRootUrl(i),r(i,"/")?i+a:i+"/"+a};u=function(e){return a(e,"http","sockjs")},c=function(e){var t=a(e,"ws","websocket");return t},s.toSockjsUrl=u,i.extend(s.ClientStream.prototype,{on:function(e,t){var n=this;if("message"!==e&&"reset"!==e&&"update_available"!==e)throw new Error("unknown event type: "+e);n.eventCallbacks[e]||(n.eventCallbacks[e]=[]),n.eventCallbacks[e].push(t)},_initCommon:function(){var e=this;e.CONNECT_TIMEOUT=1e4,e.RETRY_BASE_TIMEOUT=1e3,e.RETRY_EXPONENT=2.2,e.RETRY_MAX_TIMEOUT=3e5,e.RETRY_MIN_TIMEOUT=10,e.RETRY_MIN_COUNT=2,e.RETRY_FUZZ=.5,e.eventCallbacks={},e._forcedToDisconnect=!1,e.currentStatus={status:"connecting",connected:!1,retryCount:0},e.statusListeners="undefined"!=typeof o&&new o.Dependency,e.statusChanged=function(){e.statusListeners&&e.statusListeners.changed()},e.retryTimer=null,e.connectionTimer=null},reconnect:function(e){var t=this;return e=e||{},e.url&&t._changeUrl(e.url),t.currentStatus.connected?((e._force||e.url)&&t._lostConnection(),void 0):("connecting"===t.currentStatus.status&&t._lostConnection(),t.retryTimer&&clearTimeout(t.retryTimer),t.retryTimer=null,t.currentStatus.retryCount-=1,t._retryNow(),void 0)},disconnect:function(e){var t=this;e=e||{},t._forcedToDisconnect||(e._permanent&&(t._forcedToDisconnect=!0),t._cleanup(),t.retryTimer&&(clearTimeout(t.retryTimer),t.retryTimer=null),t.currentStatus={status:e._permanent?"failed":"offline",connected:!1,retryCount:0},e._permanent&&e._error&&(t.currentStatus.reason=e._error),t.statusChanged())},_lostConnection:function(){var e=this;e._cleanup(),e._retryLater()},_retryTimeout:function(e){var n=this;if(e<n.RETRY_MIN_COUNT)return n.RETRY_MIN_TIMEOUT;var r=Math.min(n.RETRY_MAX_TIMEOUT,n.RETRY_BASE_TIMEOUT*Math.pow(n.RETRY_EXPONENT,e));return r*=t.fraction()*n.RETRY_FUZZ+(1-n.RETRY_FUZZ/2)},_online:function(){"offline"!=this.currentStatus.status&&this.reconnect()},_retryLater:function(){var e=this,t=e._retryTimeout(e.currentStatus.retryCount);e.retryTimer&&clearTimeout(e.retryTimer),e.retryTimer=setTimeout(i.bind(e._retryNow,e),t),e.currentStatus.status="waiting",e.currentStatus.connected=!1,e.currentStatus.retryTime=(new Date).getTime()+t,e.statusChanged()},_retryNow:function(){var e=this;e._forcedToDisconnect||(e.currentStatus.retryCount+=1,e.currentStatus.status="connecting",e.currentStatus.connected=!1,delete e.currentStatus.retryTime,e.statusChanged(),e._launchConnection())},status:function(){var e=this;return e.statusListeners&&e.statusListeners.depend(),e.currentStatus}})}.call(this),function(){a={},d=["pre1"],s.SUPPORTED_DDP_VERSIONS=d,f=function(e){this.isSimulation=e.isSimulation,this._unblock=e.unblock||function(){},this._calledUnblock=!1,this.userId=e.userId,this._setUserId=e.setUserId||function(){},this._setLoginToken=e._setLoginToken||function(){},this._sessionData=e.sessionData},i.extend(f.prototype,{unblock:function(){var e=this;e._calledUnblock=!0,e._unblock()},setUserId:function(e){var t=this;if(t._calledUnblock)throw new Error("Can't call setUserId in a method after calling unblock");t.userId=e,t._setUserId(e)},_setLoginToken:function(e){this._setLoginToken(e),this._sessionData.loginToken=e},_getLoginToken:function(){return this._sessionData.loginToken}}),p=function(t){try{var o=r.parse(t)}catch(a){return e._debug("Discarding message with invalid JSON",t),null}return null===o||"object"!=typeof o?(e._debug("Discarding non-object DDP message",t),null):(i.has(o,"cleared")&&(i.has(o,"fields")||(o.fields={}),i.each(o.cleared,function(e){o.fields[e]=void 0}),delete o.cleared),i.each(["fields","params","result"],function(e){i.has(o,e)&&(o[e]=n._adjustTypesFromJSONValue(o[e]))}),o)},h=function(e){var t=n.clone(e);if(i.has(e,"fields")){var o=[];i.each(e.fields,function(e,n){void 0===e&&(o.push(n),delete t.fields[n])}),i.isEmpty(o)||(t.cleared=o),i.isEmpty(t.fields)&&delete t.fields}if(i.each(["fields","params","result"],function(e){i.has(t,e)&&(t[e]=n._adjustTypesToJSONValue(t[e]))}),e.id&&"string"!=typeof e.id)throw new Error("Message id is not a string");return r.stringify(t)},a._CurrentInvocation=new e.EnvironmentVariable}.call(this),function(){if(e.isServer){var l=Npm.require("path");Npm.require("fibers");var u=Npm.require(l.join("fibers","future"))}var c=function(t,n){var r=this;n=i.extend({reloadOnUpdate:!1,reloadWithOutstanding:!1,supportedDDPVersions:d,onConnectionFailure:function(t){e._debug("Failed DDP connection: "+t)},onConnected:function(){}},n),r.onReconnect=null,r._stream="object"==typeof t?t:new s.ClientStream(t),r._lastSessionId=null,r._versionSuggestion=null,r._version=null,r._stores={},r._methodHandlers={},r._nextMethodId=1,r._supportedDDPVersions=n.supportedDDPVersions,r._methodInvokers={},r._outstandingMethodBlocks=[],r._documentsWrittenByStub={},r._serverDocuments={},r._afterUpdateCallbacks=[],r._messagesBufferedUntilQuiescence=[],r._methodsBlockingQuiescence={},r._subsBeingRevived={},r._resetStores=!1,r._updatesForUnknownStores={},r._retryMigrate=null,r._subscriptions={},r._sessionData={},r._userId=null,r._userIdDeps="undefined"!=typeof o&&new o.Dependency,e.isClient&&Package.reload&&!n.reloadWithOutstanding&&g._onMigrate(function(e){if(r._readyToMigrate())return[!0];if(r._retryMigrate)throw new Error("Two migrations in progress?");return r._retryMigrate=e,!1});var a=function(t){try{var o=p(t)}catch(a){return e._debug("Exception while parsing DDP",a),void 0}if(null===o||!o.msg)return e._debug("discarding invalid livedata message",o),void 0;if("connected"===o.msg)r._version=r._versionSuggestion,n.onConnected(),r._livedata_connected(o);else if("failed"==o.msg)if(i.contains(r._supportedDDPVersions,o.version))r._versionSuggestion=o.version,r._stream.reconnect({_force:!0});else{var s="Version negotiation failed; server requested version "+o.version;r._stream.disconnect({_permanent:!0,_error:s}),n.onConnectionFailure(s)}else i.include(["added","changed","removed","ready","updated"],o.msg)?r._livedata_data(o):"nosub"===o.msg?r._livedata_nosub(o):"result"===o.msg?r._livedata_result(o):"error"===o.msg?r._livedata_error(o):e._debug("discarding unknown livedata message type",o)},l=function(){var e={msg:"connect"};r._lastSessionId&&(e.session=r._lastSessionId),e.version=r._versionSuggestion||r._supportedDDPVersions[0],r._versionSuggestion=e.version,e.support=r._supportedDDPVersions,r._send(e),!i.isEmpty(r._outstandingMethodBlocks)&&i.isEmpty(r._outstandingMethodBlocks[0].methods)&&r._outstandingMethodBlocks.shift(),i.each(r._methodInvokers,function(e){e.sentMessage=!1}),r.onReconnect?r._callOnReconnectAndSendAppropriateOutstandingMethods():r._sendOutstandingMethods(),i.each(r._subscriptions,function(e,t){r._send({msg:"sub",id:t,name:e.name,params:e.params})})};e.isServer?(r._stream.on("message",e.bindEnvironment(a,e._debug)),r._stream.on("reset",e.bindEnvironment(l,e._debug))):(r._stream.on("message",a),r._stream.on("reset",l)),e.isClient&&Package.reload&&n.reloadOnUpdate&&r._stream.on("update_available",function(){g._reload()})},_=function(e){var t=this;t.methodId=e.methodId,t.sentMessage=!1,t._callback=e.callback,t._connection=e.connection,t._message=e.message,t._onResultReceived=e.onResultReceived||function(){},t._wait=e.wait,t._methodResult=null,t._dataVisible=!1,t._connection._methodInvokers[t.methodId]=t};i.extend(_.prototype,{sendMessage:function(){var e=this;if(e.gotResult())throw new Error("sendingMethod is called on method with result");e._dataVisible=!1,e.sentMessage=!0,e._wait&&(e._connection._methodsBlockingQuiescence[e.methodId]=!0),e._connection._send(e._message)},_maybeInvokeCallback:function(){var e=this;e._methodResult&&e._dataVisible&&(e._callback(e._methodResult[0],e._methodResult[1]),delete e._connection._methodInvokers[e.methodId],e._connection._outstandingMethodFinished())},receiveResult:function(e,t){var n=this;if(n.gotResult())throw new Error("Methods should only receive results once");n._methodResult=[e,t],n._onResultReceived(e,t),n._maybeInvokeCallback()},dataVisible:function(){var e=this;e._dataVisible=!0,e._maybeInvokeCallback()},gotResult:function(){var e=this;return!!e._methodResult}}),i.extend(c.prototype,{registerStore:function(e,t){var n=this;if(e in n._stores)return!1;var r={};i.each(["update","beginUpdate","endUpdate","saveOriginals","retrieveOriginals"],function(e){r[e]=function(){return t[e]?t[e].apply(t,arguments):void 0}}),n._stores[e]=r;var o=n._updatesForUnknownStores[e];return o&&(r.beginUpdate(o.length,!1),i.each(o,function(e){r.update(e)}),r.endUpdate(),delete n._updatesForUnknownStores[e]),!0},subscribe:function(e){var r=this,a=Array.prototype.slice.call(arguments,1),s={};if(a.length){var l=a[a.length-1];"function"==typeof l?s.onReady=a.pop():!l||"function"!=typeof l.onReady&&"function"!=typeof l.onError||(s=a.pop())}var u,c=i.find(r._subscriptions,function(t){return t.inactive&&t.name===e&&n.equals(t.params,a)});c?(u=c.id,c.inactive=!1,s.onReady&&(c.ready||(c.readyCallback=s.onReady)),s.onError&&(c.errorCallback=s.onError)):(u=t.id(),r._subscriptions[u]={id:u,name:e,params:a,inactive:!1,ready:!1,readyDeps:"undefined"!=typeof o&&new o.Dependency,readyCallback:s.onReady,errorCallback:s.onError},r._send({msg:"sub",id:u,name:e,params:a}));var d={stop:function(){i.has(r._subscriptions,u)&&(r._send({msg:"unsub",id:u}),delete r._subscriptions[u])},ready:function(){if(!i.has(r._subscriptions,u))return!1;var e=r._subscriptions[u];return e.readyDeps&&e.readyDeps.depend(),e.ready}};return o.active&&o.onInvalidate(function(){i.has(r._subscriptions,u)&&(r._subscriptions[u].inactive=!0),o.afterFlush(function(){i.has(r._subscriptions,u)&&r._subscriptions[u].inactive&&d.stop()})}),d},_subscribeAndWait:function(e,t,n){var r=this,i=new u,o=!1;t=t||[],t.push({onReady:function(){o=!0,i["return"]()},onError:function(e){o?n&&n.onLateError&&n.onLateError(e):i["throw"](e)}}),r.subscribe.apply(r,[e].concat(t)),i.wait()},methods:function(e){var t=this;i.each(e,function(e,n){if(t._methodHandlers[n])throw new Error("A method named '"+n+"' is already defined");t._methodHandlers[n]=e})},call:function(e){var t=Array.prototype.slice.call(arguments,1);if(t.length&&"function"==typeof t[t.length-1])var n=t.pop();return this.apply(e,t,n)},apply:function(t,r,o,s){var l=this;s||"function"!=typeof o||(s=o,o={}),o=o||{},s&&(s=e.bindEnvironment(s,function(n){e._debug("Exception while delivering result of invoking '"+t+"'",n,n.stack)}));var c=function(){var e;return function(){return void 0===e&&(e=""+l._nextMethodId++),e}}(),d=a._CurrentInvocation.get(),p=d&&d.isSimulation,h=l._methodHandlers[t];if(h){var m=function(e){l.setUserId(e)},g=new f({isSimulation:!0,userId:l.userId(),setUserId:m,sessionData:l._sessionData});p||l._saveOriginals();try{var v=a._CurrentInvocation.withValue(g,function(){return e.isServer?e._noYieldsAllowed(function(){return h.apply(g,n.clone(r))}):h.apply(g,n.clone(r))})}catch(y){var b=y}p||l._retrieveAndStoreOriginals(c())}if(p){if(s)return s(b,v),void 0;if(b)throw b;return v}if(b&&!b.expected&&e._debug("Exception while simulating the effect of invoking '"+t+"'",b,b.stack),!s)if(e.isClient)s=function(){};else{var w=new u;s=w.resolver()}var k=new _({methodId:c(),callback:s,connection:l,onResultReceived:o.onResultReceived,wait:!!o.wait,message:{msg:"method",method:t,params:r,id:c()}});return o.wait?l._outstandingMethodBlocks.push({wait:!0,methods:[k]}):((i.isEmpty(l._outstandingMethodBlocks)||i.last(l._outstandingMethodBlocks).wait)&&l._outstandingMethodBlocks.push({wait:!1,methods:[]}),i.last(l._outstandingMethodBlocks).methods.push(k)),1===l._outstandingMethodBlocks.length&&k.sendMessage(),w?w.wait():void 0},_saveOriginals:function(){var e=this;i.each(e._stores,function(e){e.saveOriginals()})},_retrieveAndStoreOriginals:function(t){var n=this;if(n._documentsWrittenByStub[t])throw new Error("Duplicate methodId in _retrieveAndStoreOriginals");var r=[];i.each(n._stores,function(o,a){var s=o.retrieveOriginals();i.each(s,function(i,o){if("string"!=typeof o)throw new Error("id is not a string");r.push({collection:a,id:o});var s=e._ensure(n._serverDocuments,a,o);s.writtenByStubs?s.writtenByStubs[t]=!0:(s.document=i,s.flushCallbacks=[],s.writtenByStubs={},s.writtenByStubs[t]=!0)})}),i.isEmpty(r)||(n._documentsWrittenByStub[t]=r)},_unsubscribeAll:function(){var e=this;i.each(i.clone(e._subscriptions),function(t,n){e._send({msg:"unsub",id:n}),delete e._subscriptions[n]})},_send:function(e){var t=this;t._stream.send(h(e))},status:function(){var e=this;return e._stream.status.apply(e._stream,arguments)},reconnect:function(){var e=this;return e._stream.reconnect.apply(e._stream,arguments)},disconnect:function(){var e=this;return e._stream.disconnect.apply(e._stream,arguments)},close:function(){var e=this;return e._stream.disconnect({_permanent:!0})},userId:function(){var e=this;return e._userIdDeps&&e._userIdDeps.depend(),e._userId},setUserId:function(e){var t=this;t._userId!==e&&(t._userId=e,t._userIdDeps&&t._userIdDeps.changed())},_waitingForQuiescence:function(){var e=this;return!i.isEmpty(e._subsBeingRevived)||!i.isEmpty(e._methodsBlockingQuiescence)},_anyMethodsAreOutstanding:function(){var e=this;return i.any(i.pluck(e._methodInvokers,"sentMessage"))},_livedata_connected:function(e){var t=this;if(t._lastSessionId&&(t._resetStores=!0),"string"==typeof e.session){var n=t._lastSessionId===e.session;t._lastSessionId=e.session}n||(t._updatesForUnknownStores={},t._resetStores&&(t._documentsWrittenByStub={},t._serverDocuments={}),t._afterUpdateCallbacks=[],t._subsBeingRevived={},i.each(t._subscriptions,function(e,n){e.ready&&(t._subsBeingRevived[n]=!0)}),t._methodsBlockingQuiescence={},t._resetStores&&i.each(t._methodInvokers,function(e){e.gotResult()?t._afterUpdateCallbacks.push(i.bind(e.dataVisible,e)):e.sentMessage&&(t._methodsBlockingQuiescence[e.methodId]=!0)}),t._messagesBufferedUntilQuiescence=[],t._waitingForQuiescence()||(t._resetStores&&(i.each(t._stores,function(e){e.beginUpdate(0,!0),e.endUpdate()}),t._resetStores=!1),t._runAfterUpdateCallbacks()))},_processOneDataMessage:function(e,t){var n=this;n["_process_"+e.msg](e,t)},_livedata_data:function(e){var t=this,n={};if(t._waitingForQuiescence()){if(t._messagesBufferedUntilQuiescence.push(e),"nosub"===e.msg&&delete t._subsBeingRevived[e.id],i.each(e.subs||[],function(e){delete t._subsBeingRevived[e]}),i.each(e.methods||[],function(e){delete t._methodsBlockingQuiescence[e]}),t._waitingForQuiescence())return;i.each(t._messagesBufferedUntilQuiescence,function(e){t._processOneDataMessage(e,n)}),t._messagesBufferedUntilQuiescence=[]}else t._processOneDataMessage(e,n);(t._resetStores||!i.isEmpty(n))&&(i.each(t._stores,function(e,r){e.beginUpdate(i.has(n,r)?n[r].length:0,t._resetStores)}),t._resetStores=!1,i.each(n,function(e,n){var r=t._stores[n];r?i.each(e,function(e){r.update(e)}):(i.has(t._updatesForUnknownStores,n)||(t._updatesForUnknownStores[n]=[]),Array.prototype.push.apply(t._updatesForUnknownStores[n],e))}),i.each(t._stores,function(e){e.endUpdate()})),t._runAfterUpdateCallbacks()},_runAfterUpdateCallbacks:function(){var e=this,t=e._afterUpdateCallbacks;e._afterUpdateCallbacks=[],i.each(t,function(e){e()})},_pushUpdate:function(e,t,n){i.has(e,t)||(e[t]=[]),e[t].push(n)},_process_added:function(t,n){var r=this,i=e._get(r._serverDocuments,t.collection,t.id);if(i){if(void 0!==i.document)throw new Error("It doesn't make sense to be adding something we know exists: "+t.id);i.document=t.fields||{},i.document._id=v._idParse(t.id)}else r._pushUpdate(n,t.collection,t)},_process_changed:function(t,n){var r=this,i=e._get(r._serverDocuments,t.collection,t.id);if(i){if(void 0===i.document)throw new Error("It doesn't make sense to be changing something we don't think exists: "+t.id);v._applyChanges(i.document,t.fields)}else r._pushUpdate(n,t.collection,t)},_process_removed:function(t,n){var r=this,i=e._get(r._serverDocuments,t.collection,t.id);if(i){if(void 0===i.document)throw new Error("It doesn't make sense to be deleting something we don't know exists: "+t.id);i.document=void 0}else r._pushUpdate(n,t.collection,{msg:"removed",collection:t.collection,id:t.id})},_process_updated:function(t,n){var o=this;i.each(t.methods,function(t){i.each(o._documentsWrittenByStub[t],function(a){var s=e._get(o._serverDocuments,a.collection,a.id);if(!s)throw new Error("Lost serverDoc for "+r.stringify(a));if(!s.writtenByStubs[t])throw new Error("Doc "+r.stringify(a)+" not written by  method "+t);delete s.writtenByStubs[t],i.isEmpty(s.writtenByStubs)&&(o._pushUpdate(n,a.collection,{msg:"replace",id:a.id,replace:s.document}),i.each(s.flushCallbacks,function(e){e()}),delete o._serverDocuments[a.collection][a.id])}),delete o._documentsWrittenByStub[t];var a=o._methodInvokers[t];if(!a)throw new Error("No callback invoker for method "+t);o._runWhenAllServerDocsAreFlushed(i.bind(a.dataVisible,a))})},_process_ready:function(e){var t=this;i.each(e.subs,function(e){t._runWhenAllServerDocsAreFlushed(function(){var n=t._subscriptions[e];n&&(n.ready||(n.readyCallback&&n.readyCallback(),n.ready=!0,n.readyDeps&&n.readyDeps.changed()))})})},_runWhenAllServerDocsAreFlushed:function(e){var t=this,n=function(){t._afterUpdateCallbacks.push(e)},r=0,o=function(){--r,0===r&&n()};i.each(t._serverDocuments,function(e){i.each(e,function(e){var n=i.any(e.writtenByStubs,function(e,n){var r=t._methodInvokers[n];return r&&r.sentMessage});n&&(++r,e.flushCallbacks.push(o))})}),0===r&&n()},_livedata_nosub:function(t){var n=this;if(n._livedata_data(t),i.has(n._subscriptions,t.id)){var r=n._subscriptions[t.id].errorCallback;delete n._subscriptions[t.id],r&&t.error&&r(new e.Error(t.error.error,t.error.reason,t.error.details))}},_process_nosub:function(){},_livedata_result:function(t){var n=this;if(i.isEmpty(n._outstandingMethodBlocks))return e._debug("Received method result but no methods outstanding"),void 0;for(var r,o=n._outstandingMethodBlocks[0].methods,a=0;a<o.length&&(r=o[a],r.methodId!==t.id);a++);return r?(o.splice(a,1),i.has(t,"error")?r.receiveResult(new e.Error(t.error.error,t.error.reason,t.error.details)):r.receiveResult(void 0,t.result),void 0):(e._debug("Can't match method response to original method call",t),void 0)},_outstandingMethodFinished:function(){var e=this;if(!e._anyMethodsAreOutstanding()){if(!i.isEmpty(e._outstandingMethodBlocks)){var t=e._outstandingMethodBlocks.shift();if(!i.isEmpty(t.methods))throw new Error("No methods outstanding but nonempty block: "+r.stringify(t));i.isEmpty(e._outstandingMethodBlocks)||e._sendOutstandingMethods()}e._maybeMigrate()}},_sendOutstandingMethods:function(){var e=this;i.isEmpty(e._outstandingMethodBlocks)||i.each(e._outstandingMethodBlocks[0].methods,function(e){e.sendMessage()})},_livedata_error:function(t){e._debug("Received error from server: ",t.reason),t.offendingMessage&&e._debug("For: ",t.offendingMessage)},_callOnReconnectAndSendAppropriateOutstandingMethods:function(){var e=this,t=e._outstandingMethodBlocks;if(e._outstandingMethodBlocks=[],e.onReconnect(),!i.isEmpty(t)){if(i.isEmpty(e._outstandingMethodBlocks))return e._outstandingMethodBlocks=t,e._sendOutstandingMethods(),void 0;i.last(e._outstandingMethodBlocks).wait||t[0].wait||(i.each(t[0].methods,function(t){i.last(e._outstandingMethodBlocks).methods.push(t),1===e._outstandingMethodBlocks.length&&t.sendMessage()}),t.shift()),i.each(t,function(t){e._outstandingMethodBlocks.push(t)})}},_readyToMigrate:function(){var e=this;return i.isEmpty(e._methodInvokers)},_maybeMigrate:function(){var e=this;e._retryMigrate&&e._readyToMigrate()&&(e._retryMigrate(),e._retryMigrate=null)}}),s.Connection=c,a.connect=function(e,t){var n=new c(e,{reloadOnUpdate:t});return m.push(n),n},m=[],a._allSubscriptionsReady=function(){return i.all(m,function(e){return i.all(e._subscriptions,function(e){return e.ready})})}}.call(this),function(){if(e.refresh=function(){},e.isClient){var t="/";"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL&&(t=__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL),e.connection=a.connect(t,!0),i.each(["subscribe","methods","call","apply","status","reconnect","disconnect"],function(t){e[t]=i.bind(e.connection[t],e.connection)})}else e.connection=null;e.default_connection=e.connection,e.connect=a.connect}.call(this),"undefined"==typeof Package&&(Package={}),Package.livedata={DDP:a,LivedataTest:s}}(),function(){Package.meteor.Meteor,Package.underscore._,Package.livedata.DDP,Package.ejson.EJSON,"undefined"==typeof Package&&(Package={}),Package["application-configuration"]={}}(),function(){var e=Package.meteor.Meteor,t=Package.random.Random,n=Package.ejson.EJSON;Package.json.JSON;var r=Package.underscore._,i=Package.minimongo.LocalCollection;Package.logging.Log;var o,a=Package.livedata.DDP,s=Package.deps.Deps,l=Package.check.check,u=Package.check.Match;(function(){o=function(){var e=this;e.noConnCollections={}};var e=function(e,t){return e in t||(t[e]=new i(e)),t[e]};r.extend(o.prototype,{open:function(t,n){var r=this;return t?n?(n._mongo_livedata_collections||(n._mongo_livedata_collections={}),e(t,n._mongo_livedata_collections)):e(t,r.noConnCollections):new i}}),o=new o}).call(this),function(){e.Collection=function(n,a){var l=this;if(!(l instanceof e.Collection))throw new Error('use "new" to construct a Meteor.Collection');switch(a&&a.methods&&(a={connection:a}),a&&a.manager&&!a.connection&&(a.connection=a.manager),a=r.extend({connection:void 0,idGeneration:"STRING",transform:null,_driver:void 0,_preventAutopublish:!1},a),a.idGeneration){case"MONGO":l._makeNewID=function(){return new e.Collection.ObjectID};break;case"STRING":default:l._makeNewID=function(){return t.id()}}if(l._transform=a.transform?s._makeNonreactive(a.transform):null,n||null===n||e._debug("Warning: creating anonymous collection. It will not be saved or synchronized over the network. (Pass null for the collection name to turn off this warning.)"),l._connection=n&&null!==a.connection?a.connection?a.connection:e.isClient?e.connection:e.server:null,a._driver||(a._driver=n&&l._connection===e.server&&"undefined"!=typeof MongoInternals&&MongoInternals.defaultRemoteCollectionDriver?MongoInternals.defaultRemoteCollectionDriver():o),l._collection=a._driver.open(n,l._connection),l._name=n,l._connection&&l._connection.registerStore){var u=l._connection.registerStore(n,{beginUpdate:function(e,t){(e>1||t)&&l._collection.pauseObservers(),t&&l._collection.remove({})},update:function(e){var t=i._idParse(e.id),n=l._collection.findOne(t);if("replace"===e.msg){var o=e.replace;return o?n?l._collection.update(t,o):l._collection.insert(o):n&&l._collection.remove(t),void 0}if("added"===e.msg){if(n)throw new Error("Expected not to find a document already present for an add");l._collection.insert(r.extend({_id:t},e.fields))}else if("removed"===e.msg){if(!n)throw new Error("Expected to find a document already present for removed");l._collection.remove(t)}else{if("changed"!==e.msg)throw new Error("I don't know how to deal with this message");if(!n)throw new Error("Expected to find a document to change");if(!r.isEmpty(e.fields)){var a={};r.each(e.fields,function(e,t){void 0===e?(a.$unset||(a.$unset={}),a.$unset[t]=1):(a.$set||(a.$set={}),a.$set[t]=e)}),l._collection.update(t,a)}}},endUpdate:function(){l._collection.resumeObservers()},saveOriginals:function(){l._collection.saveOriginals()},retrieveOriginals:function(){return l._collection.retrieveOriginals()}});if(!u)throw new Error("There is already a collection named '"+n+"'")}l._defineMutationMethods(),Package.autopublish&&!a._preventAutopublish&&l._connection&&l._connection.publish&&l._connection.publish(null,function(){return l.find()},{is_auto:!0})},r.extend(e.Collection.prototype,{_getFindSelector:function(e){return 0==e.length?{}:e[0]},_getFindOptions:function(e){var t=this;return e.length<2?{transform:t._transform}:r.extend({transform:t._transform},e[1])},find:function(){var e=this,t=r.toArray(arguments);return e._collection.find(e._getFindSelector(t),e._getFindOptions(t))},findOne:function(){var e=this,t=r.toArray(arguments);return e._collection.findOne(e._getFindSelector(t),e._getFindOptions(t))}}),e.Collection._publishCursor=function(e,t,n){var r=e.observeChanges({added:function(e,r){t.added(n,e,r)},changed:function(e,r){t.changed(n,e,r)},removed:function(e){t.removed(n,e)}});t.onStop(function(){r.stop()})},e.Collection._rewriteSelector=function(n){if(i._selectorIsId(n)&&(n={_id:n}),!n||"_id"in n&&!n._id)return{_id:t.id()};var o={};return r.each(n,function(t,n){t instanceof RegExp?o[n]=c(t):t&&t.$regex instanceof RegExp?(o[n]=c(t.$regex),void 0!==t.$options&&(o[n].$options=t.$options)):o[n]=r.contains(["$or","$and","$nor"],n)?r.map(t,function(t){return e.Collection._rewriteSelector(t)}):t}),o};var c=function(e){l(e,RegExp);var t={$regex:e.source},n="";return e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),n&&(t.$options=n),t},d=function(t,n){if(!i._selectorIsIdPerhapsAsObject(t))throw new e.Error(403,"Not permitted. Untrusted code may only "+n+" documents by ID.")};r.each(["insert","update","remove"],function(t){e.Collection.prototype[t]=function(){var n,i,o,s=this,l=r.toArray(arguments);if(l.length&&l[l.length-1]instanceof Function&&(n=l.pop()),"insert"===t){if(!l.length)throw new Error("insert requires an argument");if(l[0]=r.extend({},l[0]),"_id"in l[0]){if(i=l[0]._id,!i||!("string"==typeof i||i instanceof e.Collection.ObjectID))throw new Error("Meteor requires document _id fields to be non-empty strings or ObjectIDs")}else i=l[0]._id=s._makeNewID()}else if(l[0]=e.Collection._rewriteSelector(l[0]),"update"===t){var u=l[2]=r.clone(l[2])||{};if(u&&"function"!=typeof u&&u.upsert)if(u.insertedId){if(!("string"==typeof u.insertedId||u.insertedId instanceof e.Collection.ObjectID))throw new Error("insertedId must be string or ObjectID")}else u.insertedId=s._makeNewID()}var c,f=function(e){return"insert"===t?i:e};if(n&&(c=function(e,t){n(e,!e&&f(t))}),s._connection&&s._connection!==e.server){var p=a._CurrentInvocation.get(),h=p&&p.isSimulation;!e.isClient||c||h||(c=function(n){n&&e._debug(t+" failed: "+(n.reason||n.stack))}),h||"insert"===t||d(l[0],t),o=f(s._connection.apply(s._prefix+t,l,c))}else{l.push(c);try{var m=s._collection[t].apply(s._collection,l);o=f(m)}catch(g){if(n)return n(g),null;throw g}}return o}}),e.Collection.prototype.upsert=function(e,t,n,i){var o=this;return i||"function"!=typeof n||(i=n,n={}),o.update(e,t,r.extend({},n,{_returnObject:!0,upsert:!0}),i)},e.Collection.prototype._ensureIndex=function(e,t){var n=this;if(!n._collection._ensureIndex)throw new Error("Can only call _ensureIndex on server collections");n._collection._ensureIndex(e,t)},e.Collection.prototype._dropIndex=function(e){var t=this;if(!t._collection._dropIndex)throw new Error("Can only call _dropIndex on server collections");t._collection._dropIndex(e)},e.Collection.prototype._createCappedCollection=function(e){var t=this;if(!t._collection._createCappedCollection)throw new Error("Can only call _createCappedCollection on server collections");t._collection._createCappedCollection(e)},e.Collection.ObjectID=i._ObjectID,function(){var t=function(e,t){var n=["insert","update","remove","fetch","transform"];r.each(r.keys(t),function(t){if(!r.contains(n,t))throw new Error(e+": Invalid key: "+t)});var i=this;if(i._restricted=!0,r.each(["insert","update","remove"],function(n){if(t[n]){if(!(t[n]instanceof Function))throw new Error(e+": Value for `"+n+"` must be a function");i._transform&&(t[n].transform=i._transform),t.transform&&(t[n].transform=s._makeNonreactive(t.transform)),i._validators[n][e].push(t[n])}}),t.update||t.remove||t.fetch){if(t.fetch&&!(t.fetch instanceof Array))throw new Error(e+": Value for `fetch` must be an array");i._updateFetch(t.fetch)}};e.Collection.prototype.allow=function(e){t.call(this,"allow",e)},e.Collection.prototype.deny=function(e){t.call(this,"deny",e)}}(),e.Collection.prototype._defineMutationMethods=function(){var t=this;if(t._restricted=!1,t._insecure=void 0,t._validators={insert:{allow:[],deny:[]},update:{allow:[],deny:[]},remove:{allow:[],deny:[]},upsert:{allow:[],deny:[]},fetch:[],fetchAllFields:!1},t._name&&(t._prefix="/"+t._name+"/",t._connection)){var n={};r.each(["insert","update","remove"],function(i){n[t._prefix+i]=function(){l(arguments,[u.Any]);try{if(this.isSimulation)return t._collection[i].apply(t._collection,r.toArray(arguments));if("insert"!==i&&d(arguments[0],i),t._restricted){if(0===t._validators[i].allow.length)throw new e.Error(403,"Access denied. No allow validators set on restricted collection for method '"+i+"'.");var n="_validated"+i.charAt(0).toUpperCase()+i.slice(1),o=[this.userId].concat(r.toArray(arguments));return t[n].apply(t,o)}if(t._isInsecure())return t._collection[i].apply(t._collection,r.toArray(arguments));throw new e.Error(403,"Access denied")}catch(a){throw"MongoError"===a.name||"MinimongoError"===a.name?new e.Error(409,a.toString()):a}}}),(e.isClient||t._connection===e.server)&&t._connection.methods(n)}},e.Collection.prototype._updateFetch=function(e){var t=this;t._validators.fetchAllFields||(e?t._validators.fetch=r.union(t._validators.fetch,e):(t._validators.fetchAllFields=!0,t._validators.fetch=null))},e.Collection.prototype._isInsecure=function(){var e=this;return void 0===e._insecure?!!Package.insecure:e._insecure};var f=function(e,t){var r=t;return e.transform&&(r=e.transform(n.clone(t))),r};e.Collection.prototype._validatedInsert=function(t,n){var i=this;if(r.any(i._validators.insert.deny,function(e){return e(t,f(e,n))}))throw new e.Error(403,"Access denied");if(r.all(i._validators.insert.allow,function(e){return!e(t,f(e,n))}))throw new e.Error(403,"Access denied");i._collection.insert.call(i._collection,n)};var p=function(e,t){return e.transform?e.transform(t):t};e.Collection.prototype._validatedUpdate=function(t,n,o,a){var s=this;if(a=a||{},!i._selectorIsIdPerhapsAsObject(n))throw new Error("validated update should be of a single ID");if(a.upsert)throw new e.Error(403,"Access denied. Upserts not allowed in a restricted collection.");
var l=[];r.each(o,function(t,n){if("$"!==n.charAt(0))throw new e.Error(403,"Access denied. In a restricted collection you can only update documents, not replace them. Use a Mongo update operator, such as '$set'.");if(!r.has(h,n))throw new e.Error(403,"Access denied. Operator "+n+" not allowed in a restricted collection.");r.each(r.keys(t),function(e){-1!==e.indexOf(".")&&(e=e.substring(0,e.indexOf("."))),r.contains(l,e)||l.push(e)})});var u={transform:null};s._validators.fetchAllFields||(u.fields={},r.each(s._validators.fetch,function(e){u.fields[e]=1}));var c=s._collection.findOne(n,u);if(c){var d;if(r.any(s._validators.update.deny,function(e){return d||(d=p(e,c)),e(t,d,l,o)}))throw new e.Error(403,"Access denied");if(r.all(s._validators.update.allow,function(e){return d||(d=p(e,c)),!e(t,d,l,o)}))throw new e.Error(403,"Access denied");s._collection.update.call(s._collection,n,o,a)}};var h={$inc:1,$set:1,$unset:1,$addToSet:1,$pop:1,$pullAll:1,$pull:1,$pushAll:1,$push:1,$bit:1};e.Collection.prototype._validatedRemove=function(t,n){var i=this,o={transform:null};i._validators.fetchAllFields||(o.fields={},r.each(i._validators.fetch,function(e){o.fields[e]=1}));var a=i._collection.findOne(n,o);if(a){if(r.any(i._validators.remove.deny,function(e){return e(t,p(e,a))}))throw new e.Error(403,"Access denied");if(r.all(i._validators.remove.allow,function(e){return!e(t,p(e,a))}))throw new e.Error(403,"Access denied");i._collection.remove.call(i._collection,n)}}}.call(this),"undefined"==typeof Package&&(Package={}),Package["mongo-livedata"]={}}(),function(){var e,t=Package.meteor.Meteor;(function(){"undefined"==typeof e&&(e={}),e.configurations=new t.Collection("meteor_accounts_loginServiceConfiguration",{_preventAutopublish:!0}),e.ConfigError=function(e){this.message=e},e.ConfigError.prototype=new Error,e.ConfigError.prototype.name="ServiceConfiguration.ConfigError"}).call(this),"undefined"==typeof Package&&(Package={}),Package["service-configuration"]={ServiceConfiguration:e}}(),function(){Package.meteor.Meteor,Package.jquery.$,Package.jquery.jQuery;var e,t=Package.underscore._;(function(){e={};var n=function(e,n){if(!document.querySelectorAll)throw new Error("This browser doesn't support querySelectorAll.");var r=n;return h(n,"DomUtils_findAllBySelector_scope",function(n){var i=t.map(e.split(","),function(e){return n+" "+e}).join(",");return r.querySelectorAll(i)})},r=window.Sizzle||window.jQuery&&window.jQuery.find||n,i=document.createElement("div");i.innerHTML="   <link/><table></table><select><!----></select>";var o=document.createElement("div");o.innerHTML="<select><option selected>Foo</option></select>",o.firstChild.setAttribute("name","myname");var a={leadingWhitespaceKilled:3!==i.firstChild.nodeType,tbodyInsertion:i.getElementsByTagName("tbody").length>0,tagsLost:0===i.getElementsByTagName("link").length,commentsLost:!i.getElementsByTagName("select")[0].firstChild,selectValueMustBeFromAttribute:"Foo"!==o.firstChild.value,mustSetNameInCreateElement:o.firstChild.outerHTML&&-1===o.firstChild.outerHTML.indexOf("myname")},s={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};t.extend(s,{optgroup:s.option,tbody:s.thead,tfoot:s.thead,colgroup:s.thead,caption:s.thead,th:s.td}),a.tagsLost&&(s._default=[1,"div<div>","</div>"]);var l=/^\s+/,u=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,c=/<([\w:]+)/,d=/<tbody/i,f=/<|&#?\w+;/;e.htmlToFragment=function(e){var n=document,r=n.createDocumentFragment();if(e.length)if(f.test(e)){e=e.replace(u,"<$1></$2>");var i=c.exec(e),o=i?i[1].toLowerCase():"",p=s[o]||s._default,h=p[1]+e+p[2];a.commentsLost&&(h=h.replace(/<\s*(select|option)\b/gi,'<ins domutilsrealtagname="$1"'),h=h.replace(/<\/\s*(select|option)\b/gi,"</ins"));var m=n.createElement("div");m.innerHTML=h;for(var g=p[0];g--;)m=m.lastChild;if(a.tbodyInsertion&&!d.test(e)){var v=m.getElementsByTagName("tbody");t.each(v,function(e){e.firstChild||e.parentNode.removeChild(e)})}if(a.leadingWhitespaceKilled){var _=l.exec(e);_&&m.insertBefore(n.createTextNode(_[0]),m.firstChild)}if(a.commentsLost){var y=[];t.each(m.getElementsByTagName("ins"),function(e){e.getAttribute("domutilsrealtagname")&&y.push(e)}),t.each(y,function(e){var n=e.getAttribute("domutilsrealtagname");a.mustSetNameInCreateElement&&e.getAttribute("name")&&(n="<"+n+" name='"+t.escape(e.getAttribute("name"))+"'/>");var r=document.createElement(n);e.removeAttribute("domutilsrealtagname");for(var i=e.attributes,o=0;o<i.length;++o){var s=i.item(o);if(s.specified){var l=s.name.toLowerCase(),u=String(s.value);"selected"===l&&""===u&&(u="selected"),r.setAttribute(l,u)}}for(;e.firstChild;)r.appendChild(e.firstChild);e.parentNode.replaceChild(r,e)})}for(;m.firstChild;)r.appendChild(m.firstChild)}else r.appendChild(n.createTextNode(e));else;return r},e.fragmentToHtml=function(t){return t=t.cloneNode(!0),e.fragmentToContainer(t).innerHTML},e.fragmentToContainer=function(e){for(var t=document,n=e.firstChild;n&&1!==n.nodeType;)n=n.nextSibling;var r=t.createElement("div");if(n){var i=n.nodeName,o=s[i]||s._default;r.innerHTML=o[1]+o[2];for(var a=o[0];a--;)r=r.lastChild;r.appendChild(e)}else r.appendChild(e);return r},e.elementContains=function(e,t){return 1!==e.nodeType?!1:e===t?!1:e.compareDocumentPosition?16&e.compareDocumentPosition(t):(t=t.parentNode,t&&1===t.nodeType?e===t?!0:e.contains(t):!1)},e.findAll=function(t,n){if(11===t.nodeType){for(var i=t,o=e.fragmentToContainer(i),a=r(n,o);o.firstChild;)i.appendChild(o.firstChild);return a}return r(n,t)},e.find=function(t,n){var r=e.findAll(t,n);return r.length?r[0]:null};var p=function(t,n,r){return e.elementContains(t,n)?!1:e.compareElementIndex(n,t)<=0&&e.compareElementIndex(t,r)<=0};e.findAllClipped=function(n,r,i,o){for(;i!==o&&1!==i.nodeType;)i=i.nextSibling;for(;i!==o&&1!==o.nodeType;)o=o.previousSibling;if(1!==i.nodeType)return[];var a=e.findAll(n,r);return t.reject(a,function(e){return!p(e,i,o)})},e.findClipped=function(t,n,r,i){var o=e.findAllClipped(t,n,r,i);return o.length?o[0]:null};var h=function(e,t,n){var r=!1;e.getAttribute("id")||(e.setAttribute("id",t),r=!0);try{var i=e.getAttribute("id").replace(/'/g,"\\$&");return n("[id='"+i+"']")}finally{r&&e.removeAttribute("id")}},m=function(t,n,r,i,o){for(var a=r.split(","),s=0,l=a.length;l>s;s++){var u=h(t,"DomUtils_matchesSelector_target",function(a){var s,l=r.match(/\S.*?(?=\s*$)/)[0],u=l+a;return s=i?e.findClipped(n,u,i,o):e.find(n,u),s===t});if(u)return!0}return!1};e.matchesSelector=function(e,t,n){return m(e,t,n)},e.matchesSelectorClipped=function(e,t,n,r,i){return m(e,t,n,r,i)},e.compareElementIndex=function(e,t){if(e===t)return 0;if(e.compareDocumentPosition){var n=e.compareDocumentPosition(t);return 24&n?0:4&n?-1:1}return e.contains(t)||t.contains(e)?0:e.sourceIndex<t.sourceIndex?-1:1},e.wrapFragmentForContainer=function(e,n){if(n&&"TABLE"===n.nodeName&&t.any(e.childNodes,function(e){return"TR"===e.nodeName})){var r=document.createElement("TBODY");r.appendChild(e),e.appendChild(r)}},e.isInDocument=function(t){return t===document?!0:(1!==t.nodeType&&(t=t.parentNode),t&&1===t.nodeType?t===document.body?!0:e.elementContains(document.body,t):!1)},e.rangeToHtml=function(t,n){for(var r=document.createDocumentFragment(),i=t,o=n.nextSibling;i&&i!==o;i=i.nextSibling)r.appendChild(i.cloneNode(!0));return e.fragmentToHtml(r)},e.outerHtml=function(t){return e.rangeToHtml(t,t)},e.setElementValue=function(t,n){if(t.value=n,t.value!==n&&"SELECT"===t.nodeName)for(var r=e.findAll(t,"option"),i=0;i<r.length;++i)if(e.getElementValue(r[i])===n)return r[i].selected=!0,void 0},e.getElementValue=function(t){if(!a.selectValueMustBeFromAttribute)return t.value;if("OPTION"===t.nodeName){var n=t.attributes.value;return!n||n.specified?t.value:t.text}return"SELECT"===t.nodeName?t.selectedIndex<0?null:e.getElementValue(t.options[t.selectedIndex]):t.value}}).call(this),"undefined"==typeof Package&&(Package={}),Package.domutils={DomUtils:e}}(),function(){Package.meteor.Meteor;var e;(function(){var t=function(){var e=document.createTextNode("");try{e.test=123}catch(t){}return 123!==e.test?!1:document.documentMode?!1:!0}(),n=function(e,n){if(t)return[e,n];if(3===e.nodeType){var r=document.createComment("IE");e.parentNode.insertBefore(r,e),e=r}if(3===n.nodeType){var r=document.createComment("IE");n.parentNode.insertBefore(r,n.nextSibling),n=r}return[e,n]};e=function(e,t,i,o){if(11===t.nodeType)i=t.lastChild,t=t.firstChild;else if(!t.parentNode)throw new Error("LiveRange start and end must have a parent");i=i||t,this.tag=e;var a=n(t,i);t=this._ensureTag(a[0]),i=this._ensureTag(a[1]);var s=r(t[e][0],!0,i,t,o),l=r(i[e][1],!1,t,i,o);this._insertEntries(t,0,s,[this]),this._insertEntries(i,1,l,[this])};var r=function(e,t,n,r,i){for(var o,a=t?n.parentNode.lastChild:r,s=t?!i:i,l=0,u=a;l<=e.length;l++){for(var c=e[l],d=c&&(t?c._end:c._start);u!==d&&u!==n;)u=u.previousSibling;if(d===n){if(o=l,s)break}else if(u===n){o=l;break}}return o};e.prototype._ensureTag=function(e){return this.tag in e||(e[this.tag]=[[],[]]),e};var i=function(){var e=document.createElement("DIV"),t=!1;try{e.test=12,delete e.test,t=!0}catch(n){}return t}();e._cleanNode=function(e,t,n){var r=t[e];!r||r[0].length+r[1].length&&!n||(i?delete t[e]:t.removeAttribute(e))},e.prototype.destroy=function(t){var n=this;if(t){if(this.visit(function(e,t){e&&(t._start=null,t._end=null)},function(t,r){if(!t)for(var i=r.firstChild;i;i=i.nextSibling)e._cleanNode(n.tag,i,!0)}),this._removeEntries(this._start,0,this._startIndex),this._removeEntries(this._end,1,0,this._endIndex+1),this._start!==this._end){for(var r=this._start.nextSibling;r!==this._end;r=r.nextSibling)e._cleanNode(n.tag,r,!0);this._start[n.tag]&&this._removeEntries(this._start,1),this._end[n.tag]&&this._removeEntries(this._end,0)}this._start=this._end=null}else this._removeEntries(this._start,0,this._startIndex,this._startIndex+1),this._removeEntries(this._end,1,this._endIndex,this._endIndex+1),this._start=this._end=null},e.prototype.firstNode=function(){return this._start},e.prototype.lastNode=function(){return this._end},e.prototype.containerNode=function(){return this._start.parentNode},e.prototype.visit=function(e,t){e=e||function(){},t=t||function(){};var n=this.tag,r=function(i,o,a){for(var s=a||0,l=o.nextSibling,u=i;u&&u!==l;u=u.nextSibling){var c=u[n]&&u[n][0];if(c&&s<c.length){var d=c[s],f=d._start,p=d._end;e(!0,d)!==!1&&r(f,p,s+1),e(!1,d),u=p}else t(!0,u)!==!1&&u.firstChild&&r(u.firstChild,u.lastChild),t(!1,u);s=0}};r(this._start,this._end,this._startIndex+1)},e.prototype._removeEntries=function(t,n,r,i){var o=t[this.tag][n];r=r||0,i=i||0===i?i:o.length;for(var a=o.splice(r,i-r),s=r;s<o.length;s++)n?o[s]._endIndex=s:o[s]._startIndex=s;return o.length||e._cleanNode(this.tag,t),a},e.prototype._insertEntries=function(e,t,n,r){var i=e[this.tag][t];Array.prototype.splice.apply(i,[n,0].concat(r));for(var o=n;o<i.length;o++)t?(i[o]._end=e,i[o]._endIndex=o):(i[o]._start=e,i[o]._startIndex=o)},e.prototype.replaceContents=function(e){if(!e.firstChild)throw new Error("replaceContents requires non-empty fragment");return this.operate(function(t,n){t.parentNode.insertBefore(e,t);for(var r=t.ownerDocument.createDocumentFragment(),i=t;;){var o=i.nextSibling;if(r.appendChild(i),i===n)break;if(i=o,!i)throw new Error("LiveRanges must begin and end on siblings in order")}return r})},e.prototype.operate=function(e){var t=this._start,r=this._end,i=this._removeEntries(t,0,0,this._startIndex+1),o=this._removeEntries(r,1,this._endIndex),a=t.parentNode,s=t.previousSibling,l=r.nextSibling,u=null;u=e(t,r);var c=s?s.nextSibling:a.firstChild,d=l?l.previousSibling:a.lastChild;if(!c||c===l)throw new Error("Ranges must contain at least one element");var f=n(c,d);return c=this._ensureTag(f[0]),d=this._ensureTag(f[1]),this._insertEntries(c,0,0,i),this._insertEntries(d,1,d[this.tag][1].length,o),u},e.transplantTag=function(e,t,n){if(n[e]){t[e]=n[e],n[e]=null;for(var r=t[e][0],i=t[e][1],o=0;o<r.length;o++)r[o]._start=t;for(var o=0;o<i.length;o++)i[o]._end=t}},e.transplantRange=function(e,t,n){n._ensureTag(e),t!==e&&n._ensureTag(t),n._insertEntries(e,0,0,n._start[n.tag][0].slice(0,n._startIndex+1)),n._insertEntries(t,1,0,n._end[n.tag][1].slice(n._endIndex))},e.prototype.insertBefore=function(e){var t=e.firstChild;t&&(this._start.parentNode.insertBefore(e,this._start),this._ensureTag(t),this._insertEntries(t,0,0,this._removeEntries(this._start,0,0,this._startIndex)))},e.prototype.insertAfter=function(e){var t=e.lastChild;t&&(this._end.parentNode.insertBefore(e,this._end.nextSibling),this._ensureTag(t),this._insertEntries(t,1,t[this.tag][1].length,this._removeEntries(this._end,1,this._endIndex+1)))},e.prototype.extract=function(){if(this._startIndex>0&&this._start[this.tag][0][this._startIndex-1]._end===this._end)return null;var e=this._start.previousSibling,t=this._end.nextSibling,n=this._start.parentNode;this._startIndex>0&&(this._ensureTag(t),this._insertEntries(t,0,0,this._removeEntries(this._start,0,0,this._startIndex))),this._endIndex<this._end[this.tag][1].length-1&&(this._ensureTag(e),this._insertEntries(e,1,e[this.tag][1].length,this._removeEntries(this._end,1,this._endIndex+1)));for(var r,i=document.createDocumentFragment();r=e?e.nextSibling:n.firstChild,r&&r!==t;)i.appendChild(r);return i},e.prototype.findParent=function(t){var n=o(this.tag,this._end,this._endIndex);return n?n:t?null:e.findRange(this.tag,this.containerNode())},e.findRange=function(t,n){var r=o(t,n);return r?r:n.parentNode?e.findRange(t,n.parentNode):null};var o=function(e,t,n){if("undefined"==typeof n&&(n=-1),t[e]&&n+1<t[e][1].length)return t[e][1][n+1];for(var r=t.nextSibling;r;){var n=0,i=r[e]&&r[e][0];if(i&&i.length){var o=i[0];r=o._end,n=o._endIndex+1}if(r[e]&&n<r[e][1].length)return r[e][1][n];r=r.nextSibling}return null}}).call(this),"undefined"==typeof Package&&(Package={}),Package.liverange={LiveRange:e}}(),function(){Package.meteor.Meteor;var e,t=Package.underscore._,n=Package.domutils.DomUtils;(function(){var n,r=[],i=function(){return!1},o=function(){return!0},a=function(e){var t=e.stopPropagation,n=e.preventDefault;e.isPropagationStopped=i,e.isImmediatePropagationStopped=i,e.isDefaultPrevented=i,e.stopPropagation=function(){e.isPropagationStopped=o,t?t.call(e):e.cancelBubble=!0},e.preventDefault=function(){e.isDefaultPrevented=o,n?n.call(e):e.returnValue=!1},e.stopImmediatePropagation=function(){e.stopPropagation(),e.isImmediatePropagationStopped=o};var r=e.type;if(void 0===e.metaKey&&(e.metaKey=e.ctrlKey),/^key/.test(r))null==e.which&&(e.which=null!=e.charCode?e.charCode:e.keyCode);else if(/^(?:mouse|contextmenu)|click/.test(r)&&(!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),!e.which&&void 0!==e.button)){var a=e.button;e.which=1&a?1:2&a?3:4&a?2:0}return e},s=function(e){e=a(e),t.each(r,function(t){t.types[e.type]&&(!t._checkIECompliance||e.currentTarget["_uevents_test_eventtype_"+e.type])&&t.handler.call(null,e)})},l=function(){return n||(n=document.addEventListener?new e._impl.w3c(s):new e._impl.ie(s)),n},u={};e=function(e,t){this.handler=e,this.types={},this.impl=l(),this._checkIECompliance=t,r.push(this)},t.extend(e.prototype,{addType:function(e){this.types[e]||(this.types[e]=!0,u[e]=(u[e]||0)+1,1===u[e]&&this.impl.addType(e))},removeType:function(e){this.types[e]&&(delete this.types[e],u[e]--,u[e]||this.impl.removeType(e))},installHandler:function(e,n){1===e.nodeType&&(this.impl.installHandler(e,n),this._checkIECompliance&&(e["_uevents_test_eventtype_"+n]=e,e.firstChild&&t.each(e.getElementsByTagName("*"),function(e){e["_uevents_test_eventtype_"+n]=e})))},destroy:function(){var e=this;r=t.without(r,e),t.each(t.keys(e.types),function(t){e.removeType(t)})}})}).call(this),function(){var r=0,i=1,o=2;e._impl=e._impl||{},e._impl.w3c=function(e){this.deliver=e,this.typeCounts={},this.boundHandler=t.bind(this.handler,this),this.boundCapturer=t.bind(this.capturer,this),this.focusBlurMode="onfocusin"in document.createElement("DIV")?r:o,this.simulateMouseEnterLeave=!window.opera},t.extend(e._impl.w3c.prototype,{addType:function(e){this._listen(this._expandEventType(e))},removeType:function(e){this._unlisten(this._expandEventType(e))},installHandler:function(){},_expandEventType:function(e){var t=[e];return this.focusBlurMode===i?"focus"===e?t.push("focusin"):"blur"===e&&t.push("focusout"):this.focusBlurMode===o&&("focusin"===e?t.push("focus"):"focusout"===e&&t.push("blur")),this.simulateMouseEnterLeave&&("mouseenter"===e?t.push("mouseover"):"mouseleave"===e&&t.push("mouseout")),"tap"===e&&(t.push("touchmove"),t.push("touchend")),t},_listen:function(e){var n=this;t.each(e,function(e){1===(n.typeCounts[e]=(n.typeCounts[e]||0)+1)&&document.addEventListener(e,n.boundCapturer,!0)})},_unlisten:function(e){var n=this;t.each(e,function(e){--n.typeCounts[e]||document.removeEventListener(e,n.boundCapturer,!0)})},capturer:function(e){3===e.target.nodeType&&(e.target=e.target.parentNode);var n=e.type,r=e.bubbles,i=e.target;i.addEventListener(n,this.boundHandler,!1);var o;if(r){o=[];for(var a=i.parentNode;a;a=a.parentNode)a.addEventListener(n,this.boundHandler,!1),o.push(a)}setTimeout(function(){i.removeEventListener(n,this.boundHandler,!1),r&&t.each(o,function(e){e.removeEventListener(n,this.boundHandler,!1)})},0)},handler:function(e){var t=function(e,t,n,r,i){var o=document.createEvent("UIEvents");o.initUIEvent(e,n,r,window,i),o.synthetic=!0,t.dispatchEvent(o)};if(e.currentTarget===e.target&&(this.focusBlurMode===i?"focusin"===e.type?t("focus",e.target,!1):"focusout"===e.type&&t("blur",e.target,!1):this.focusBlurMode===o&&("focus"===e.type?t("focusin",e.target,!0):"blur"===e.type&&t("focusout",e.target,!0))),this.focusBlurMode===i){if(("focus"===e.type||"blur"===e.type)&&!e.synthetic)return}else if(this.focusBlurMode===o&&("focusin"===e.type||"focusout"===e.type)&&!e.synthetic)return;(!this.simulateMouseEnterLeave||"mouseenter"!==e.type&&"mouseleave"!==e.type||e.synthetic)&&(this.deliver(e),!this.simulateMouseEnterLeave||e.relatedTarget&&(e.currentTarget===e.relatedTarget||n.elementContains(e.currentTarget,e.relatedTarget))||("mouseover"===e.type?t("mouseenter",e.currentTarget,!1):"mouseout"===e.type&&t("mouseleave",e.currentTarget,!1)),"touchmove"===e.type&&(e.currentTarget._notTapping=!0),"touchend"===e.type&&(e.currentTarget._notTapping||t("tap",e.currentTarget,!0),delete e.currentTarget._notTapping))}})}.call(this),function(){e._impl=e._impl||{},e._impl.ie=function(e){var t=this;this.deliver=e,this.curriedHandler=function(){t.handler.call(this,t)},document.attachEvent("ondatasetcomplete",function(){var e=window.event,t=e&&e.srcElement;e.synthetic&&t&&"FORM"===t.nodeName&&e.returnValue!==!1&&t.submit()})},t.extend(e._impl.ie.prototype,{addType:function(){},removeType:function(){},installHandler:function(e,t){var n="on"+t;if(1===e.nodeType){this._install(e,n);for(var r=e.getElementsByTagName("*"),i=0,o=r.length;o>i;i++)this._install(r[i],n)}},_install:function(e,t){var n=[t];"onfocus"===t?n.push("onfocusin"):"onblur"===t?n.push("onfocusout"):"onchange"===t?("INPUT"!==e.nodeName||"checkbox"!==e.type&&"radio"!==e.type||(n=["onpropertychange"]),n.push("oncellchange")):"onsubmit"===t&&n.push("ondatasetcomplete");for(var r=0;r<n.length;r++)e[n[r]]=this.curriedHandler},handler:function(e){var t=function(e,t){var n=document.createEventObject();return n.synthetic=!0,t.fireEvent(e,n),n.returnValue},n=window.event,r=n.type,i=n.srcElement||document;if(n.target=i,1===this.nodeType){n.currentTarget=this;var o=this;if(o!==i||n.synthetic||("focusin"===r?t("onfocus",o):"focusout"===r?t("onblur",o):"change"===r?t("oncellchange",o):"propertychange"===r?"checked"===n.propertyName&&t("oncellchange",o):"submit"===r&&t("ondatasetcomplete",o)),("focus"===r||"blur"===n.type||"change"===n.type||"submit"===n.type)&&!n.synthetic)return"submit"===n.type&&(n.returnValue=!1),void 0;"cellchange"===r&&n.synthetic&&(r=n.type="change"),"datasetcomplete"===r&&n.synthetic&&(r=n.type="submit"),e.deliver(n)}}})}.call(this),"undefined"==typeof Package&&(Package={}),Package["universal-events"]={UniversalEventListener:e}}(),function(){var e,t,n,r,i,o,a,s=Package.meteor.Meteor,l=Package.underscore._,u=Package.random.Random,c=Package.domutils.DomUtils,d=Package.liverange.LiveRange,f=Package["universal-events"].UniversalEventListener,p=Package["ordered-dict"].OrderedDict,h=Package.deps.Deps,m=Package.ejson.EJSON;(function(){e={},t={};var a=function(){var e=null;return{get:function(){return e},withValue:function(t,n){var r=e;e=t;try{return n()}finally{e=r}}}}();n="_spark_"+u.id(),t.TAG=n,e._TAG=n;var s="data",g="isolate",v="events",_="watch",y="label",b="landmark",w="list",k="item",M=!1;t.setCheckIECompliance=function(e){M=e};var T={};e._addGlobalPreserve=function(e,t){T[e]=t};var S=function(e,t,r,i){var o=new d(n,t,r,i);return o.type=e,o},x=function(e,t){for(var r=d.findRange(n,t);r&&r.type!==e;)r=r.findParent();return r},E=function(e,t){do t=t.findParent();while(t&&t.type!==e);return t},L=function(e,t){for(var r=new d(n,e,t,!0),i=r;i;i=i.findParent())i.type===_&&i.notify();r.destroy()},D=!1,C=function(e){var t=D;D=!0;try{return e()}finally{D=t}};r=function(){this.annotations={},this._branchNotes={},this.currentBranch=this.newLabelStack(),this.landmarkRanges=[],this.pc=new A},l.extend(r.prototype,{annotate:function(e,t,n){if("function"!=typeof n){var r=n;n=function(e){e&&l.extend(e,r)}}var i=(t||"")+":"+u.id();return this.annotations[i]=function(e,r){if(!e||!t)return n(null),void 0;var i=S(t,e,r);n(i)},"<$"+i+">"+e+"</$"+i+">"},newLabelStack:function(){var e=[this._branchNotes];return{pushLabel:function(t){var n=e[e.length-1],r="_"+t;e.push(n[r]=n[r]||{})},popLabel:function(){e.pop()},getNotes:function(){var t=e[e.length-1];return t},mark:function(t){for(var n=e.length-1;n>=0&&!e[n][t];n--)e[n][t]=!0}}},materialize:function(e){var t=this,n=a.withValue(t,e);n=t.annotate(n);var r,i={},o=function(e){for(var t=e.firstChild;t;){var n=t.nextSibling;if(8===t.nodeType){var r=i[t.nodeValue];if(r===!1)throw new Error("Spark HTML fragments may only be used once. Second use in "+c.fragmentToHtml(e));r&&(i[t.nodeValue]=!1,c.wrapFragmentForContainer(r,t.parentNode),t.parentNode.replaceChild(r,t))}else 1===t.nodeType&&o(t);t=n}},s=[[]],u=[],d=/<(\/?)\$([^<>]+)>|<|[^<]+/g;d.lastIndex=0;for(var f;f=d.exec(n);){var p=!f[1],h=f[2],m=t.annotations[h];if(m===!1)throw new Error("Spark HTML fragments may be used only once. Second use of: "+c.fragmentToHtml(i[h]));if(m)if(p)u.push(h),s.push([]);else{var g=u.pop();if(g!==h)throw new Error("Range mismatch: "+g+" / "+h);var v=c.htmlToFragment(s.pop().join(""));if(o(v),v.firstChild||v.appendChild(document.createComment("empty")),m(v.firstChild,v.lastChild),t.annotations[h]=!1,!u.length){r=v;break}i[h]=v,s[s.length-1].push("<!--"+h+"-->")}else s[s.length-1].push(f[0])}return I(r,t.landmarkRanges),t.landmarkRanges=[],l.each(t.annotations,function(e){e&&e()}),t.annotations={},l.each(c.findAll(r,"[value], textarea, select"),function(e){e._sparkOriginalRenderedValue=[c.getElementValue(e)]}),l.each(c.findAll(r,"input[type=checkbox], input[type=radio]"),function(e){e._sparkOriginalRenderedChecked=[!!e.checked]}),r}});var P=function(e){return function(){var t=a.get(),n=l.toArray(arguments);return t?(n.push(t),e.apply(null,n)):n.pop()}},I=function(t,r){var i=new d(n,t),o=!1;i.finalize=function(){o=!0},h.afterFlush(function(){if(!o){if(!c.isInDocument(i.firstNode())){for(var t=i.firstNode();t.parentNode;)t=t.parentNode;if(!t._protect)return e.finalize(t),void 0}l.each(r,function(e){e.isPreservedConstant||e.rendered.call(e.landmark)});for(var n=i;n=E(b,n);)n.rendered.call(n.landmark);L(i.firstNode(),i.lastNode()),i.destroy()}})};e.render=function(e){var t=new r,n=t.materialize(e);return n};var A=function(){this.roots=[],this.regionPreservations=[]};l.extend(A.prototype,{addRoot:function(e,t,n,r){var i=this;i.roots.push({context:r,preserve:e,fromRange:t,toRange:n})},addConstantRegion:function(e,t){var n=this;n.regionPreservations.push({type:"region",fromStart:e.firstNode(),fromEnd:e.lastNode(),newRange:t})},computePreservations:function(e,t){var r=this,i=l.clone(r.regionPreservations),o=function(e,t,n,r,i){e=e||t.containerNode();var o=c.findAllClipped(e,r,t.firstNode(),t.lastNode());l.each(o,function(e){var t=n(e);t&&i(e,t)})};l.each(r.roots,function(e){e.fromNodesByLabel={},l.each(e.preserve,function(t,n){e.fromNodesByLabel[n]={},o(e.context,e.fromRange,t,n,function(t,r){e.fromNodesByLabel[n][r]=t})})});var a=new d(n,t.firstNode(),t.lastNode()),s=document.createDocumentFragment();s.appendChild(document.createComment(""));var u=a.replaceContents(s),f=new d(n,u);e.insertBefore(u),l.each(r.roots,function(e){l.each(e.preserve,function(t,n){o(e.context,e.toRange,t,n,function(t,r){var o=e.fromNodesByLabel[n][r];o&&(i.push({type:"node",from:o,to:t}),e.fromNodesByLabel[n][r]=null)})})});var p=f.extract();return f.destroy(),a.replaceContents(p),a.destroy(),i}}),e.renderToRange=function(t,i){var a=t.firstNode();if(a&&a.parentNode){var s=new r,u=function(e,t){var n=s.newLabelStack();e.visit(function(e,r){r.type===y?e?n.pushLabel(r.label):n.popLabel():r.type===b&&e&&t(r,n.getNotes())})};u(t,function(e,t){t.originalRange=e});var f=c.findAllClipped(t.containerNode(),"input[type=radio]",t.firstNode(),t.lastNode());l.each(f,function(e){e._currentChecked=[!!e.checked]});var p=s.materialize(i);c.wrapFragmentForContainer(p,t.containerNode());var h=new d(n,p),m=s.pc;u(h,function(e,t){t.originalRange&&(e.constant&&m.addConstantRegion(t.originalRange,e),m.addRoot(e.preserve,t.originalRange,e))});for(var g=t;(g=g.findParent())&&g.firstNode().parentNode;)g.type===b,g&&m.addRoot(g.preserve,t,h,g.containerNode());m.addRoot(T,t,h);var v=m.computePreservations(t,h);h.destroy();var _={};C(function(){t.operate(function(t,n){e.finalize(t,n),o(t.parentNode,p,t.previousSibling,n.nextSibling,v,_)})}),l.each(_.regionPreservations,function(e){e.isPreservedConstant=!0})}},e.finalize=function(e,t){if(!e.parentNode&&11!==e.nodeType){var r=document.createDocumentFragment();r.appendChild(e),e=r,t=null}var i=new d(n,e,t);i.visit(function(e,t){e&&t.finalize&&t.finalize()}),i.destroy(!0)},e.setDataContext=P(function(e,t,n){return n.annotate(t,s,{data:e})}),e.getDataContext=function(e){var t=x(s,e);return t&&t.data};var N=null,O=function(){return N||(N=new f(function(e){if(!D){for(var t=[],n=x(v,e.currentTarget);n;)t.push(n),n=E(v,n);l.each(t,function(t){t.handler(e)})}},M)),N};e.attachEvents=P(function(t,n,r){var i=O(),o={};l.each(t,function(e,t){"function"==typeof e&&(e=[e]);var n=t.split(/,\s+/);l.each(n,function(t){var n=t.split(/\s+/);if(0!==n.length){var r=n.shift(),i=n.join(" ");o[r]=o[r]||[],l.each(e,function(e){o[r].push({selector:i,callback:e})})}})});var a=l.keys(o),s=function(e){l.each(a,function(t){for(var n=e.firstNode(),r=e.lastNode().nextSibling;n&&n!==r;n=n.nextSibling)i.installHandler(n,t)})};n=r.annotate(n,_,{notify:function(){s(this)}});var u=!1;return n=r.annotate(n,v,function(t){t&&(l.each(a,function(e){i.addType(e)}),s(t),t.finalize=function(){u=!0},t.handler=function(n){for(var r=o[n.type]||[],i=0;i<r.length;i++){if(u||n.isImmediatePropagationStopped())return;var a=r[i],s=a.callback,l=a.selector;if(l){if(!c.matchesSelectorClipped(n.currentTarget,t.containerNode(),l,t.firstNode(),t.lastNode()))continue}else if(n.currentTarget!==n.target)continue;var d=e.getDataContext(n.currentTarget)||{},f=E(b,t),p=f&&f.landmark,h=s.call(d,n,p);h===!1&&(n.stopImmediatePropagation(),n.preventDefault())}})})}),e.isolate=function(t){var n=a.get();if(!n)return t();var r,i,o=!0;return h.autorun(function(a){o?(i=n.annotate(t(),g,function(e){e?(r=e,r.finalize=function(){a.stop()}):a.stop()}),o=!1):e.renderToRange(r,t)}),i};var Y=function(e,t){l.each(t,function(t,n){void 0===t?delete e[n]:e[n]=t})};i=Package.minimongo?Package.minimongo.LocalCollection._idStringify:function(e){return e},e.list=function(t,n,r){r=r||function(){return""};var o={},s={};l.each(["addedBefore","removed","movedBefore","changed"],function(e){s[e]=function(){return o[e].apply(null,arguments)}});var u=new p(i);l.extend(o,{addedBefore:function(e,t,n){var r=m.clone(t);r._id=e;var i={doc:r,liveRange:null};u.putBefore(e,i,n)}});var d,f=t.observeChanges(s),g=a.get(),v=g?l.bind(g.annotate,g):function(e){return e},_=function(e){return t.getTransform&&t.getTransform()?t.getTransform()(m.clone(e)):e},y="";u.empty()?y=r():u.forEach(function(e){y+=v(n(_(e.doc)),k,function(t){e.liveRange=t})});var M=!1,T=function(){f.stop(),M=!0};y=v(y,w,function(e){e?(d=e,d.finalize=T):T()}),g||T();var x=function(){for(var e=d;e=E(b,e);)e.rendered.call(e.landmark)},L=function(e){h.afterFlush(function(){M||C(e)})};return l.extend(o,{addedBefore:function(t,r,i){L(function(){var o=m.clone(r);o._id=t;var a=e.render(l.bind(n,null,_(o)));c.wrapFragmentForContainer(a,d.containerNode());var s=S(k,a);u.empty()?e.finalize(d.replaceContents(a)):null===i?u.lastValue().liveRange.insertAfter(a):u.get(i).liveRange.insertBefore(a),u.putBefore(t,{doc:o,liveRange:s},i)})},removed:function(t){L(function(){if(u.first()===u.last()){var n=e.render(r);c.wrapFragmentForContainer(n,d.containerNode()),e.finalize(d.replaceContents(n))}else e.finalize(u.get(t).liveRange.extract());u.remove(t),x()})},movedBefore:function(e,t){L(function(){var n=u.get(e).liveRange.extract();null===t?u.lastValue().liveRange.insertAfter(n):u.get(t).liveRange.insertBefore(n),u.moveBefore(e,t),x()})},changed:function(t,r){L(function(){var i=u.get(t);if(!i)throw new Error("Unknown id for changed: "+t);Y(i.doc,r),e.renderToRange(i.liveRange,l.bind(n,null,_(i.doc)))})}}),y};var j=1;e.Landmark=function(){this.id=j++,this._range=null},l.extend(e.Landmark.prototype,{firstNode:function(){return this._range.firstNode()},lastNode:function(){return this._range.lastNode()},find:function(e){var t=this._range;return c.findClipped(t.containerNode(),e,t.firstNode(),t.lastNode())},findAll:function(e){var t=this._range;return c.findAllClipped(t.containerNode(),e,t.firstNode(),t.lastNode())},hasDom:function(){return!!this._range}}),e.UNIQUE_LABEL=["UNIQUE_LABEL"],e.labelBranch=function(t,n){var r=a.get();if(!r||null===t)return n();t===e.UNIQUE_LABEL&&(t=u.id()),r.currentBranch.pushLabel(t);var i=n(),o=r.currentBranch.getNotes().occupied;return r.currentBranch.popLabel(),o?r.annotate(i,y,{label:t}):i},e.createLandmark=function(t,n){var r=a.get();if(!r){var i=new e.Landmark;t.created&&t.created.call(i);var o=n(i);return t.destroyed&&t.destroyed.call(i),o}var s={};l.isArray(t.preserve)?l.each(t.preserve,function(e){s[e]=!0}):s=t.preserve||{};for(var u in s)"function"!=typeof s[u]&&(s[u]=function(){return!0});r.currentBranch.mark("occupied");var i,c=r.currentBranch.getNotes();if(c.originalRange){if(c.originalRange.superceded)throw new Error("Can't create second landmark in same branch");c.originalRange.superceded=!0,i=c.originalRange.landmark}else i=new e.Landmark,t.created&&h.nonreactive(function(){t.created.call(i)});c.landmark=i;var o=n(i);return r.annotate(o,b,function(e){return e?(l.extend(e,{preserve:s,constant:!!t.constant,rendered:t.rendered||function(){},destroyed:t.destroyed||function(){},landmark:i,finalize:function(){this.superceded||(this.landmark._range=null,this.destroyed.call(this.landmark))}}),i._range=e,r.landmarkRanges.push(e),r=null,void 0):(t.destroyed&&t.destroyed.call(i),void 0)})},t.getEnclosingLandmark=function(e){var t=x(b,e);return t?t.landmark:null}}).call(this),function(){o=function(e,t,r,i,s,u){var f=function(e,t){d.transplantTag(n,e,t)},p=new a(e,t,r,i),h=function(e,t,n,r){for(var i=t?t.nextSibling:e.firstChild;i&&i!==n;i=i.nextSibling)r(i)!==!1&&i.firstChild&&h(i,null,null,r)};u=u||{};var m=u.regionPreservations=u.regionPreservations||[],g=null;
return h(t,null,null,function(e){var t=l.find(s,function(t){return"region"===t.type&&t.newRange.firstNode()===e})||l.find(s,function(t){return"node"===t.type&&t.to===e});if(t){var n="region"===t.type?t.fromStart:t.from;if(!g||c.compareElementIndex(g,n)<0)if("region"===t.type)p.match(t.fromStart,t.newRange.firstNode(),f,!0)&&(p.skipToSiblings(t.fromEnd,t.newRange.lastNode()),d.transplantRange(t.fromStart,t.fromEnd,t.newRange),m.push(t.newRange));else if("node"===t.type&&p.match(n,e,f))return g=n,(n.firstChild||e.firstChild)&&"TEXTAREA"!==n.nodeName&&"SELECT"!==n.nodeName&&o(n,e,null,null,s),!1}return!0}),p.finish(),u},a=function(e,t,n,r){this.tgtParent=e,this.srcParent=t,this.tgtBefore=n,this.tgtAfter=r,this.lastKeptTgtNode=null,this.lastKeptSrcNode=null},a.prototype.match=function(e,t,n,r){var i=this.lastKeptTgtNode,o=this.lastKeptSrcNode,s=e,l=t;if(!s!=!l)return!1;var u=!i,d=!s;if(!u){for(;!(i.parentNode===this.tgtParent||s&&c.elementContains(i.parentNode,s));)this._replaceNodes(i,null,o,null),i=i.parentNode,o=o.parentNode;if(this.lastKeptTgtNode=i,this.lastKeptSrcNode=o,!d&&(c.elementContains(o,l)||o.parentNode!==this.srcParent&&!c.elementContains(o.parentNode,l)))return!1}if(d)this._replaceNodes(i,null,o,null,this.tgtParent,this.srcParent);else{if(!r&&s.nodeName!==l.nodeName)return!1;for(var f=s.parentNode,p=l.parentNode;f!==(u?this.tgtParent:i.parentNode);f=f.parentNode,p=p.parentNode){if(p===(u?this.srcParent:o.parentNode))return!1;if(f.nodeName!==p.nodeName)return!1}if(p!==(u?this.srcParent:o.parentNode))return!1;for(var h=!0;;){if(h&&r||(1===s.nodeType&&a._copyAttributes(s,l),n&&n(s,l)),h=!1,(u?this.tgtParent:i.parentNode)===s.parentNode){this._replaceNodes(i,s,o,l);break}this._replaceNodes(null,s,null,l),s=s.parentNode,l=l.parentNode}}return this.lastKeptTgtNode=e,this.lastKeptSrcNode=t,!0},a.prototype.skipToSiblings=function(e,t){var n=this.lastKeptTgtNode,r=this.lastKeptSrcNode;return n&&n.parentNode===e.parentNode?r&&r.parentNode===t.parentNode?(this.lastKeptTgtNode=e,this.lastKeptSrcNode=t,!0):!1:!1},a.prototype.finish=function(){return this.match(null,null)},a.prototype._replaceNodes=function(e,t,n,r,i,o){var a=i||(e||t).parentNode,s=o||(n||r).parentNode;a===this.tgtParent&&(e=e||this.tgtBefore,t=t||this.tgtAfter),s===this.srcParent&&(n=n||this.srcBefore,r=r||this.srcAfter);for(var l;(l=e?e.nextSibling:a.firstChild)&&l!==t;)a.removeChild(l);for(var u;(u=n?n.nextSibling:s.firstChild)&&u!==r;)a.insertBefore(u,t||null)},a._copyAttributes=function(e,t){var n=t.attributes,r=e.attributes,i=e===document.activeElement;e.style.cssText&&(e.style.cssText="");var o=!1,a=null;if("INPUT"===e.nodeName&&(o="radio"===e.type,o||"checkbox"===e.type)){var s=!!e._sparkOriginalRenderedChecked&&e._sparkOriginalRenderedChecked[0],l=!!t._sparkOriginalRenderedChecked&&t._sparkOriginalRenderedChecked[0],u=e._currentChecked?e._currentChecked[0]:e.checked;s===l?a=u:(a=l,e._sparkOriginalRenderedChecked=[a])}for(var d=r.length-1;d>=0;d--){var f=r[d];if(f.specified){var p=f.name;if(r[p]&&"id"!==p&&"type"!==p&&(!o||"name"!==p)&&"value"!==p&&"src"!==p){var h=e[p];(!h||"object"!=typeof h&&!/^jQuery/.test(p))&&e.removeAttributeNode(f)}}}if(e.mergeAttributes){var m=t._sparkOriginalRenderedValue;t.removeAttribute("_sparkOriginalRenderedValue"),e.mergeAttributes(t),m&&(t._sparkOriginalRenderedValue=m),t.name&&(e.name=t.name)}else for(var d=0,g=n.length;g>d;d++){var v=n.item(d);if(v.specified){var p=v.name.toLowerCase(),_=String(v.value);if("type"===p);else if("checked"===p);else if("style"===p)e.style.cssText=t.style.cssText;else if("class"===p)e.className=t.className;else if("value"===p);else if("src"===p)t.src!==e.src&&(e.src=t.src);else try{e.setAttribute(p,_)}catch(y){throw new Error("Error copying attribute '"+p+"': "+y)}}}var b=function(e){return e._sparkOriginalRenderedValue?e._sparkOriginalRenderedValue[0]:null},w=b(t),k=b(e),M=c.getElementValue(e);if("SELECT"===e.nodeName){for(;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.insertBefore(t.firstChild,null);c.setElementValue(e,M)}w===k||M!==w&&i||(M!==w&&c.setElementValue(e,w),e._sparkOriginalRenderedValue=[w]),null!==a&&(e.checked!==a&&(e.checked=a),e.defaultChecked=a,a?e.setAttribute("checked","checked"):e.removeAttribute("checked"))},t.Patcher=a}.call(this),function(){s.render=function(t){return e.render(function(){return e.isolate("function"==typeof t?t:function(){return String(t)})})},s.renderList=function(t,n,r){return e.render(function(){return e.list(t,function(t){var r=t._id?i(t._id):null;return e.labelBranch(r,function(){return e.isolate(l.bind(n,null,t))})},function(){return r?e.isolate(r):""})})}}.call(this),function(){e._labelFromIdOrName=function(e){var t=null;if(1===e.nodeType)if(e.getAttribute("id"))t="#"+e.getAttribute("id");else if(e.getAttribute("name"))for(t=e.getAttribute("name"),"INPUT"!==e.nodeName||"radio"!==e.type&&"checkbox"!==e.type||!e.value||(t=t+":"+e.value);e.parentNode&&1===e.parentNode.nodeType;){if(e=e.parentNode,e.id){t="#"+e.id+"/"+t;break}e.getAttribute("name")&&(t=e.getAttribute("name")+"/"+t)}return t}}.call(this),"undefined"==typeof Package&&(Package={}),Package.spark={Spark:e,SparkTest:t}}(),function(){Package.meteor.Meteor;var e,t=Package.underscore._,n=Package.spark.Spark;(function(){e={},e.json_ast_to_func=function(t){return function(n,r){return e.evaluate(t,n,r)}};var r=Package.minimongo?Package.minimongo.LocalCollection._idStringify:function(e){return e};e._default_helpers={"with":function(e,t){return!e||e instanceof Array&&!e.length?t.inverse(this):t.fn(e)},each:function(e,i){var o=this;return e&&e.length>0?t.map(e,function(e){var t=e&&e._id&&r(e._id)||("string"==typeof e?e:null)||n.UNIQUE_LABEL;return n.labelBranch(t,function(){return i.fn(e)})}).join(""):n.labelBranch("else",function(){return i.inverse(o)})},"if":function(e,t){return!e||e instanceof Array&&!e.length?t.inverse(this):t.fn(this)},unless:function(e,t){return!e||e instanceof Array&&!e.length?t.fn(this):t.inverse(this)}},e.registerHelper=function(t,n){if(t in e._default_helpers)throw new Error("There is already a helper '"+t+"'");e._default_helpers[t]=n},e._escape=function(){var e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","&":"&amp;"},t=function(t){return e[t]};return function(e){return e.replace(/[&<>"'`]/g,t)}}(),e._defaultThis=function(){return this}(),e.evaluate=function(r,i,o){o=o||{};var a=t.extend({},e._default_helpers);t.extend(a,o.helpers||{});var s=o.partials||{},l=function(e,n){if("object"!=typeof n)return n;for(var r=0;r<n[0];r++){if(!e.parent)throw new Error("Too many '..' segments");e=e.parent}if(1===n.length)return e.data;var i=!1;""===n[1]&&(n=n.slice(),n.splice(1,1),i=!0);var o,s=e.data;if(0===n[0]&&a.hasOwnProperty(n[1])&&!i)o=a[n[1]];else{if(!o instanceof Object&&"undefined"!=typeof function(){}[n[1]]&&!i)throw new Error("Can't call a helper '"+n[1]+"' because it is a built-in function property in JavaScript");o=e.data&&e.data[n[1]]}for(var r=2;r<n.length;r++){if("function"==typeof o&&(o=o.call(s),s=o),void 0===o||null===o){o="";break}o=o[n[r]]}return"function"==typeof o?t.bind(o,s):o},u=function(e,n,r,i){r=r||{},n=n.slice(0);var o=n[n.length-1],a={};"object"!=typeof o||o instanceof Array||t.each(n.pop(),function(t,n){var r=l(e,t);a[n]="function"==typeof r?r():r});for(var s=function(t,n){for(var r=t.slice(1),i=0;i<r.length;i++)"function"==typeof r[i]&&(r[i]=r[i]());return n&&r.push(n),t[0].apply(e.data,r)},u=new Array(n.length),c=0;c<n.length;c++)u[c]=l(e,n[c]);if("function"!=typeof u[0])return u[0];if(i&&u.length>1){var d=u[1];"function"==typeof d&&(d=s(u.slice(1),{hash:a})),u=[u[0],d],r.hash={}}else r.hash=a;return s(u,r)},c=function(r,i,o){var a,l=[],d=function(e){return"string"==typeof e?e:null===e?"null":void 0===e?"":e.toString()},f=function(t,r){return function(i){return(i||e._defaultThis)===(r||e._defaultThis)?t(i):n.setDataContext(i,t(i))}},p=function(t){return t instanceof e.SafeString?t.toString():e._escape(d(t))},h=function(){return(o?o+".":"")+a},m=function(e,t){return n.labelBranch(e+"@"+h(),t)};return t.each(i,function(e,t){if(a=t,"string"==typeof e)l.push(e);else if("{"===e[0])l.push(m(e[1],function(){return p(u(r,e[1]))}));else if("!"===e[0])l.push(m(e[1],function(){return d(u(r,e[1]||""))}));else if("#"===e[0]){var n=h(),i=f(function(t){return c({parent:r,data:t},e[2],n)},r.data);i.fn=i,i.inverse=f(function(t){return c({parent:r,data:t},e[3]||[],n)},r.data);var o=m(e[1],function(){return d(u(r,e[1],i,!0))});l.push(o)}else{if(">"!==e[0])throw new Error("bad element in template");var g=e[1];if(!(g in s))throw new Error("No such template '"+g+"'");var o=m(g,function(){return d(s[g](r.data))});l.push(o)}}),l.join("")},d=(o.name||"")+"#";return c({data:i,parent:null},r,d)},e.SafeString=function(e){this.string=e},e.SafeString.prototype.toString=function(){return this.string.toString()}}).call(this),"undefined"==typeof Package&&(Package={}),Package.handlebars={Handlebars:e}}(),function(){var e=Package.meteor.Meteor,t=Package.underscore._,n=Package.deps.Deps,r=Package.random.Random,i=Package["service-configuration"].ServiceConfiguration;Package.livedata.DDP;var o,a,s,l,u,c,d,f,p,h,m;(function(){o={},o._options={};var n=90,r=3600;a=6e5,s=1e4,o.config=function(n){e.isServer?__meteor_runtime_config__.accountsConfigCalled=!0:__meteor_runtime_config__.accountsConfigCalled||e._debug("Accounts.config was called on the client but not on the server; some configuration options may not take effect.");var r=["sendVerificationEmail","forbidClientAccountCreation","restrictCreationByEmailDomain","loginExpirationInDays"];t.each(t.keys(n),function(e){if(!t.contains(r,e))throw new Error("Accounts.config: Invalid key: "+e)}),t.each(r,function(e){if(e in n){if(e in o._options)throw new Error("Can't set `"+e+"` more than once");o._options[e]=n[e]}}),e.isServer&&maybeStopExpireTokensInterval()},e.users=new e.Collection("users",{_preventAutopublish:!0}),o.loginServiceConfiguration=i.configurations,o.ConfigError=i.ConfigError,o.LoginCancelledError=function(e){this.message=e},o.LoginCancelledError.numericError=145546287,o.LoginCancelledError.prototype=new Error,o.LoginCancelledError.prototype.name="Accounts.LoginCancelledError",l=function(){return 1e3*60*60*24*(o._options.loginExpirationInDays||n)},o._tokenExpiration=function(e){return new Date(new Date(e).getTime()+l())},o._tokenExpiresSoon=function(e){var t=.1*l(),n=1e3*r;return t>n&&(t=n),new Date>new Date(e)-t}}).call(this),function(){u=!0;var e;e=window.location.hash.match(/^\#\/reset-password\/(.*)$/),e&&(u=!1,o._resetPasswordToken=e[1],window.location.hash=""),e=window.location.hash.match(/^\#\/verify-email\/(.*)$/),e&&(u=!1,o._verifyEmailToken=e[1],window.location.hash=""),e=window.location.hash.match(/^\#\/enroll-account\/(.*)$/),e&&(u=!1,o._enrollAccountToken=e[1],window.location.hash="")}.call(this),function(){e.userId=function(){return e.connection.userId()};var r=!1,i=new n.Dependency;o._setLoggingIn=function(e){r!==e&&(r=e,i.changed())},e.loggingIn=function(){return i.depend(),r},e.user=function(){var t=e.userId();return t?e.users.findOne(t):null},o.callLoginMethod=function(n){n=t.extend({methodName:"login",methodArguments:[],_suppressLoggingIn:!1},n),t.each(["validateResult","userCallback"],function(e){n[e]||(n[e]=function(){})});var r=t.once(n.userCallback),i=!1,a=function(t,n){e.connection.onReconnect=!t&&n&&n.token?function(){i=!0;var e=h();e&&(n={token:e,tokenExpires:m()}),n.tokenExpires||(n.tokenExpires=o._tokenExpiration(new Date)),o._tokenExpiresSoon(n.tokenExpires)?c():o.callLoginMethod({methodArguments:[{resume:n.token}],_suppressLoggingIn:!0,userCallback:function(e){e&&c(),r(e)}})}:null},s=function(e,t){if(!i){if(o._setLoggingIn(!1),e||!t)return e=e||new Error("No result from call to "+n.methodName),r(e),void 0;try{n.validateResult(t)}catch(a){return r(a),void 0}d(t.id,t.token,t.tokenExpires),r()}};n._suppressLoggingIn||o._setLoggingIn(!0),e.apply(n.methodName,n.methodArguments,{wait:!0,onResultReceived:a},s)},c=function(){p(),e.connection.setUserId(null),e.connection.onReconnect=null},d=function(t,n,r){f(t,n,r),e.connection.setUserId(t)},e.logout=function(t){e.apply("logout",[],{wait:!0},function(e){e?t&&t(e):(c(),t&&t())})},e.logoutOtherClients=function(t){var n=e.connection.onReconnect,r=e.userId();e.connection.onReconnect=null,e.apply("logoutOtherClients",[],{wait:!0},function(i,o){e.connection.onReconnect=n,i||f(r,o.token,o.tokenExpires),e.connection.onReconnect(),t&&t(i)})};var a=e.subscribe("meteor.loginServiceConfiguration");o.loginServicesConfigured=function(){return a.ready()},Package.handlebars&&(Package.handlebars.Handlebars.registerHelper("currentUser",function(){return e.user()}),Package.handlebars.Handlebars.registerHelper("loggingIn",function(){return e.loggingIn()}))}.call(this),function(){var t;e.loginWithToken=function(e,t){o.callLoginMethod({methodArguments:[{resume:e}],userCallback:t})},o._enableAutoLogin=function(){u=!0,v()};var n="Meteor.loginToken",i="Meteor.loginTokenExpires",a="Meteor.userId";o._isolateLoginTokenForTest=function(){n+=r.id(),a+=r.id()},f=function(r,s,l){e._localStorage.setItem(a,r),e._localStorage.setItem(n,s),l||(l=o._tokenExpiration(new Date)),e._localStorage.setItem(i,l),t=s},p=function(){e._localStorage.removeItem(a),e._localStorage.removeItem(n),e._localStorage.removeItem(i),t=null},h=o._storedLoginToken=function(){return e._localStorage.getItem(n)},m=function(){return e._localStorage.getItem(i)};var s=function(){return e._localStorage.getItem(a)},l=function(){var t=e._localStorage.getItem(i);t&&o._tokenExpiresSoon(new Date(t))&&p()};if(u){l();var d=h();if(d){var g=s();g&&e.connection.setUserId(g),e.loginWithToken(d,function(t){t&&(e._debug("Error logging in with token: "+t),c())})}}t=d;var v=function(){if(u){var n=h();t!=n&&(n?e.loginWithToken(n):e.logout()),t=n}};setInterval(v,3e3)}.call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-base"]={Accounts:o}}(),function(){Package.meteor.Meteor;var e,t=Package.underscore._,n=Package.spark.Spark,r=Package.handlebars.Handlebars;(function(){e={};var i={},o=Package.minimongo?Package.minimongo.LocalCollection._idStringify:function(e){return e},a=function(){a=function(){};var e=r._default_helpers.each;r._default_helpers.each=function(r,i){var a=function(){return!r||r instanceof Array||r instanceof Object&&"observeChanges"in r};if(!a())throw new Error("{{#each}} only accepts arrays, cursors, or falsey values. You passed: "+r);return r&&"observeChanges"in r?n.list(r,function(e){return n.labelBranch(e&&e._id&&o(e._id)||n.UNIQUE_LABEL,function(){var r=n.isolate(t.bind(i.fn,null,e));return n.setDataContext(e,r)})},function(){return i.inverse?n.isolate(i.inverse):""}):e.call(this,r,i)},t.extend(r._default_helpers,{isolate:function(e){var t=this;return n.isolate(function(){return e.fn(t)})},constant:function(e){var t=this;return n.createLandmark({constant:!0},function(){return e.fn(t)})}})},s={},l=function(e){var t=s[e.id]||(s[e.id]={find:function(t){if(!e.hasDom())throw new Error("Template not in DOM");return e.find(t)},findAll:function(t){if(!e.hasDom())throw new Error("Template not in DOM");return e.findAll(t)}});return t.firstNode=e.hasDom()?e.firstNode():null,t.lastNode=e.hasDom()?e.lastNode():null,t},u={_tmpl_data:null,events:function(e){var n=this._tmpl_data.events=this._tmpl_data.events||{};t.each(e,function(e,t){n[t]=n[t]||[],n[t].push(e)})},preserve:function(e){var n=this._tmpl_data.preserve=this._tmpl_data.preserve||{};t.isArray(e)?t.each(e,function(e){n[e]=!0}):t.extend(n,e)},helpers:function(e){var t=this._tmpl_data.helpers=this._tmpl_data.helpers||{};for(var n in e)t[n]=e[n]}};e.__define__=function(o,c){if(a(),"__define__"===o)throw new Error("Sorry, '__define__' is a special name and cannot be used as the name of a template");var d=function(r){var a=o&&e[o]||{},f=a._tmpl_data||{},p=n.labelBranch("Template."+o,function(){var e=n.createLandmark({preserve:f.preserve||{},created:function(){var e=l(this);e.data=r,a.created&&a.created.call(e)},rendered:function(){var e=l(this);e.data=r,a.rendered&&a.rendered.call(e)},destroyed:function(){a.destroyed&&a.destroyed.call(l(this)),delete s[this.id]}},function(){var e=n.isolate(function(){return c(r,{helpers:t.extend({},d,f.helpers||{}),partials:i,name:o})}),s=function(e){var n={};return t.each(e,function(e,r){"function"==typeof e&&(e=[e]),n[r]=t.map(e,function(e){return function(t,n){return e.call(this,t,l(n))}})}),n},p=a.events!==u.events?a.events:f.events;return a.events&&(e=n.attachEvents(s(p),e)),e});return e=n.setDataContext(r,e)});return p};if(t.extend(d,r.helpers),o){if(e[o])throw new Error("There are multiple templates named '"+o+"'. Each template needs a unique name.");e[o]=d,t.extend(d,u),d._tmpl_data={},i[o]=d}return d}}).call(this),"undefined"==typeof Package&&(Package={}),Package.templating={Template:e}}(),function(){var e,t=Package.meteor.Meteor,n=Package.underscore._,r=Package.deps.Deps,i=Package.ejson.EJSON;(function(){var o=function(e){return void 0===e?"undefined":i.stringify(e)},a=function(e){return void 0===e||"undefined"===e?void 0:i.parse(e)};e=function(e){this.keys=e||{},this.keyDeps={},this.keyValueDeps={}},n.extend(e.prototype,{set:function(e,t){var r=this;t=o(t);var i="undefined";if(n.has(r.keys,e)&&(i=r.keys[e]),t!==i){r.keys[e]=t;var a=function(e){e&&e.changed()};a(r.keyDeps[e]),r.keyValueDeps[e]&&(a(r.keyValueDeps[e][i]),a(r.keyValueDeps[e][t]))}},setDefault:function(e,t){var n=this;void 0===n.keys[e]&&n.set(e,t)},get:function(e){var t=this;return t._ensureKey(e),t.keyDeps[e].depend(),a(t.keys[e])},equals:function(e,s){var l=this,u=Package["mongo-livedata"]&&t.Collection.ObjectID;if(!("string"==typeof s||"number"==typeof s||"boolean"==typeof s||"undefined"==typeof s||s instanceof Date||u&&s instanceof u||null===s))throw new Error("ReactiveDict.equals: value must be scalar");var c=o(s);if(r.active){l._ensureKey(e),n.has(l.keyValueDeps[e],c)||(l.keyValueDeps[e][c]=new r.Dependency);var d=l.keyValueDeps[e][c].depend();d&&r.onInvalidate(function(){l.keyValueDeps[e][c].hasDependents()||delete l.keyValueDeps[e][c]})}var f=void 0;return n.has(l.keys,e)&&(f=a(l.keys[e])),i.equals(f,s)},_ensureKey:function(e){var t=this;e in t.keyDeps||(t.keyDeps[e]=new r.Dependency,t.keyValueDeps[e]={})},getMigrationData:function(){return this.keys}})}).call(this),"undefined"==typeof Package&&(Package={}),Package["reactive-dict"]={ReactiveDict:e}}(),function(){Package.meteor.Meteor,Package.underscore._;var e=Package["reactive-dict"].ReactiveDict;Package.ejson.EJSON;var t;(function(){var n={};if(Package.reload){var r=Package.reload.Reload._migrationData("session");r&&r.keys&&(n=r.keys)}t=new e(n),Package.reload&&Package.reload.Reload._onMigrate("session",function(){return[!0,{keys:t.keys}]})}).call(this),"undefined"==typeof Package&&(Package={}),Package.session={Session:t}}(),function(){var e=Package.meteor.Meteor,t=Package.underscore._;Package.random.Random,Package.check.check,Package.check.Match;var n=Package["accounts-base"].Accounts;(function(){n.oauth={};var r={};n.oauth.registerService=function(n){if(t.has(r,n))throw new Error("Duplicate service: "+n);r[n]=!0,e.server&&e.users._ensureIndex("services."+n+".id",{unique:1,sparse:1})},n.oauth.serviceNames=function(){return t.keys(r)}}).call(this),function(){n.oauth.tryLoginAfterPopupClosed=function(t,r){n.callLoginMethod({methodArguments:[{oauth:{credentialToken:t}}],userCallback:r&&function(t){t&&t instanceof e.Error&&t.error===n.LoginCancelledError.numericError?r(new n.LoginCancelledError(t.details)):r(t)}})},n.oauth.credentialRequestCompleteHandler=function(e){return function(t){t&&t instanceof Error?e&&e(t):n.oauth.tryLoginAfterPopupClosed(t,e)}}}.call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-oauth"]={}}(),function(){Package.meteor.Meteor;var e=Package.random.Random;Package.check.check,Package.check.Match;var t,n,r,i=Package.underscore._;(function(){n=function(){function e(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function t(){return new e(null)}function n(e,t,n,r,i,o){for(var a=16383&t,s=t>>14;--o>=0;){var l=16383&this[e],u=this[e++]>>14,c=s*l+u*a;l=a*l+((16383&c)<<14)+n[r]+i,i=(l>>28)+(c>>14)+s*u,n[r++]=268435455&l}return i}function r(e){return Zt.charAt(e)}function i(e,t){var n=en[e.charCodeAt(t)];return null==n?-1:n}function o(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function a(e){this.t=1,this.s=0>e?-1:0,e>0?this[0]=e:-1>e?this[0]=e+DV:this.t=0}function s(e){var n=t();return n.fromInt(e),n}function l(t,n){var r;if(16==n)r=4;else if(8==n)r=3;else if(256==n)r=8;else if(2==n)r=1;else if(32==n)r=5;else{if(4!=n)return this.fromRadix(t,n),void 0;r=2}this.t=0,this.s=0;for(var o=t.length,a=!1,s=0;--o>=0;){var l=8==r?255&t[o]:i(t,o);0>l?"-"==t.charAt(o)&&(a=!0):(a=!1,0==s?this[this.t++]=l:s+r>this.DB?(this[this.t-1]|=(l&(1<<this.DB-s)-1)<<s,this[this.t++]=l>>this.DB-s):this[this.t-1]|=l<<s,s+=r,s>=this.DB&&(s-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),a&&e.ZERO.subTo(this,this)}function u(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function c(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,i=(1<<t)-1,o=!1,a="",s=this.t,l=this.DB-s*this.DB%t;if(s-->0)for(l<this.DB&&(n=this[s]>>l)>0&&(o=!0,a=r(n));s>=0;)t>l?(n=(this[s]&(1<<l)-1)<<t-l,n|=this[--s]>>(l+=this.DB-t)):(n=this[s]>>(l-=t)&i,0>=l&&(l+=this.DB,--s)),n>0&&(o=!0),o&&(a+=r(n));return o?a:"0"}function d(){var n=t();return e.ZERO.subTo(this,n),n}function f(){return this.s<0?this.negate():this}function p(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(t=n-e.t,0!=t)return t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0}function h(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function m(){return this.t<=0?0:this.DB*(this.t-1)+h(this[this.t-1]^this.s&this.DM)}function g(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s}function v(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s}function _(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>i|s,s=(this[n]&o)<<r;for(n=a-1;n>=0;--n)t[n]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()}function y(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)return t.t=0,void 0;var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&o)<<i,t[a-n]=this[a]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}function b(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);i>n;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=0>r?-1:0,-1>r?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()}function w(t,n){var r=this.abs(),i=t.abs(),o=r.t;for(n.t=o+i.t;--o>=0;)n[o]=0;for(o=0;o<i.t;++o)n[o+r.t]=r.am(0,i[o],n,o,0,r.t);n.s=0,n.clamp(),this.s!=t.s&&e.ZERO.subTo(n,n)}function k(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()}function M(n,r,i){var o=n.abs();if(!(o.t<=0)){var a=this.abs();if(a.t<o.t)return null!=r&&r.fromInt(0),null!=i&&this.copyTo(i),void 0;null==i&&(i=t());var s=t(),l=this.s,u=n.s,c=this.DB-h(o[o.t-1]);c>0?(o.lShiftTo(c,s),a.lShiftTo(c,i)):(o.copyTo(s),a.copyTo(i));var d=s.t,f=s[d-1];if(0!=f){var p=f*(1<<this.F1)+(d>1?s[d-2]>>this.F2:0),m=this.FV/p,g=(1<<this.F1)/p,v=1<<this.F2,_=i.t,y=_-d,b=null==r?t():r;for(s.dlShiftTo(y,b),i.compareTo(b)>=0&&(i[i.t++]=1,i.subTo(b,i)),e.ONE.dlShiftTo(d,b),b.subTo(s,s);s.t<d;)s[s.t++]=0;for(;--y>=0;){var w=i[--_]==f?this.DM:Math.floor(i[_]*m+(i[_-1]+v)*g);if((i[_]+=s.am(0,w,i,y,0,d))<w)for(s.dlShiftTo(y,b),i.subTo(b,i);i[_]<--w;)i.subTo(b,i)}null!=r&&(i.drShiftTo(d,r),l!=u&&e.ZERO.subTo(r,r)),i.t=d,i.clamp(),c>0&&i.rShiftTo(c,i),0>l&&e.ZERO.subTo(i,i)}}}function T(n){var r=t();return this.abs().divRemTo(n,null,r),this.s<0&&r.compareTo(e.ZERO)>0&&n.subTo(r,r),r}function S(e){this.m=e}function x(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function E(e){return e}function L(e){e.divRemTo(this.m,null,e)}function D(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function C(e,t){e.squareTo(t),this.reduce(t)}function P(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return t=15&t*(2-(15&e)*t),t=255&t*(2-(255&e)*t),t=65535&t*(2-(65535&(65535&e)*t)),t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function I(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function A(n){var r=t();return n.abs().dlShiftTo(this.m.t,r),r.divRemTo(this.m,null,r),n.s<0&&r.compareTo(e.ZERO)>0&&this.m.subTo(r,r),r}function N(e){var n=t();return e.copyTo(n),this.reduce(n),n}function O(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e[n]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function Y(e,t){e.squareTo(t),this.reduce(t)}function j(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function R(){return 0==(this.t>0?1&this[0]:this.s)}function B(n,r){if(n>4294967295||1>n)return e.ONE;var i=t(),o=t(),a=r.convert(this),s=h(n)-1;for(a.copyTo(i);--s>=0;)if(r.sqrTo(i,o),(n&1<<s)>0)r.mulTo(o,a,i);else{var l=i;i=o,o=l}return r.revert(i)}function F(e,t){var n;return n=256>e||t.isEven()?new S(t):new I(t),this.exp(e,n)}function U(){var e=t();return this.copyTo(e),e}function $(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function H(){return 0==this.t?this.s:this[0]<<24>>24}function q(){return 0==this.t?this.s:this[0]<<16>>16}function V(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function z(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function W(e){if(null==e&&(e=10),0==this.signum()||2>e||e>36)return"0";var n=this.chunkSize(e),r=Math.pow(e,n),i=s(r),o=t(),a=t(),l="";for(this.divRemTo(i,o,a);o.signum()>0;)l=(r+a.intValue()).toString(e).substr(1)+l,o.divRemTo(i,o,a);return a.intValue().toString(e)+l}function J(t,n){this.fromInt(0),null==n&&(n=10);for(var r=this.chunkSize(n),o=Math.pow(n,r),a=!1,s=0,l=0,u=0;u<t.length;++u){var c=i(t,u);0>c?"-"==t.charAt(u)&&0==this.signum()&&(a=!0):(l=n*l+c,++s>=r&&(this.dMultiply(o),this.dAddOffset(l,0),s=0,l=0))}s>0&&(this.dMultiply(Math.pow(n,s)),this.dAddOffset(l,0)),a&&e.ZERO.subTo(this,this)}function K(t,n,r){if("number"==typeof n)if(2>t)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),rt,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(n);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(e.ONE.shiftLeft(t-1),this);else{var i=new Array,o=7&t;i.length=(t>>3)+1,n.nextBytes(i),o>0?i[0]&=(1<<o)-1:i[0]=0,this.fromString(i,256)}}function G(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,i=0;if(e-->0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)8>r?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=255&this[e]>>(r-=8),0>=r&&(r+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t}function X(e){return 0==this.compareTo(e)}function Q(e){return this.compareTo(e)<0?this:e}function Z(e){return this.compareTo(e)>0?this:e}function et(e,t,n){var r,i,o=Math.min(e.t,this.t);for(r=0;o>r;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(i=e.s&this.DM,r=o;r<this.t;++r)n[r]=t(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<e.t;++r)n[r]=t(i,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()}function tt(e,t){return e&t}function nt(e){var n=t();return this.bitwiseTo(e,tt,n),n}function rt(e,t){return e|t}function it(e){var n=t();return this.bitwiseTo(e,rt,n),n}function ot(e,t){return e^t}function at(e){var n=t();return this.bitwiseTo(e,ot,n),n}function st(e,t){return e&~t}function lt(e){var n=t();return this.bitwiseTo(e,st,n),n}function ut(){for(var e=t(),n=0;n<this.t;++n)e[n]=this.DM&~this[n];return e.t=this.t,e.s=~this.s,e}function ct(e){var n=t();return 0>e?this.rShiftTo(-e,n):this.lShiftTo(e,n),n}function dt(e){var n=t();return 0>e?this.lShiftTo(-e,n):this.rShiftTo(e,n),n}function ft(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function pt(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+ft(this[e]);return this.s<0?this.t*this.DB:-1}function ht(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function mt(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=ht(this[n]^t);return e}function gt(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)}function vt(t,n){var r=e.ONE.shiftLeft(t);return this.bitwiseTo(r,n,r),r}function _t(e){return this.changeBit(e,rt)}function yt(e){return this.changeBit(e,st)}function bt(e){return this.changeBit(e,ot)}function wt(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);i>n;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=0>r?-1:0,r>0?t[n++]=r:-1>r&&(t[n++]=this.DV+r),t.t=n,t.clamp()}function kt(e){var n=t();return this.addTo(e,n),n}function Mt(e){var n=t();return this.subTo(e,n),n}function Tt(e){var n=t();return this.multiplyTo(e,n),n}function St(e){var n=t();return this.divRemTo(e,n,null),n}function xt(e){var n=t();return this.divRemTo(e,null,n),n}function Et(e){var n=t(),r=t();return this.divRemTo(e,n,r),new Array(n,r)}function Lt(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function Dt(e,t){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}function Ct(){}function Pt(e){return e}function It(e,t,n){e.multiplyTo(t,n)}function At(e,t){e.squareTo(t)}function Nt(e){return this.exp(e,new Ct)}function Ot(e,t,n){var r=Math.min(this.t+e.t,t);for(n.s=0,n.t=r;r>0;)n[--r]=0;var i;for(i=n.t-this.t;i>r;++r)n[r+this.t]=this.am(0,e[r],n,r,0,this.t);for(i=Math.min(e.t,t);i>r;++r)this.am(0,e[r],n,r,0,t-r);n.clamp()}function Yt(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)}function jt(n){this.r2=t(),this.q3=t(),e.ONE.dlShiftTo(2*n.t,this.r2),this.mu=this.r2.divide(n),this.m=n}function Rt(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var n=t();return e.copyTo(n),this.reduce(n),n}function Bt(e){return e}function Ft(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function Ut(e,t){e.squareTo(t),this.reduce(t)}function $t(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function Ht(e,n){var r,i,o=e.bitLength(),a=s(1);if(0>=o)return a;r=18>o?1:48>o?3:144>o?4:768>o?5:6,i=8>o?new S(n):n.isEven()?new jt(n):new I(n);var l=new Array,u=3,c=r-1,d=(1<<r)-1;if(l[1]=i.convert(this),r>1){var f=t();for(i.sqrTo(l[1],f);d>=u;)l[u]=t(),i.mulTo(f,l[u-2],l[u]),u+=2
}var p,m,g=e.t-1,v=!0,_=t();for(o=h(e[g])-1;g>=0;){for(o>=c?p=e[g]>>o-c&d:(p=(e[g]&(1<<o+1)-1)<<c-o,g>0&&(p|=e[g-1]>>this.DB+o-c)),u=r;0==(1&p);)p>>=1,--u;if((o-=u)<0&&(o+=this.DB,--g),v)l[p].copyTo(a),v=!1;else{for(;u>1;)i.sqrTo(a,_),i.sqrTo(_,a),u-=2;u>0?i.sqrTo(a,_):(m=a,a=_,_=m),i.mulTo(_,l[p],a)}for(;g>=0&&0==(e[g]&1<<o);)i.sqrTo(a,_),m=a,a=_,_=m,--o<0&&(o=this.DB-1,--g)}return i.revert(a)}function qt(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),o=n.getLowestSetBit();if(0>o)return t;for(o>i&&(o=i),o>0&&(t.rShiftTo(o,t),n.rShiftTo(o,n));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n}function Vt(e){if(0>=e)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n}function zt(t){var n=t.isEven();if(this.isEven()&&n||0==t.signum())return e.ZERO;for(var r=t.clone(),i=this.clone(),o=s(1),a=s(0),l=s(0),u=s(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),n?(o.isEven()&&a.isEven()||(o.addTo(this,o),a.subTo(t,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);for(;i.isEven();)i.rShiftTo(1,i),n?(l.isEven()&&u.isEven()||(l.addTo(this,l),u.subTo(t,u)),l.rShiftTo(1,l)):u.isEven()||u.subTo(t,u),u.rShiftTo(1,u);r.compareTo(i)>=0?(r.subTo(i,r),n&&o.subTo(l,o),a.subTo(u,a)):(i.subTo(r,i),n&&l.subTo(o,l),u.subTo(a,u))}return 0!=i.compareTo(e.ONE)?e.ZERO:u.compareTo(t)>=0?u.subtract(t):u.signum()<0?(u.addTo(t,u),u.signum()<0?u.add(t):u):u}function Wt(e){var t,n=this.abs();if(1==n.t&&n[0]<=tn[tn.length-1]){for(t=0;t<tn.length;++t)if(n[0]==tn[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<tn.length;){for(var r=tn[t],i=t+1;i<tn.length&&nn>r;)r*=tn[i++];for(r=n.modInt(r);i>t;)if(0==r%tn[t++])return!1}return n.millerRabin(e)}function Jt(n){var r=this.subtract(e.ONE),i=r.getLowestSetBit();if(0>=i)return!1;var o=r.shiftRight(i);n=n+1>>1,n>tn.length&&(n=tn.length);for(var a=t(),s=0;n>s;++s){a.fromInt(tn[s]);var l=a.modPow(o,this);if(0!=l.compareTo(e.ONE)&&0!=l.compareTo(r)){for(var u=1;u++<i&&0!=l.compareTo(r);)if(l=l.modPowInt(2,this),0==l.compareTo(e.ONE))return!1;if(0!=l.compareTo(r))return!1}}return!0}var Kt;e.prototype.am=n,Kt=28,e.prototype.DB=Kt,e.prototype.DM=(1<<Kt)-1,e.prototype.DV=1<<Kt;var Gt=52;e.prototype.FV=Math.pow(2,Gt),e.prototype.F1=Gt-Kt,e.prototype.F2=2*Kt-Gt;var Xt,Qt,Zt="0123456789abcdefghijklmnopqrstuvwxyz",en=new Array;for(Xt="0".charCodeAt(0),Qt=0;9>=Qt;++Qt)en[Xt++]=Qt;for(Xt="a".charCodeAt(0),Qt=10;36>Qt;++Qt)en[Xt++]=Qt;for(Xt="A".charCodeAt(0),Qt=10;36>Qt;++Qt)en[Xt++]=Qt;S.prototype.convert=x,S.prototype.revert=E,S.prototype.reduce=L,S.prototype.mulTo=D,S.prototype.sqrTo=C,I.prototype.convert=A,I.prototype.revert=N,I.prototype.reduce=O,I.prototype.mulTo=j,I.prototype.sqrTo=Y,e.prototype.copyTo=o,e.prototype.fromInt=a,e.prototype.fromString=l,e.prototype.clamp=u,e.prototype.dlShiftTo=g,e.prototype.drShiftTo=v,e.prototype.lShiftTo=_,e.prototype.rShiftTo=y,e.prototype.subTo=b,e.prototype.multiplyTo=w,e.prototype.squareTo=k,e.prototype.divRemTo=M,e.prototype.invDigit=P,e.prototype.isEven=R,e.prototype.exp=B,e.prototype.toString=c,e.prototype.negate=d,e.prototype.abs=f,e.prototype.compareTo=p,e.prototype.bitLength=m,e.prototype.mod=T,e.prototype.modPowInt=F,e.ZERO=s(0),e.ONE=s(1),Ct.prototype.convert=Pt,Ct.prototype.revert=Pt,Ct.prototype.mulTo=It,Ct.prototype.sqrTo=At,jt.prototype.convert=Rt,jt.prototype.revert=Bt,jt.prototype.reduce=Ft,jt.prototype.mulTo=$t,jt.prototype.sqrTo=Ut;var tn=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],nn=(1<<26)/tn[tn.length-1];return e.prototype.chunkSize=V,e.prototype.toRadix=W,e.prototype.fromRadix=J,e.prototype.fromNumber=K,e.prototype.bitwiseTo=et,e.prototype.changeBit=vt,e.prototype.addTo=wt,e.prototype.dMultiply=Lt,e.prototype.dAddOffset=Dt,e.prototype.multiplyLowerTo=Ot,e.prototype.multiplyUpperTo=Yt,e.prototype.modInt=Vt,e.prototype.millerRabin=Jt,e.prototype.clone=U,e.prototype.intValue=$,e.prototype.byteValue=H,e.prototype.shortValue=q,e.prototype.signum=z,e.prototype.toByteArray=G,e.prototype.equals=X,e.prototype.min=Q,e.prototype.max=Z,e.prototype.and=nt,e.prototype.or=it,e.prototype.xor=at,e.prototype.andNot=lt,e.prototype.not=ut,e.prototype.shiftLeft=ct,e.prototype.shiftRight=dt,e.prototype.getLowestSetBit=pt,e.prototype.bitCount=mt,e.prototype.testBit=gt,e.prototype.setBit=_t,e.prototype.clearBit=yt,e.prototype.flipBit=bt,e.prototype.add=kt,e.prototype.subtract=Mt,e.prototype.multiply=Tt,e.prototype.divide=St,e.prototype.remainder=xt,e.prototype.divideAndRemainder=Et,e.prototype.modPow=Ht,e.prototype.modInverse=zt,e.prototype.pow=Nt,e.prototype.gcd=qt,e.prototype.isProbablePrime=Wt,e}()}).call(this),function(){r=function(){function e(e){function t(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function n(e,t){return e>>>t|e<<32-t}function r(e,t){return e>>>t}function i(e,t,n){return e&t^~e&n}function o(e,t,n){return e&t^e&n^t&n}function a(e){return n(e,2)^n(e,13)^n(e,22)}function s(e){return n(e,6)^n(e,11)^n(e,25)}function l(e){return n(e,7)^n(e,18)^r(e,3)}function u(e){return n(e,17)^n(e,19)^r(e,10)}function c(e,n){var r,c,d,f,p,h,m,g,v,_,y,b,w=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),k=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),M=new Array(64);e[n>>5]|=128<<24-n%32,e[(n+64>>9<<4)+15]=n;for(var v=0;v<e.length;v+=16){r=k[0],c=k[1],d=k[2],f=k[3],p=k[4],h=k[5],m=k[6],g=k[7];for(var _=0;64>_;_++)M[_]=16>_?e[_+v]:t(t(t(u(M[_-2]),M[_-7]),l(M[_-15])),M[_-16]),y=t(t(t(t(g,s(p)),i(p,h,m)),w[_]),M[_]),b=t(a(r),o(r,c,d)),g=m,m=h,h=p,p=t(f,y),f=d,d=c,c=r,r=t(y,b);k[0]=t(r,k[0]),k[1]=t(c,k[1]),k[2]=t(d,k[2]),k[3]=t(f,k[3]),k[4]=t(p,k[4]),k[5]=t(h,k[5]),k[6]=t(m,k[6]),k[7]=t(g,k[7])}return k}function d(e){for(var t=Array(),n=(1<<h)-1,r=0;r<e.length*h;r+=h)t[r>>5]|=(e.charCodeAt(r/h)&n)<<24-r%32;return t}function f(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);128>r?t+=String.fromCharCode(r):r>127&&2048>r?(t+=String.fromCharCode(192|r>>6),t+=String.fromCharCode(128|63&r)):(t+=String.fromCharCode(224|r>>12),t+=String.fromCharCode(128|63&r>>6),t+=String.fromCharCode(128|63&r))}return t}function p(e){for(var t=m?"0123456789ABCDEF":"0123456789abcdef",n="",r=0;r<4*e.length;r++)n+=t.charAt(15&e[r>>2]>>8*(3-r%4)+4)+t.charAt(15&e[r>>2]>>8*(3-r%4));return n}var h=8,m=0;return e=f(e),p(c(d(e),e.length*h))}return e}()}.call(this),function(){t={},t.generateVerifier=function(t,r){var i=a(r),o=r&&r.identity||e.id(),s=r&&r.salt||e.id(),l=i.hash(s+i.hash(o+":"+t)),u=new n(l,16),c=i.g.modPow(u,i.N);return{identity:o,salt:s,verifier:c.toString(16)}},t.matchVerifier={identity:String,salt:String,verifier:String},t.Client=function(e,t){var r=this;r.params=a(t),r.password=e;var i,o,l=r.params.N,u=r.params.g;if(t&&t.a){if("string"==typeof t.a)i=new n(t.a,16);else{if(!(t.a instanceof n))throw new Error("Invalid parameter: a");i=t.a}if(o=u.modPow(i,l),0===o.mod(l))throw new Error("Invalid parameter: a: A mod N == 0.")}else for(;!o||0===o.mod(l);)i=s(),o=u.modPow(i,l);r.a=i,r.A=o,r.Astr=o.toString(16)},t.Client.prototype.startExchange=function(){var e=this;return{A:e.Astr}},t.Client.prototype.respondToChallenge=function(e){var t=this,r=t.params.N,i=t.params.g,o=t.params.k,a=t.params.hash;if(t.identity=e.identity,t.salt=e.salt,t.Bstr=e.B,t.B=new n(t.Bstr,16),0===t.B.mod(r))throw new Error("Server sent invalid key: B mod N == 0.");var s=new n(a(t.Astr+t.Bstr),16),l=new n(a(t.salt+a(t.identity+":"+t.password)),16),u=o.multiply(i.modPow(l,r)),c=t.a.add(s.multiply(l)),d=t.B.subtract(u).modPow(c,r),f=a(t.Astr+t.Bstr+d.toString(16)),p=a(t.Astr+f+d.toString(16));return t.S=d,t.HAMK=p,{M:f}},t.Client.prototype.verifyConfirmation=function(e){var t=this;return t.HAMK&&e.HAMK===t.HAMK},t.Server=function(e,t){var r=this;r.params=a(t),r.verifier=e;var i,o,l=r.params.N,u=r.params.g,c=r.params.k,d=new n(r.verifier.verifier,16);if(t&&t.b){if("string"==typeof t.b)i=new n(t.b,16);else{if(!(t.b instanceof n))throw new Error("Invalid parameter: b");i=t.b}if(o=c.multiply(d).add(u.modPow(i,l)).mod(l),0===o.mod(l))throw new Error("Invalid parameter: b: B mod N == 0.")}else for(;!o||0===o.mod(l);)i=s(),o=c.multiply(d).add(u.modPow(i,l)).mod(l);r.b=i,r.B=o,r.Bstr=o.toString(16)},t.Server.prototype.issueChallenge=function(e){var t=this;if(t.Astr=e.A,t.A=new n(t.Astr,16),0===t.A.mod(t.params.N))throw new Error("Client sent invalid key: A mod N == 0.");var r=t.params.N,i=t.params.hash,o=new n(i(t.Astr+t.Bstr),16),a=new n(t.verifier.verifier,16),s=t.A.multiply(a.modPow(o,r));return t.S=s.modPow(t.b,r),t.M=i(t.Astr+t.Bstr+t.S.toString(16)),t.HAMK=i(t.Astr+t.M+t.S.toString(16)),{identity:t.verifier.identity,salt:t.verifier.salt,B:t.Bstr}},t.Server.prototype.verifyResponse=function(e){var t=this;return e.M!==t.M?null:{HAMK:t.HAMK}};var o={hash:function(e){return r(e).toLowerCase()},N:new n("EEAF0AB9ADB38DD69C33F80AFA8FC5E86072618775FF3C0B9EA2314C9C256576D674DF7496EA81D3383B4813D692C6E0E0D5D8E250B98BE48E495C1D6089DAD15DC7D7B46154D6B6CE8EF4AD69B15D4982559B297BCF1885C529F566660E57EC68EDBC3C05726CC02FD4CBF4976EAA9AFD5138FE8376435B9FC61D2FC0EB06E3",16),g:new n("2")};o.k=new n(o.hash(o.N.toString(16)+o.g.toString(16)),16);var a=function(e){if(!e)return o;var t=i.extend({},o);return i.each(["N","g","k"],function(r){if(e[r])if("string"==typeof e[r])t[r]=new n(e[r],16);else{if(!(e[r]instanceof n))throw new Error("Invalid parameter: "+r);t[r]=e[r]}}),e.hash&&(t.hash=function(t){return e.hash(t).toLowerCase()}),!e.k&&(e.N||e.g||e.hash)&&(t.k=t.hash(t.N.toString(16)+t.g.toString(16))),t},s=function(){return new n(e.hexString(36),16)}}.call(this),"undefined"==typeof Package&&(Package={}),Package.srp={SRP:t}}(),function(){var e=Package.meteor.Meteor,t=Package["accounts-base"].Accounts,n=Package.srp.SRP,r=Package.underscore._;Package.livedata.DDP,function(){e.loginWithPassword=function(r,i,o){var a=new n.Client(i),s=a.startExchange();"string"==typeof r&&(r=-1===r.indexOf("@")?{username:r}:{email:r}),s.user=r,t._setLoggingIn(!0),e.apply("beginPasswordExchange",[s],function(e,n){if(e||!n)return t._setLoggingIn(!1),e=e||new Error("No result from call to beginPasswordExchange"),o&&o(e),void 0;var r=a.respondToChallenge(n);t.callLoginMethod({methodArguments:[{srp:r}],validateResult:function(e){if(!a.verifyConfirmation({HAMK:e.HAMK}))throw new Error("Server is cheating!")},userCallback:o})})},t.createUser=function(e,i){if(e=r.clone(e),!e.password)throw new Error("Must set options.password");var o=n.generateVerifier(e.password);delete e.password,e.srp=o,t.callLoginMethod({methodName:"createUser",methodArguments:[e],userCallback:i})},t.changePassword=function(t,r,i){if(!e.user())return i&&i(new Error("Must be logged in to change password.")),void 0;var o=n.generateVerifier(r);if(t){var a=new n.Client(t),s=a.startExchange();s.user={id:e.user()._id},e.apply("beginPasswordExchange",[s],function(t,n){if(t||!n)return i&&i(t||new Error("No result from call to beginPasswordExchange")),void 0;var r=a.respondToChallenge(n);r.srp=o,e.apply("changePassword",[r],function(e,t){e||!t?i&&i(e||new Error("No result from changePassword.")):a.verifyConfirmation(t)?i&&i():i&&i(new Error("Old password verification failed."))})})}else e.apply("changePassword",[{srp:o}],function(e,t){e||!t?i&&i(e||new Error("No result from changePassword.")):i&&i()})},t.forgotPassword=function(t,n){if(!t.email)throw new Error("Must pass options.email");e.call("forgotPassword",t,n)},t.resetPassword=function(e,r,i){if(!e)throw new Error("Need to pass token");if(!r)throw new Error("Need to pass newPassword");var o=n.generateVerifier(r);t.callLoginMethod({methodName:"resetPassword",methodArguments:[e,o],userCallback:i})},t.verifyEmail=function(e,n){if(!e)throw new Error("Need to pass token");t.callLoginMethod({methodName:"verifyEmail",methodArguments:[e],userCallback:n})}}.call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-password"]={}}(),function(){var e,t,n,r,i,o,a,s,l=Package.meteor.Meteor,u=Package.deps.Deps,c=Package["service-configuration"].ServiceConfiguration,d=Package["accounts-base"].Accounts,f=Package.underscore._,p=Package.templating.Template,h=Package.handlebars.Handlebars,m=Package.spark.Spark,g=Package.session.Session;(function(){d.ui={},d.ui._options={requestPermissions:{},requestOfflineToken:{}},d.ui.config=function(e){var t=["passwordSignupFields","requestPermissions","requestOfflineToken"];if(f.each(f.keys(e),function(e){if(!f.contains(t,e))throw new Error("Accounts.ui.config: Invalid key: "+e)}),e.passwordSignupFields){if(!f.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY","EMAIL_ONLY"],e.passwordSignupFields))throw new Error("Accounts.ui.config: Invalid option for `passwordSignupFields`: "+e.passwordSignupFields);if(d.ui._options.passwordSignupFields)throw new Error("Accounts.ui.config: Can't set `passwordSignupFields` more than once");d.ui._options.passwordSignupFields=e.passwordSignupFields}e.requestPermissions&&f.each(e.requestPermissions,function(e,t){if(d.ui._options.requestPermissions[t])throw new Error("Accounts.ui.config: Can't set `requestPermissions` more than once for "+t);if(!(e instanceof Array))throw new Error("Accounts.ui.config: Value for `requestPermissions` must be an array");d.ui._options.requestPermissions[t]=e}),e.requestOfflineToken&&f.each(e.requestOfflineToken,function(e,t){if("google"!==t)throw new Error("Accounts.ui.config: `requestOfflineToken` only supported for Google login at the moment.");if(d.ui._options.requestOfflineToken[t])throw new Error("Accounts.ui.config: Can't set `requestOfflineToken` more than once for "+t);d.ui._options.requestOfflineToken[t]=e})},e=function(){return d.ui._options.passwordSignupFields||"EMAIL_ONLY"}}).call(this),function(){p.__define__("_loginButtons",Package.handlebars.Handlebars.json_ast_to_func(['<div id="login-buttons" class="login-buttons-dropdown-align-',["{",[[0,"align"]]],'">\n    ',["#",[[0,"if"],[0,"currentUser"]],["\n      ",["#",[[0,"if"],[0,"loggingIn"]],["\n        ","\n        ",["#",[[0,"if"],[0,"dropdown"]],["\n          ",[">","_loginButtonsLoggingIn"],"\n        "],['\n          <div class="login-buttons-with-only-one-button">\n            ',[">","_loginButtonsLoggingInSingleLoginButton"],"\n          </div>\n        "]],"\n      "],["\n        ",[">","_loginButtonsLoggedIn"],"\n      "]],"\n    "],["\n      ",[">","_loginButtonsLoggedOut"],"\n    "]],"\n  </div>"])),p.__define__("_loginButtonsLoggedIn",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"if"],[0,"dropdown"]],["\n    ",[">","_loginButtonsLoggedInDropdown"],"\n  "],['\n    <div class="login-buttons-with-only-one-button">\n      ',[">","_loginButtonsLoggedInSingleLogoutButton"],"\n    </div>\n  "]]])),p.__define__("_loginButtonsLoggedOut",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"if"],[0,"services"]],[" ","\n    ",["#",[[0,"if"],[0,"configurationLoaded"]],["\n      ",["#",[[0,"if"],[0,"dropdown"]],[" ","\n        ",[">","_loginButtonsLoggedOutDropdown"],"\n      "],["\n        ",["#",[[0,"with"],[0,"singleService"]],[" ",'\n          <div class="login-buttons-with-only-one-button">\n            ',["#",[[0,"if"],[0,"loggingIn"]],["\n              ",[">","_loginButtonsLoggingInSingleLoginButton"],"\n            "],["\n              ",[">","_loginButtonsLoggedOutSingleLoginButton"],"\n            "]],"\n          </div>\n        "]],"\n      "]],"\n    "]],"\n  "],['\n    <div class="no-services">No login services configured</div>\n  ']]])),p.__define__("_loginButtonsMessages",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"if"],[0,"errorMessage"]],['\n    <div class="message error-message">',["{",[[0,"errorMessage"]]],"</div>\n  "]],"\n  ",["#",[[0,"if"],[0,"infoMessage"]],['\n    <div class="message info-message">',["{",[[0,"infoMessage"]]],"</div>\n  "]]])),p.__define__("_loginButtonsLoggingIn",Package.handlebars.Handlebars.json_ast_to_func([[">","_loginButtonsLoggingInPadding"],'\n  <div class="loading">&nbsp;</div>\n  ',[">","_loginButtonsLoggingInPadding"]])),p.__define__("_loginButtonsLoggingInPadding",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"unless"],[0,"dropdown"]],["\n    ",'\n    <div class="login-buttons-padding">\n      <div class="login-button single-login-button" style="visibility: hidden;" id="login-buttons-logout">&nbsp;</div>\n    </div>\n  '],["\n    ",'\n    <div class="login-buttons-padding" />\n  ']]]))}.call(this),function(){p.__define__("_loginButtonsLoggedOutSingleLoginButton",Package.handlebars.Handlebars.json_ast_to_func(['<div class="login-text-and-button">\n    <div class="login-button single-login-button ',["#",[[0,"unless"],[0,"configured"]],["configure-button"]],'"\n         id="login-buttons-',["{",[[0,"name"]]],'">\n      <div class="login-image" id="login-buttons-image-',["{",[[0,"name"]]],'"></div>\n      ',["#",[[0,"if"],[0,"configured"]],['\n        <span class="text-besides-image sign-in-text-',["{",[[0,"name"]]],'">Sign in with ',["{",[[0,"capitalizedName"]]],"</span>\n      "],['\n        <span class="text-besides-image configure-text-',["{",[[0,"name"]]],'">Configure ',["{",[[0,"capitalizedName"]]]," Login</span>\n      "]],"\n    </div>\n  </div>"])),p.__define__("_loginButtonsLoggingInSingleLoginButton",Package.handlebars.Handlebars.json_ast_to_func(['<div class="login-text-and-button">\n    ',[">","_loginButtonsLoggingIn"],"\n  </div>"])),p.__define__("_loginButtonsLoggedInSingleLogoutButton",Package.handlebars.Handlebars.json_ast_to_func(['<div class="login-text-and-button">\n    <div class="login-display-name">\n      ',["{",[[0,"displayName"]]],'\n    </div>\n    <div class="login-button single-login-button" id="login-buttons-logout">Sign Out</div>\n  </div>']))}.call(this),function(){p.__define__("_loginButtonsLoggedInDropdown",Package.handlebars.Handlebars.json_ast_to_func(['<div class="login-link-and-dropdown-list">\n    <a class="login-link-text" id="login-name-link">\n      ',["{",[[0,"displayName"]]]," ▾\n    </a>\n\n    ",["#",[[0,"if"],[0,"dropdownVisible"]],['\n      <div id="login-dropdown-list" class="accounts-dialog">\n        <a class="login-close-text">Close</a>\n        <div class="login-close-text-clear"></div>\n\n        ',["#",[[0,"if"],[0,"inMessageOnlyFlow"]],["\n          ",[">","_loginButtonsMessages"],"\n        "],["\n          ",["#",[[0,"if"],[0,"inChangePasswordFlow"]],["\n            ",[">","_loginButtonsChangePassword"],"\n          "],["\n            ",[">","_loginButtonsLoggedInDropdownActions"],"\n          "]],"\n        "]],"\n      </div>\n    "]],"\n  </div>"])),p.__define__("_loginButtonsLoggedInDropdownActions",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"if"],[0,"allowChangingPassword"]],['\n    <div class="login-button" id="login-buttons-open-change-password">\n      Change password\n    </div>\n  ']],'\n\n  <div class="login-button" id="login-buttons-logout">\n    Sign out\n  </div>\n\n  ',[">","_loginButtonsMessages"]])),p.__define__("_loginButtonsLoggedOutDropdown",Package.handlebars.Handlebars.json_ast_to_func(['<div class="login-link-and-dropdown-list ',["{",[[0,"additionalClasses"]]],'">\n    ',["#",[[0,"if"],[0,"dropdownVisible"]],["\n      ",'\n      <a class="login-link-text" id="login-sign-in-link">Sign in ▾</a>\n      <div id="login-dropdown-list" class="accounts-dialog">\n        <a class="login-close-text">Close</a>\n        ',["#",[[0,"if"],[0,"loggingIn"]],["\n          ",[">","_loginButtonsLoggingIn"],"\n        "]],'\n        <div class="login-close-text-clear"></div>\n        ',[">","_loginButtonsLoggedOutAllServices"],"\n      </div>\n    "],["\n      ",["#",[[0,"if"],[0,"loggingIn"]],["\n        ","\n        ",[">","_loginButtonsLoggingIn"],"\n      "],['\n        <a class="login-link-text" id="login-sign-in-link">Sign in ▾</a>\n      ']],"\n    "]],"\n  </div>"])),p.__define__("_loginButtonsLoggedOutAllServices",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"each"],[0,"services"]],["\n    ",["#",[[0,"if"],[0,"isPasswordService"]],["\n      ",["#",[[0,"if"],[0,"hasOtherServices"]],[" ","\n        ",[">","_loginButtonsLoggedOutPasswordServiceSeparator"],"\n      "]],"\n      ",[">","_loginButtonsLoggedOutPasswordService"],"\n    "],["\n      ",[">","_loginButtonsLoggedOutSingleLoginButton"],"\n    "]],"\n  "]],"\n\n  ",["#",[[0,"unless"],[0,"hasPasswordService"]],["\n    ",[">","_loginButtonsMessages"],"\n  "]]])),p.__define__("_loginButtonsLoggedOutPasswordServiceSeparator",Package.handlebars.Handlebars.json_ast_to_func(['<div class="or">\n    <span class="hline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\n    <span class="or-text">or</span>\n    <span class="hline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\n  </div>'])),p.__define__("_loginButtonsLoggedOutPasswordService",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"if"],[0,"inForgotPasswordFlow"]],["\n    ",[">","_forgotPasswordForm"],"\n  "],['\n    <div class="login-form login-password-form">\n      ',["#",[[0,"each"],[0,"fields"]],["\n        ",[">","_loginButtonsFormField"],"\n      "]],"\n\n      ",[">","_loginButtonsMessages"],'\n\n      <div class="login-button login-button-form-submit" id="login-buttons-password">\n        ',["#",[[0,"if"],[0,"inSignupFlow"]],["\n          Create account\n        "],["\n          Sign in\n        "]],"\n      </div>\n\n      ",["#",[[0,"if"],[0,"inLoginFlow"]],["\n        ",["#",[[0,"if"],[0,"showCreateAccountLink"]],['\n          <div class="additional-link-container">\n            <a id="signup-link" class="additional-link">Create account</a>\n          </div>\n        ']],"\n\n        ",["#",[[0,"if"],[0,"showForgotPasswordLink"]],['\n          <div class="additional-link-container">\n            <a id="forgot-password-link" class="additional-link">Forgot password</a>\n          </div>\n        ']],"\n      "]],"\n\n      ",["#",[[0,"if"],[0,"inSignupFlow"]],["\n        ",[">","_loginButtonsBackToLoginLink"],"\n      "]],"\n    </div>\n  "]]])),p.__define__("_forgotPasswordForm",Package.handlebars.Handlebars.json_ast_to_func(['<div class="login-form">\n    <div id="forgot-password-email-label-and-input"> ','\n      <label id="forgot-password-email-label" for="forgot-password-email">Email</label>\n      <input id="forgot-password-email" type="email"/>\n    </div>\n\n    ',[">","_loginButtonsMessages"],'\n\n    <div class="login-button login-button-form-submit" id="login-buttons-forgot-password">\n      Reset password\n    </div>\n\n    ',[">","_loginButtonsBackToLoginLink"],"\n  </div>"])),p.__define__("_loginButtonsBackToLoginLink",Package.handlebars.Handlebars.json_ast_to_func(['<div class="additional-link-container">\n    <a id="back-to-login-link" class="additional-link">Sign in</a>\n  </div>'])),p.__define__("_loginButtonsFormField",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"if"],[0,"visible"]],['\n    <div id="login-',["{",[[0,"fieldName"]]],'-label-and-input">\n      <label id="login-',["{",[[0,"fieldName"]]],'-label" for="login-',["{",[[0,"fieldName"]]],'">\n        ',["{",[[0,"fieldLabel"]]],'\n      </label>\n      <input id="login-',["{",[[0,"fieldName"]]],'" type="',["{",[[0,"inputType"]]],'" />\n    </div>\n  ']]])),p.__define__("_loginButtonsChangePassword",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"each"],[0,"fields"]],["\n    ",[">","_loginButtonsFormField"],"\n  "]],"\n\n  ",[">","_loginButtonsMessages"],'\n\n  <div class="login-button login-button-form-submit" id="login-buttons-do-change-password">\n    Change password\n  </div>']))}.call(this),function(){l.startup(function(){document.body.appendChild(m.render(p.__define__(null,Package.handlebars.Handlebars.json_ast_to_func([[">","_resetPasswordDialog"],"\n  ",[">","_enrollAccountDialog"],"\n  ",[">","_justVerifiedEmailDialog"],"\n  ",[">","_configureLoginServiceDialog"],"\n\n  <!-- if we're not showing a dropdown, we need some other place to show messages -->\n  ",[">","_loginButtonsMessagesDialog"]]))))}),p.__define__("_resetPasswordDialog",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"if"],[0,"inResetPasswordFlow"]],['\n    <div class="hide-background"></div>\n\n    <div class="accounts-dialog accounts-centered-dialog">\n      <label id="reset-password-new-password-label" for="reset-password-new-password">\n        New password\n      </label>\n\n      <div>\n        <input id="reset-password-new-password" type="password" />\n      </div>\n\n      ',[">","_loginButtonsMessages"],'\n\n      <div class="login-button login-button-form-submit" id="login-buttons-reset-password-button">\n        Set password\n      </div>\n\n      <a class="accounts-close" id="login-buttons-cancel-reset-password">&times;</a>\n    </div>\n  ']]])),p.__define__("_enrollAccountDialog",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"if"],[0,"inEnrollAccountFlow"]],['\n    <div class="hide-background"></div>\n\n    <div class="accounts-dialog accounts-centered-dialog">\n      <label id="enroll-account-password-label" for="enroll-account-password">\n        Choose a password\n      </label>\n\n      <div>\n        <input id="enroll-account-password" type="password" />\n      </div>\n\n      ',[">","_loginButtonsMessages"],'\n\n      <div class="login-button login-button-form-submit" id="login-buttons-enroll-account-button">\n        Create account\n      </div>\n\n      <a class="accounts-close" id="login-buttons-cancel-enroll-account">&times;</a>\n    </div>\n  ']]])),p.__define__("_justVerifiedEmailDialog",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"if"],[0,"visible"]],['\n    <div class="accounts-dialog accounts-centered-dialog">\n      Email verified\n      <div class="login-button" id="just-verified-dismiss-button">Dismiss</div>\n    </div>\n  ']]])),p.__define__("_configureLoginServiceDialog",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"if"],[0,"visible"]],['\n    <div id="configure-login-service-dialog" class="accounts-dialog accounts-centered-dialog">\n      ',["!",[[0,"configurationSteps"]]],'\n\n      <p>\n        Now, copy over some details.\n      </p>\n      <p>\n        <table>\n          <colgroup>\n            <col span="1" class="configuration_labels">\n            <col span="1" class="configuration_inputs">\n          </colgroup>\n          ',["#",[[0,"each"],[0,"configurationFields"]],['\n            <tr>\n              <td>\n                <label for="configure-login-service-dialog-',["{",[[0,"property"]]],'">',["{",[[0,"label"]]],'</label>\n              </td>\n              <td>\n                <input id="configure-login-service-dialog-',["{",[[0,"property"]]],'" type="text" />\n              </td>\n            </tr>\n          ']],'\n        </table>\n      </p>\n      <div class="new-section">\n        <div class="login-button configure-login-service-dismiss-button">\n          I\'ll do this later\n        </div>\n        <a class="accounts-close configure-login-service-dismiss-button">&times;</a>\n\n        ',["#",[[0,"isolate"]],['\n          <div class="login-button login-button-configure ',["#",[[0,"if"],[0,"saveDisabled"]],["login-button-disabled"]],'"\n             id="configure-login-service-dialog-save-configuration">\n            Save Configuration\n          </div>\n        ']],"\n      </div>\n    </div>\n  "]]])),p.__define__("_loginButtonsMessagesDialog",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"if"],[0,"visible"]],['\n    <div class="accounts-dialog accounts-centered-dialog" id="login-buttons-message-dialog">\n      ',[">","_loginButtonsMessages"],'\n      <div class="login-button" id="messages-dialog-dismiss-button">Dismiss</div>\n    </div>\n  ']]]))}.call(this),function(){var e=["dropdownVisible","inSignupFlow","inForgotPasswordFlow","inChangePasswordFlow","inMessageOnlyFlow","errorMessage","infoMessage","resetPasswordToken","enrollAccountToken","justVerifiedEmail","configureLoginServiceDialogVisible","configureLoginServiceDialogServiceName","configureLoginServiceDialogSaveDisabled"],t=function(t){if(!f.contains(e,t))throw new Error("Invalid key in loginButtonsSession: "+t)},n="Meteor.loginButtons.";d._loginButtonsSession={set:function(e,n){if(t(e),f.contains(["errorMessage","infoMessage"],e))throw new Error("Don't set errorMessage or infoMessage directly. Instead, use errorMessage() or infoMessage().");this._set(e,n)},_set:function(e,t){g.set(n+e,t)},get:function(e){return t(e),g.get(n+e)},closeDropdown:function(){this.set("inSignupFlow",!1),this.set("inForgotPasswordFlow",!1),this.set("inChangePasswordFlow",!1),this.set("inMessageOnlyFlow",!1),this.set("dropdownVisible",!1),this.resetMessages()},infoMessage:function(e){this._set("errorMessage",null),this._set("infoMessage",e),this.ensureMessageVisible()},errorMessage:function(e){this._set("errorMessage",e),this._set("infoMessage",null),this.ensureMessageVisible()},isMessageDialogVisible:function(){return this.get("resetPasswordToken")||this.get("enrollAccountToken")||this.get("justVerifiedEmail")},ensureMessageVisible:function(){this.isMessageDialogVisible()||this.set("dropdownVisible",!0)},resetMessages:function(){this._set("errorMessage",null),this._set("infoMessage",null)},configureService:function(e){this.set("configureLoginServiceDialogVisible",!0),this.set("configureLoginServiceDialogServiceName",e),this.set("configureLoginServiceDialogSaveDisabled",!0)}}}.call(this),function(){var u=d._loginButtonsSession;h.registerHelper("loginButtons",function(e){return"right"===e.hash.align?new h.SafeString(p._loginButtons({align:"right"})):new h.SafeString(p._loginButtons({align:"left"}))}),p._loginButtons.events({"click #login-buttons-logout":function(){l.logout(function(){u.closeDropdown()})}}),p._loginButtons.preserve({"input[id]":m._labelFromIdOrName}),t=function(){var e=l.user();return e?e.profile&&e.profile.name?e.profile.name:e.username?e.username:e.emails&&e.emails[0]&&e.emails[0].address?e.emails[0].address:"":""},n=function(){var e=Package["accounts-oauth"]?d.oauth.serviceNames():[];return e.sort(),r()&&e.push("password"),f.map(e,function(e){return{name:e}})},r=function(){return!!Package["accounts-password"]},i=function(){return r()||n().length>1},o=function(e){return e.length>=3?!0:(u.errorMessage("Username must be at least 3 characters long"),!1)},a=function(t){return"USERNAME_AND_OPTIONAL_EMAIL"===e()&&""===t?!0:-1!==t.indexOf("@")?!0:(u.errorMessage("Invalid email"),!1)},s=function(e){return e.length>=6?!0:(u.errorMessage("Password must be at least 6 characters long"),!1)},p._loginButtonsLoggedOut.dropdown=i,p._loginButtonsLoggedOut.services=n,p._loginButtonsLoggedOut.singleService=function(){var e=n();if(1!==e.length)throw new Error("Shouldn't be rendering this template with more than one configured service");
return e[0]},p._loginButtonsLoggedOut.configurationLoaded=function(){return d.loginServicesConfigured()},p._loginButtonsLoggedIn.dropdown=i,p._loginButtonsLoggedInSingleLogoutButton.displayName=t,p._loginButtonsMessages.errorMessage=function(){return u.get("errorMessage")},p._loginButtonsMessages.infoMessage=function(){return u.get("infoMessage")},p._loginButtonsLoggingInPadding.dropdown=i}.call(this),function(){var e=d._loginButtonsSession;p._loginButtonsLoggedOutSingleLoginButton.events({"click .login-button":function(){var n=this.name;e.resetMessages();var r=function(t){t?t instanceof d.LoginCancelledError||(t instanceof c.ConfigError?e.configureService(n):e.errorMessage(t.reason||"Unknown error")):e.closeDropdown()},i=l["loginWith"+t(n)],o={};d.ui._options.requestPermissions[n]&&(o.requestPermissions=d.ui._options.requestPermissions[n]),d.ui._options.requestOfflineToken[n]&&(o.requestOfflineToken=d.ui._options.requestOfflineToken[n]),i(o,r)}}),p._loginButtonsLoggedOutSingleLoginButton.configured=function(){return!!c.configurations.findOne({service:this.name})},p._loginButtonsLoggedOutSingleLoginButton.capitalizedName=function(){return"github"===this.name?"GitHub":t(this.name)};var t=function(e){return e=null==e?"":String(e),e.charAt(0).toUpperCase()+e.slice(1)}}.call(this),function(){var i=d._loginButtonsSession;p._loginButtons.events({"click #login-name-link, click #login-sign-in-link":function(){i.set("dropdownVisible",!0),u.flush(),w()},"click .login-close-text":function(){i.closeDropdown()}}),p._loginButtonsLoggedInDropdown.events({"click #login-buttons-open-change-password":function(){i.resetMessages(),i.set("inChangePasswordFlow",!0)}}),p._loginButtonsLoggedInDropdown.displayName=t,p._loginButtonsLoggedInDropdown.inChangePasswordFlow=function(){return i.get("inChangePasswordFlow")},p._loginButtonsLoggedInDropdown.inMessageOnlyFlow=function(){return i.get("inMessageOnlyFlow")},p._loginButtonsLoggedInDropdown.dropdownVisible=function(){return i.get("dropdownVisible")},p._loginButtonsLoggedInDropdownActions.allowChangingPassword=function(){var e=l.user();return e.username||e.emails&&e.emails[0]&&e.emails[0].address},p._loginButtonsLoggedOutDropdown.events({"click #login-buttons-password":function(){m()},"keypress #forgot-password-email":function(e){13===e.keyCode&&_()},"click #login-buttons-forgot-password":function(){_()},"click #signup-link":function(){i.resetMessages();var e=h("login-username"),t=h("login-email"),n=h("login-username-or-email");c("login-password"),i.set("inSignupFlow",!0),i.set("inForgotPasswordFlow",!1),u.flush(),null!==e?document.getElementById("login-username").value=e:null!==t?document.getElementById("login-email").value=t:null!==n&&(-1===n.indexOf("@")?document.getElementById("login-username").value=n:document.getElementById("login-email").value=n);var r=document.getElementById("login-dropdown-list");r.style.display="none",r.offsetHeight,r.style.display="block"},"click #forgot-password-link":function(){i.resetMessages();var e=h("login-email"),t=h("login-username-or-email");i.set("inSignupFlow",!1),i.set("inForgotPasswordFlow",!0),u.flush(),null!==e?document.getElementById("forgot-password-email").value=e:null!==t&&-1!==t.indexOf("@")&&(document.getElementById("forgot-password-email").value=t)},"click #back-to-login-link":function(){i.resetMessages();var e=h("login-username"),t=h("login-email")||h("forgot-password-email");i.set("inSignupFlow",!1),i.set("inForgotPasswordFlow",!1),u.flush(),document.getElementById("login-username")&&(document.getElementById("login-username").value=e),document.getElementById("login-email")&&(document.getElementById("login-email").value=t),document.getElementById("login-username-or-email")&&(document.getElementById("login-username-or-email").value=t||e)},"keypress #login-username, keypress #login-email, keypress #login-username-or-email, keypress #login-password, keypress #login-password-again":function(e){13===e.keyCode&&m()}}),p._loginButtonsLoggedOutDropdown.additionalClasses=function(){return d.password?i.get("inSignupFlow")?"login-form-create-account":i.get("inForgotPasswordFlow")?"login-form-forgot-password":"login-form-sign-in":!1},p._loginButtonsLoggedOutDropdown.dropdownVisible=function(){return i.get("dropdownVisible")},p._loginButtonsLoggedOutDropdown.hasPasswordService=r,p._loginButtonsLoggedOutAllServices.services=n,p._loginButtonsLoggedOutAllServices.isPasswordService=function(){return"password"===this.name},p._loginButtonsLoggedOutAllServices.hasOtherServices=function(){return n().length>1},p._loginButtonsLoggedOutAllServices.hasPasswordService=r,p._loginButtonsLoggedOutPasswordService.fields=function(){var t=[{fieldName:"username-or-email",fieldLabel:"Username or Email",visible:function(){return f.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL"],e())}},{fieldName:"username",fieldLabel:"Username",visible:function(){return"USERNAME_ONLY"===e()}},{fieldName:"email",fieldLabel:"Email",inputType:"email",visible:function(){return"EMAIL_ONLY"===e()}},{fieldName:"password",fieldLabel:"Password",inputType:"password",visible:function(){return!0}}],n=[{fieldName:"username",fieldLabel:"Username",visible:function(){return f.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY"],e())}},{fieldName:"email",fieldLabel:"Email",inputType:"email",visible:function(){return f.contains(["USERNAME_AND_EMAIL","EMAIL_ONLY"],e())}},{fieldName:"email",fieldLabel:"Email (optional)",inputType:"email",visible:function(){return"USERNAME_AND_OPTIONAL_EMAIL"===e()}},{fieldName:"password",fieldLabel:"Password",inputType:"password",visible:function(){return!0}},{fieldName:"password-again",fieldLabel:"Password (again)",inputType:"password",visible:function(){return f.contains(["USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY"],e())}}];return i.get("inSignupFlow")?n:t},p._loginButtonsLoggedOutPasswordService.inForgotPasswordFlow=function(){return i.get("inForgotPasswordFlow")},p._loginButtonsLoggedOutPasswordService.inLoginFlow=function(){return!i.get("inSignupFlow")&&!i.get("inForgotPasswordFlow")},p._loginButtonsLoggedOutPasswordService.inSignupFlow=function(){return i.get("inSignupFlow")},p._loginButtonsLoggedOutPasswordService.showCreateAccountLink=function(){return!d._options.forbidClientAccountCreation},p._loginButtonsLoggedOutPasswordService.showForgotPasswordLink=function(){return f.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL","EMAIL_ONLY"],e())},p._loginButtonsFormField.inputType=function(){return this.inputType||"text"},p._loginButtonsChangePassword.events({"keypress #login-old-password, keypress #login-password, keypress #login-password-again":function(e){13===e.keyCode&&y()},"click #login-buttons-do-change-password":function(){y()}}),p._loginButtonsChangePassword.fields=function(){return[{fieldName:"old-password",fieldLabel:"Current Password",inputType:"password",visible:function(){return!0}},{fieldName:"password",fieldLabel:"New Password",inputType:"password",visible:function(){return!0}},{fieldName:"password-again",fieldLabel:"New Password (again)",inputType:"password",visible:function(){return f.contains(["USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY"],e())}}]};var c=function(e){var t=document.getElementById(e);return t?t.value:null},h=function(e){var t=document.getElementById(e);return t?t.value.replace(/^\s*|\s*$/g,""):null},m=function(){i.get("inSignupFlow")?v():g()},g=function(){i.resetMessages();var e,t=h("login-username"),n=h("login-email"),r=h("login-username-or-email"),s=c("login-password");if(null!==t){if(!o(t))return;e={username:t}}else if(null!==n){if(!a(n))return;e={email:n}}else{if(null===r)throw new Error("Unexpected -- no element to use as a login user selector");if(!o(r))return;e=r}l.loginWithPassword(e,s,function(e){e?i.errorMessage(e.reason||"Unknown error"):i.closeDropdown()})},v=function(){i.resetMessages();var e={},t=h("login-username");if(null!==t){if(!o(t))return;e.username=t}var n=h("login-email");if(null!==n){if(!a(n))return;e.email=n}var r=c("login-password");s(r)&&(e.password=r,b()&&d.createUser(e,function(e){e?i.errorMessage(e.reason||"Unknown error"):i.closeDropdown()}))},_=function(){i.resetMessages();var e=h("forgot-password-email");-1!==e.indexOf("@")?d.forgotPassword({email:e},function(e){e?i.errorMessage(e.reason||"Unknown error"):i.infoMessage("Email sent")}):i.errorMessage("Invalid email")},y=function(){i.resetMessages();var e=c("login-old-password"),t=c("login-password");s(t)&&b()&&d.changePassword(e,t,function(e){e?i.errorMessage(e.reason||"Unknown error"):(i.set("inChangePasswordFlow",!1),i.set("inMessageOnlyFlow",!0),i.infoMessage("Password changed"))})},b=function(){var e=c("login-password-again");if(null!==e){var t=c("login-password");if(t!==e)return i.errorMessage("Passwords don't match"),!1}return!0},w=function(){for(var e=document.getElementById("login-dropdown-list").parentNode;"BODY"!==e.nodeName;e=e.parentNode)0===e.style.zIndex&&(e.style.zIndex=1)}}.call(this),function(){var e=d._loginButtonsSession;d._resetPasswordToken&&e.set("resetPasswordToken",d._resetPasswordToken),d._enrollAccountToken&&e.set("enrollAccountToken",d._enrollAccountToken),l.startup(function(){d._verifyEmailToken&&d.verifyEmail(d._verifyEmailToken,function(t){d._enableAutoLogin(),t||e.set("justVerifiedEmail",!0)})}),p._resetPasswordDialog.events({"click #login-buttons-reset-password-button":function(){t()},"keypress #reset-password-new-password":function(e){13===e.keyCode&&t()},"click #login-buttons-cancel-reset-password":function(){e.set("resetPasswordToken",null),d._enableAutoLogin()}});var t=function(){e.resetMessages();var t=document.getElementById("reset-password-new-password").value;s(t)&&d.resetPassword(e.get("resetPasswordToken"),t,function(t){t?e.errorMessage(t.reason||"Unknown error"):(e.set("resetPasswordToken",null),d._enableAutoLogin())})};p._resetPasswordDialog.inResetPasswordFlow=function(){return e.get("resetPasswordToken")},p._enrollAccountDialog.events({"click #login-buttons-enroll-account-button":function(){n()},"keypress #enroll-account-password":function(e){13===e.keyCode&&n()},"click #login-buttons-cancel-enroll-account":function(){e.set("enrollAccountToken",null),d._enableAutoLogin()}});var n=function(){e.resetMessages();var t=document.getElementById("enroll-account-password").value;s(t)&&d.resetPassword(e.get("enrollAccountToken"),t,function(t){t?e.errorMessage(t.reason||"Unknown error"):(e.set("enrollAccountToken",null),d._enableAutoLogin())})};p._enrollAccountDialog.inEnrollAccountFlow=function(){return e.get("enrollAccountToken")},p._justVerifiedEmailDialog.events({"click #just-verified-dismiss-button":function(){e.set("justVerifiedEmail",!1)}}),p._justVerifiedEmailDialog.visible=function(){return e.get("justVerifiedEmail")},p._loginButtonsMessagesDialog.events({"click #messages-dialog-dismiss-button":function(){e.resetMessages()}}),p._loginButtonsMessagesDialog.visible=function(){var t=e.get("infoMessage")||e.get("errorMessage");return!i()&&t},p._configureLoginServiceDialog.events({"click .configure-login-service-dismiss-button":function(){e.set("configureLoginServiceDialogVisible",!1)},"click #configure-login-service-dialog-save-configuration":function(){if(e.get("configureLoginServiceDialogVisible")&&!e.get("configureLoginServiceDialogSaveDisabled")){var t=e.get("configureLoginServiceDialogServiceName"),n={service:t};f.each(a(),function(e){n[e.property]=document.getElementById("configure-login-service-dialog-"+e.property).value.replace(/^\s*|\s*$/g,"")}),l.call("configureLoginService",n,function(n){n?l._debug("Error configuring login service "+t,n):e.set("configureLoginServiceDialogVisible",!1)})}},"input, keyup input":function(e){0===e.target.id.indexOf("configure-login-service-dialog")&&r()}});var r=function(){var t=f.any(a(),function(e){return""===document.getElementById("configure-login-service-dialog-"+e.property).value});e.set("configureLoginServiceDialogSaveDisabled",t)},o=function(){var t=e.get("configureLoginServiceDialogServiceName");return p["configureLoginServiceDialogFor"+u(t)]},a=function(){var e=o();return e.fields()};p._configureLoginServiceDialog.configurationFields=function(){return a()},p._configureLoginServiceDialog.visible=function(){return e.get("configureLoginServiceDialogVisible")},p._configureLoginServiceDialog.configurationSteps=function(){return o()()},p._configureLoginServiceDialog.saveDisabled=function(){return e.get("configureLoginServiceDialogSaveDisabled")};var u=function(e){return e=null==e?"":String(e),e.charAt(0).toUpperCase()+e.slice(1)}}.call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-ui-unstyled"]={}}(),function(){Package.meteor.Meteor,"undefined"==typeof Package&&(Package={}),Package.less={}}(),function(){Package.meteor.Meteor,Package["accounts-base"].Accounts,"undefined"==typeof Package&&(Package={}),Package["accounts-ui"]={}}(),function(){var e,t,n,r,i,o,a=Package.meteor.Meteor,s=Package.underscore._;(function(){t=function(e,t){var n=160,r=function(e,t){return e.length>t?e.slice(0,t)+"...":e},i="failed ["+e+"]";return t&&(i+=" "+r(t.replace(/\n/g," "),n)),new Error(i)},n=function(e){var t=[];return s.each(e,function(e,n){t.length&&t.push("&"),t.push(r(n),"=",r(e))}),t.join("").replace(/%20/g,"+")},r=function(e){return encodeURIComponent(e).replace(/[!'()]/g,escape).replace(/\*/g,"%2A")},i=function(e,t,r,i){var o=e,a=t?t.slice(1):null;if("string"==typeof r&&(a=String(r)),i){a=a||"";var s=n(i);a&&s&&(a+="&"),a+=s}var l=o;return null!==a&&(l+="?"+a),l},o=function(e){var t=(e.headers["content-type"]||";").split(";")[0];if(s.include(["application/json","text/javascript"],t))try{e.data=JSON.parse(e.content)}catch(n){e.data=null}else e.data=null},e={},e.get=function(){return e.call.apply(this,["GET"].concat(s.toArray(arguments)))},e.post=function(){return e.call.apply(this,["POST"].concat(s.toArray(arguments)))},e.put=function(){return e.call.apply(this,["PUT"].concat(s.toArray(arguments)))},e.del=function(){return e.call.apply(this,["DELETE"].concat(s.toArray(arguments)))}}).call(this),function(){e.call=function(e,r,l,u){if(u||"function"!=typeof l||(u=l,l=null),l=l||{},"function"!=typeof u)throw new Error("Can't make a blocking HTTP call from the client; callback required.");e=(e||"").toUpperCase();var c={},d=l.content;l.data&&(d=JSON.stringify(l.data),c["Content-Type"]="application/json");var f,p;d||"GET"===e||"HEAD"===e?f=l.params:p=l.params;var h=/^(.*?)(\?.*)?$/.exec(r);if(r=i(h[1],h[2],l.query,f),l.followRedirects===!1)throw new Error("Option followRedirects:false not supported on client.");var m,g;if(l.auth){var v=l.auth.indexOf(":");if(0>v)throw new Error('auth option should be of the form "username:password"');m=l.auth.substring(0,v),g=l.auth.substring(v+1)}p&&(d=n(p)),s.extend(c,l.headers||{}),u=function(e){return function(t,n){t&&n&&(t.response=n),e(t,n)}}(u),u=s.once(u);try{var _;if("undefined"!=typeof XMLHttpRequest)_=new XMLHttpRequest;else{if("undefined"==typeof ActiveXObject)throw new Error("Can't create XMLHttpRequest");_=new ActiveXObject("Microsoft.XMLHttp")}_.open(e,r,!0,m,g);for(var y in c)_.setRequestHeader(y,c[y]);var b,w=!1;l.timeout&&(b=a.setTimeout(function(){w=!0,_.abort()},l.timeout)),_.onreadystatechange=function(){if(4===_.readyState)if(b&&a.clearTimeout(b),w)u(new Error("timeout"));else if(_.status){var e={};e.statusCode=_.status,e.content=_.responseText,e.headers={};var n=_.getAllResponseHeaders();""===n&&_.getResponseHeader("content-type")&&(n="content-type: "+_.getResponseHeader("content-type"));var r=n.split(/\r?\n/);s.each(r,function(t){var n=/^(.*?):(?:\s+)(.*)$/.exec(t);n&&3===n.length&&(e.headers[n[1].toLowerCase()]=n[2])}),o(e);var i=null;e.statusCode>=400&&(i=t(e.statusCode,e.content)),u(i,e)}else u(new Error("network"))},_.send(d)}catch(k){u(k)}}}.call(this),function(){a.http=e}.call(this),"undefined"==typeof Package&&(Package={}),Package.http={HTTP:e}}(),function(){Package.meteor.Meteor;var e;(function(){e={},e.initiateLogin=function(e,n,r,i){var o=t(n,i&&i.width||650,i&&i.height||331),a=setInterval(function(){try{var t=o.closed||void 0===o.closed}catch(n){return}t&&(clearInterval(a),r(e))},100)};var t=function(e,t,n){var r="undefined"!=typeof window.screenX?window.screenX:window.screenLeft,i="undefined"!=typeof window.screenY?window.screenY:window.screenTop,o="undefined"!=typeof window.outerWidth?window.outerWidth:document.body.clientWidth,a="undefined"!=typeof window.outerHeight?window.outerHeight:document.body.clientHeight-22,s=r+(o-t)/2,l=i+(a-n)/2,u="width="+t+",height="+n+",left="+s+",top="+l+",scrollbars=yes",c=window.open(e,"Login",u);return c.focus&&c.focus(),c}}).call(this),"undefined"==typeof Package&&(Package={}),Package.oauth={Oauth:e}}(),function(){Package.meteor.Meteor,Package.random.Random,Package["service-configuration"].ServiceConfiguration,Package.oauth.Oauth,"undefined"==typeof Package&&(Package={}),Package.oauth1={}}(),function(){var e=Package.meteor.Meteor;Package.http.HTTP;var t=Package.templating.Template,n=Package.oauth.Oauth,r=Package.random.Random,i=Package["service-configuration"].ServiceConfiguration;Package.spark.Spark;var o;(function(){t.__define__("configureLoginServiceDialogForTwitter",Package.handlebars.Handlebars.json_ast_to_func(['<p>\n    First, you\'ll need to register your app on Twitter. Follow these steps:\n  </p>\n  <ol>\n    <li>\n      Visit <a href="https://dev.twitter.com/apps/new" target="_blank">https://dev.twitter.com/apps/new</a>\n    </li>\n    <li>\n      Set Callback URL to: <span class="url">',["{",[[0,"siteUrl"]]],"_oauth/twitter?close</span>\n    </li>\n  </ol>"]))}).call(this),function(){t.configureLoginServiceDialogForTwitter.siteUrl=function(){return e.absoluteUrl({replaceLocalhost:!0})},t.configureLoginServiceDialogForTwitter.fields=function(){return[{property:"consumerKey",label:"Consumer key"},{property:"secret",label:"Consumer secret"}]}}.call(this),function(){o={},o.requestCredential=function(t,o){o||"function"!=typeof t||(o=t,t={});var a=i.configurations.findOne({service:"twitter"});if(!a)return o&&o(new i.ConfigError("Service not configured")),void 0;var s=r.id(),l=e.absoluteUrl("_oauth/twitter?close&state="+s),u="/_oauth/twitter/?requestTokenAndRedirect="+encodeURIComponent(l)+"&state="+s;n.initiateLogin(s,u,o)}}.call(this),"undefined"==typeof Package&&(Package={}),Package.twitter={Twitter:o}}(),function(){var e=Package.meteor.Meteor,t=Package["accounts-base"].Accounts,n=Package.twitter.Twitter;Package.http.HTTP,function(){if(t.oauth.registerService("twitter"),e.isClient)e.loginWithTwitter=function(e,r){r||"function"!=typeof e||(r=e,e=null);var i=t.oauth.credentialRequestCompleteHandler(r);n.requestCredential(e,i)};else{var r=_.map(n.whitelistedFields.concat(["id","screenName"]),function(e){return"services.twitter."+e});t.addAutopublishFields({forLoggedInUser:r,forOtherUsers:r})}}.call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-twitter"]={}}(),function(){Package.meteor.Meteor,Package.templating.Template,Package.underscore._,Package.spark.Spark,"undefined"==typeof Package&&(Package={}),Package.spiderable={}}(),function(){Package.meteor.Meteor,"undefined"==typeof Package&&(Package={}),Package.email={}}(),function(){Package.meteor.Meteor;var e,t,n,r,i=Package.jquery.$,o=Package.jquery.jQuery,a=Package.underscore._;(function(){!function(e,t){var r={};"undefined"==typeof r&&(r={}),"function"!=typeof t&&(t=function(){return r}),function(){var e=function(){for(var e=arguments[0],t=1,n=arguments[t];n;)e=e.slice(0,-1)+n.slice(1),n=arguments[++t];return e},t=function(e){return"(?:"+e+")"},n="[A-Za-z]",i="[0-9]",o=e(i,"[A-Fa-f]"),a=t("%"+o+o),s="[\\:\\/\\?\\#\\[\\]\\@]",l="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",u=e(s,l),c=e(n,i,"[\\-\\.\\_\\~]"),d=t(n+e(n,i,"[\\+\\-\\.]")+"*"),f=t(t(a+"|"+e(c,l,"[\\:]"))+"*"),p=t(t("25[0-5]")+"|"+t("2[0-4]"+i)+"|"+t("1"+i+i)+"|"+t("[1-9]"+i)+"|"+i),h=t(p+"\\."+p+"\\."+p+"\\."+p),m=t(o+"{1,4}"),g=(t(t(m+"\\:"+m)+"|"+h),t(e(c,l,"[\\:]")+"+")),v=t("v"+o+"+\\."+e(c,l,"[\\:]")+"+"),_=t("\\["+t(g+"|"+v)+"\\]"),y=t(t(a+"|"+e(c,l))+"*"),b=t(_+"|"+h+"|"+y),w=t(i+"*"),k=t(t(f+"@")+"?"+b+t("\\:"+w)+"?"),M=t(a+"|"+e(c,l,"[\\:\\@]")),T=t(M+"*"),S=t(M+"+"),x=t(t(a+"|"+e(c,l,"[\\@]"))+"+"),E=t(t("\\/"+T)+"*"),L=t("\\/"+t(S+E)+"?"),D=t(x+E),C=t(S+E),P=t(""),I=(t(E+"|"+L+"|"+D+"|"+C+"|"+P),t(t(M+"|[\\/\\?]")+"*")),A=t(t(M+"|[\\/\\?]")+"*"),N=t(t("\\/\\/"+k+E)+"|"+L+"|"+C+"|"+P),O=t(d+"\\:"+N+t("\\?"+I)+"?"+t("\\#"+A)+"?"),Y=t(t("\\/\\/"+k+E)+"|"+L+"|"+D+"|"+P),j=t(Y+t("\\?"+I)+"?"+t("\\#"+A)+"?"),R=(t(O+"|"+j),t(d+"\\:"+N+t("\\?"+I)+"?"),new RegExp("^"+t("("+O+")|("+j+")")+"$")),B=new RegExp("^("+d+")\\:"+t(t("\\/\\/("+t("("+f+")@")+"?("+b+")"+t("\\:("+w+")")+"?)")+"?("+E+"|"+L+"|"+C+"|"+P+")")+t("\\?("+I+")")+"?"+t("\\#("+A+")")+"?$"),F=new RegExp("^(){0}"+t(t("\\/\\/("+t("("+f+")@")+"?("+b+")"+t("\\:("+w+")")+"?)")+"?("+E+"|"+L+"|"+D+"|"+P+")")+t("\\?("+I+")")+"?"+t("\\#("+A+")")+"?$"),U=(new RegExp("^("+d+")\\:"+t(t("\\/\\/("+t("("+f+")@")+"?("+b+")"+t("\\:("+w+")")+"?)")+"?("+E+"|"+L+"|"+C+"|"+P+")")+t("\\?("+I+")")+"?$"),new RegExp("^"+t("\\#("+A+")")+"?$"),new RegExp("^"+t("("+f+")@")+"?("+b+")"+t("\\:("+w+")")+"?$"),new RegExp(e("[^]",n,i,"[\\+\\-\\.]"),"g")),$=new RegExp(e("[^\\%\\:]",c,l),"g"),H=new RegExp(e("[^\\%]",c,l),"g"),q=new RegExp(e("[^\\%\\/\\:\\@]",c,l),"g"),V=new RegExp(e("[^\\%\\/\\@]",c,l),"g"),z=new RegExp(e("[^\\%]",c,l,"[\\:\\@\\/\\?]"),"g"),W=z,J=new RegExp(e("[^]",c,l),"g"),K=new RegExp(c,"g"),G=(new RegExp(e("[^\\%]",c,u),"g"),new RegExp(a+"+","g")),X=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?([^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/i,Q=/^\.\.?\//,Z=/^\/\.(\/|$)/,et=/^\/\.\.(\/|$)/,tt=/^\/?.*?(?=\/|$)/,nt=void 0==="".match(/(){0}/)[1],rt=function(e){var t=e.charCodeAt(0);return 128>t?"%"+t.toString(16).toUpperCase():t>127&&2048>t?"%"+(192|t>>6).toString(16).toUpperCase()+"%"+(128|63&t).toString(16).toUpperCase():"%"+(224|t>>12).toString(16).toUpperCase()+"%"+(128|63&t>>6).toString(16).toUpperCase()+"%"+(128|63&t).toString(16).toUpperCase()},it=function(e){for(var t,n,r="",i=0;i<e.length;)t=parseInt(e.substr(i+1,2),16),128>t?(n=String.fromCharCode(t),r+=n.match(K)?n:e.substr(i,3),i+=3):t>191&&224>t?(r+=e.substr(i,6),i+=6):(r+=e.substr(i,9),i+=9);return r},ot=function(e){for(var t,n,r,i="",o=0;o<e.length;)t=parseInt(e.substr(o+1,2),16),128>t?(i+=String.fromCharCode(t),o+=3):t>191&&224>t?(n=parseInt(e.substr(o+4,2),16),i+=String.fromCharCode((31&t)<<6|63&n),o+=6):(n=parseInt(e.substr(o+4,2),16),r=parseInt(e.substr(o+7,2),16),i+=String.fromCharCode((15&t)<<12|(63&n)<<6|63&r),o+=9);return i},at=function(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()},st=function(){this.errors=[]},lt={};st.prototype={scheme:void 0,authority:void 0,userinfo:void 0,host:void 0,port:void 0,path:void 0,query:void 0,fragment:void 0,reference:void 0,errors:void 0},lt.SCHEMES={},lt.parse=function(e,t){var n,r,i=new st;return e=e?e.toString():"",t=t||{},"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e),n=e.match(R),n&&(n=n[1]?e.match(B):e.match(F)),n||(t.tolerant||i.errors.push("URI is not strictly valid."),n=e.match(X)),n?(nt?(i.scheme=n[1],i.authority=n[2],i.userinfo=n[3],i.host=n[4],i.port=parseInt(n[5],10),i.path=n[6]||"",i.query=n[7],i.fragment=n[8],isNaN(i.port)&&(i.port=n[5])):(i.scheme=n[1]||void 0,i.authority=-1!==e.indexOf("//")?n[2]:void 0,i.userinfo=-1!==e.indexOf("@")?n[3]:void 0,i.host=-1!==e.indexOf("//")?n[4]:void 0,i.port=parseInt(n[5],10),i.path=n[6]||"",i.query=-1!==e.indexOf("?")?n[7]:void 0,i.fragment=-1!==e.indexOf("#")?n[8]:void 0,isNaN(i.port)&&(i.port=e.match(/\/\/.*\:(?:\/|\?|\#|$)/)?n[4]:void 0)),i.reference=i.scheme||i.authority||i.path||i.query?i.scheme?i.fragment?"uri":"absolute":"relative":"same-document",t.reference&&"suffix"!==t.reference&&t.reference!==i.reference&&i.errors.push("URI is not a "+t.reference+" reference."),r=lt.SCHEMES[i.scheme||t.scheme],r&&r.parse&&r.parse(i,t)):i.errors.push("URI can not be parsed."),i},lt._recomposeAuthority=function(e){var t=[];return(void 0!==e.userinfo||void 0!==e.host||"number"==typeof e.port)&&(void 0!==e.userinfo&&(t.push(e.userinfo.toString().replace($,rt)),t.push("@")),void 0!==e.host&&t.push(e.host.toString().toLowerCase().replace(H,rt)),"number"==typeof e.port&&(t.push(":"),t.push(e.port.toString(10)))),t.length?t.join(""):void 0},lt.removeDotSegments=function(e){for(var t,n=[];e.length;)e.match(Q)?e=e.replace(Q,""):e.match(Z)?e=e.replace(Z,"/"):e.match(et)?(e=e.replace(et,"/"),n.pop()):"."===e||".."===e?e="":(t=e.match(tt)[0],e=e.slice(t.length),n.push(t));return n.join("")},lt.serialize=function(e,t){var n,r,i=[];return t=t||{},n=lt.SCHEMES[e.scheme||t.scheme],n&&n.serialize&&n.serialize(e,t),"suffix"!==t.reference&&e.scheme&&(i.push(e.scheme.toString().toLowerCase().replace(U,"")),i.push(":")),e.authority=lt._recomposeAuthority(e),void 0!==e.authority&&("suffix"!==t.reference&&i.push("//"),i.push(e.authority),e.path&&"/"!==e.path.charAt(0)&&i.push("/")),e.path&&(r=lt.removeDotSegments(e.path.toString().replace(/%2E/gi,".")),r=e.scheme?r.replace(q,rt):r.replace(V,rt),void 0===e.authority&&(r=r.replace(/^\/\//,"/%2F")),i.push(r)),e.query&&(i.push("?"),i.push(e.query.toString().replace(z,rt))),e.fragment&&(i.push("#"),i.push(e.fragment.toString().replace(W,rt))),i.join("").replace(G,it).replace(/%[0-9A-Fa-f]{2}/g,function(e){return e.toUpperCase()})},lt.resolveComponents=function(e,t,n,r){var i=new st;return r||(e=lt.parse(lt.serialize(e,n),n),t=lt.parse(lt.serialize(t,n),n)),n=n||{},!n.tolerant&&t.scheme?(i.scheme=t.scheme,i.authority=t.authority,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=lt.removeDotSegments(t.path),i.query=t.query):(void 0!==t.authority?(i.authority=t.authority,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=lt.removeDotSegments(t.path),i.query=t.query):(t.path?("/"===t.path.charAt(0)?i.path=lt.removeDotSegments(t.path):(i.path=void 0===e.authority||e.path?e.path?e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:t.path:"/"+t.path,i.path=lt.removeDotSegments(i.path)),i.query=t.query):(i.path=e.path,i.query=void 0!==t.query?t.query:e.query),i.authority=e.authority,i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i},lt.resolve=function(e,t,n){return lt.serialize(lt.resolveComponents(lt.parse(e,n),lt.parse(t,n),n,!0),n)},lt.normalize=function(e,t){return"string"==typeof e?lt.serialize(lt.parse(e,t),t):"object"===at(e)?lt.parse(lt.serialize(e,t),t):e},lt.equal=function(e,t,n){return"string"==typeof e?e=lt.serialize(lt.parse(e,n),n):"object"===at(e)&&(e=lt.serialize(e,n)),"string"==typeof t?t=lt.serialize(lt.parse(t,n),n):"object"===at(t)&&(t=lt.serialize(t,n)),e===t},lt.escapeComponent=function(e){return e&&e.toString().replace(J,rt)},lt.unescapeComponent=function(e){return e&&e.toString().replace(G,ot)},r.Components=st,r.URI=lt,r.URI={SCHEMES:lt.SCHEMES,parse:lt.parse,removeDotSegments:lt.removeDotSegments,serialize:lt.serialize,resolveComponents:lt.resolveComponents,resolve:lt.resolve,normalize:lt.normalize,equal:lt.equal,escapeComponent:lt.escapeComponent,unescapeComponent:lt.unescapeComponent}}();var r=r||this,t=t||function(){return r};!function(){function e(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function n(){}function i(e){return n.prototype=e||{},new n}function o(e,t,n){var r,i={};for(r in e)e[r]!==T[r]&&(i[r]=t.call(n,e[r],r,e));return i}function a(e){return void 0!==e&&null!==e?e instanceof Array&&!e.callee?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}function s(t){var n,r=[];switch(e(t)){case"object":for(n in t)t[n]!==T[n]&&(r[r.length]=n);break;case"array":for(n=t.length-1;n>=0;--n)r[n]=n}return r}function l(e,t){return-1===w(e,t)&&e.push(t),e}function u(e,t){var n=w(e,t);return n>-1&&e.splice(n,1),e}function c(){return[S[Math.floor(16*Math.random())],S[Math.floor(16*Math.random())],S[Math.floor(16*Math.random())],S[Math.floor(16*Math.random())],S[Math.floor(16*Math.random())],S[Math.floor(16*Math.random())],S[Math.floor(16*Math.random())],S[Math.floor(16*Math.random())],"-",S[Math.floor(16*Math.random())],S[Math.floor(16*Math.random())],S[Math.floor(16*Math.random())],S[Math.floor(16*Math.random())],"-4",S[Math.floor(16*Math.random())],S[Math.floor(16*Math.random())],S[Math.floor(16*Math.random())],"-",S[8|3&Math.floor(16*Math.random())],S[Math.floor(16*Math.random())],S[Math.floor(16*Math.random())],S[Math.floor(16*Math.random())],"-",S[Math.floor(16*Math.random())],S[Math.floor(16*Math.random())],S[Math.floor(16*Math.random())],S[Math.floor(16*Math.random())],S[Math.floor(16*Math.random())],S[Math.floor(16*Math.random())],S[Math.floor(16*Math.random())],S[Math.floor(16*Math.random())],S[Math.floor(16*Math.random())],S[Math.floor(16*Math.random())],S[Math.floor(16*Math.random())],S[Math.floor(16*Math.random())]].join("")}function d(e){return encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")}function f(e){return"string"==typeof e&&-1===e.indexOf("#")&&(e+="#"),e}function p(){this.errors=[],this.validated={}}function h(e,t,n,r){t instanceof h&&("string"!=typeof r&&(r=t._fd),"string"!=typeof n&&(n=t._uri),t=t._value),"string"!=typeof n?n="urn:uuid:"+c()+"#":-1===n.indexOf(":")&&(n=f(M.resolve("urn:uuid:"+c()+"#",n))),this._env=e,this._value=t,this._uri=n,this._fd=r||this._env._options.defaultFragmentDelimiter}function m(t,n){var r,o;switch(t instanceof h&&(t=t.getValue()),e(t)){case"object":if(n){r={};for(o in t)t[o]!==T[o]&&(r[o]=m(t[o],n));return r}return i(t);case"array":if(n){for(r=new Array(t.length),o=t.length;--o>=0;)r[o]=m(t[o],n);return r}return Array.prototype.slice.call(t);default:return t}}function g(e,t,n,r){var i;h.call(this,e,t,n),this._schema=r===!0?this:t instanceof g&&!(r instanceof g)?t._schema:r instanceof g?r:this._env.getDefaultSchema()||g.createEmptySchema(this._env),i=this._schema.getValueOfProperty("fragmentResolution"),"dot-delimited"===i?this._fd=".":"slash-delimited"===i&&(this._fd="/")}function v(t,n,r){var i,o,a=e(t),s=e(n);if("undefined"===s)return m(t,!0);if("undefined"===a||s!==a)return m(n,!0);if("object"===s){t instanceof g&&(t=t.getAttributes()),n instanceof g&&(n=n.getAttributes(),n["extends"]&&r&&n["extends"]instanceof g&&(n["extends"]=[n["extends"]])),i=m(t,!0);for(o in n)n[o]!==T[o]&&(i[o]=v(t[o],n[o],r));return i}return m(n,!0)}function _(){this._id=c(),this._schemas={},this._options={}}var y,b,w,k,M=t("./uri/uri").URI,T={},S="0123456789abcdef".split("");y=function(e,t,n){for(var r=0,i=e.length,o=new Array(i);i>r;++r)o[r]=t.call(n,e[r],r,e);return o},Array.prototype.map&&(y=function(e,t,n){return Array.prototype.map.call(e,t,n)}),b=function(e,t,n){for(var r=0,i=e.length,o=[];i>r;++r)t.call(n,e[r],r,e)&&(o[o.length]=e[r]);return o},Array.prototype.filter&&(b=function(e,t,n){return Array.prototype.filter.call(e,t,n)}),w=function(e,t){for(var n=0,r=e.length;r>n;++n)if(e[n]===t)return n;return-1},Array.prototype.indexOf&&(w=function(e,t){return Array.prototype.indexOf.call(e,t)}),p.prototype.addError=function(e,t,n,r,i){this.errors.push({uri:e instanceof h?e.getURI():e,schemaUri:t instanceof h?t.getURI():t,attribute:n,message:r,details:i})},p.prototype.registerValidation=function(e,t){this.validated[e]?this.validated[e].push(t):this.validated[e]=[t]},p.prototype.isValidatedBy=function(e,t){return!!this.validated[e]&&-1!==w(this.validated[e],t)},h.prototype.getEnvironment=function(){return this._env},h.prototype.getType=function(){return e(this._value)},h.prototype.getValue=function(){return this._value},h.prototype.getURI=function(){return this._uri},h.prototype.resolveURI=function(e){return f(M.resolve(this._uri,e))},h.prototype.getPropertyNames=function(){return s(this._value)},h.prototype.getProperty=function(e){var t=this._value?this._value[e]:void 0;
return t instanceof h?t:new h(this._env,t,this._uri+this._fd+d(e),this._fd)},h.prototype.getProperties=function(){var t=e(this._value),n=this;return"object"===t?o(this._value,function(e,t){return e instanceof h?e:new h(n._env,e,n._uri+n._fd+d(t),n._fd)}):"array"===t?y(this._value,function(e,t){return e instanceof h?e:new h(n._env,e,n._uri+n._fd+d(t),n._fd)}):void 0},h.prototype.getValueOfProperty=function(e){return this._value?this._value[e]instanceof h?this._value[e]._value:this._value[e]:void 0},h.prototype.equals=function(e){return e instanceof h?this._value===e._value:this._value===e},g.prototype=i(h.prototype),g.createEmptySchema=function(e){var t=i(g.prototype);return h.call(t,e,{},void 0,void 0),t._schema=t,t},g.prototype.getSchema=function(){return this._schema},g.prototype.getAttribute=function(e,t){var n,r,i,o;return!t&&this._attributes&&this._attributes.hasOwnProperty(e)?this._attributes[e]:(n=this._schema.getProperty("properties").getProperty(e),r=n.getValueOfProperty("parser"),i=this.getProperty(e),"function"==typeof r?(o=r(i,n,t),!t&&this._attributes&&(this._attributes[e]=o),o):i.getValue())},g.prototype.getAttributes=function(){var e,t,n,r,i;if(!this._attributes&&"object"===this.getType()){e=this.getProperties(),t=this._schema.getProperty("properties"),this._attributes={};for(n in e)e[n]!==T[n]&&(r=t&&t.getProperty(n),i=r&&r.getValueOfProperty("parser"),this._attributes[n]="function"==typeof i?i(e[n],r):e[n].getValue())}return m(this._attributes,!1)},g.prototype.getLink=function(e,t){var n=this.getAttribute("links",[e,t]);return n&&n.length&&n[n.length-1]?n[n.length-1]:void 0},g.prototype.validate=function(e,t,n,r,i){var o=this._schema.getValueOfProperty("validator");return e instanceof h||(e=this.getEnvironment().createInstance(e)),t instanceof p||(t=new p),"function"!=typeof o||t.isValidatedBy(e.getURI(),this.getURI())||(t.registerValidation(e.getURI(),this.getURI()),o(e,this,this._schema,t,n,r,i)),t},_.prototype.clone=function(){var e=new _;return e._schemas=i(this._schemas),e._options=i(this._options),e},_.prototype.createInstance=function(e,t){var n;return t=f(t),e instanceof h&&(!t||e.getURI()===t)?e:n=new h(this,e,t)},_.prototype.createSchema=function(e,t,n){var r,i;return n=f(n),!(e instanceof g)||n&&e._uri!==n||t&&!e._schema.equals(t)?(r=new g(this,e,n,t),i=r.getSchema().getValueOfProperty("initializer"),"function"==typeof i&&(r=i(r)),this._schemas[r._uri]=r,this._schemas[n]=r,r.getAttributes(),r):e},_.prototype.createEmptySchema=function(){var e=g.createEmptySchema(this);return this._schemas[e._uri]=e,e},_.prototype.findSchema=function(e){return this._schemas[f(e)]},_.prototype.setOption=function(e,t){this._options[e]=t},_.prototype.getOption=function(e){return this._options[e]},_.prototype.setDefaultFragmentDelimiter=function(e){"string"==typeof e&&e.length>0&&(this._options.defaultFragmentDelimiter=e)},_.prototype.getDefaultFragmentDelimiter=function(){return this._options.defaultFragmentDelimiter},_.prototype.setDefaultSchemaURI=function(e){"string"==typeof e&&(this._options.defaultSchemaURI=f(e))},_.prototype.getDefaultSchema=function(){return this.findSchema(this._options.defaultSchemaURI)},_.prototype.validate=function(e,t){var n,r,i,o=new p;try{n=this.createInstance(e),o.instance=n}catch(a){o.addError(a.uri,a.schemaUri,a.attribute,a.message,a.details)}try{r=this.createSchema(t),o.schema=r,i=r.getSchema(),o.schemaSchema=i}catch(a){o.addError(a.uri,a.schemaUri,a.attribute,a.message,a.details)}return i&&i.validate(r,o),o.errors.length?o:r.validate(n,o)},_.prototype._checkForInvalidInstances=function(t,n){for(var r,i,o,a,s,l=[],u=[[n,this._schemas[n]]],c=0;c++<t&&u.length;)if(r=u.shift(),i=r[0],o=r[1],o instanceof g)if(this._schemas[o._uri]!==o)l.push("Instance "+i+" does not match "+o._uri);else{a=o.getAttributes();for(s in a)a[s]!==T[s]&&u.push([i+"/"+d(s),a[s]])}else if("object"===e(o)){a=o;for(s in a)a.hasOwnProperty(s)&&u.push([i+"/"+d(s),a[s]])}else if("array"===e(o))for(a=o,s=0;s<a.length;++s)u.push([i+"/"+d(s),a[s]]);return l.length?l:c},k={_environments:{},_defaultEnvironmentID:"",isJSONInstance:function(e){return e instanceof h},isJSONSchema:function(e){return e instanceof g},createEnvironment:function(e){if(e=e||this._defaultEnvironmentID,!this._environments[e])throw new Error("Unknown Environment ID");return this._environments[e].clone()},Environment:_,registerEnvironment:function(e,t){e=e||(t||0)._id,e&&!this._environments[e]&&t instanceof _&&(t._id=e,this._environments[e]=t)},setDefaultEnvironmentID:function(e){if("string"==typeof e){if(!this._environments[e])throw new Error("Unknown Environment ID");this._defaultEnvironmentID=e}},getDefaultEnvironmentID:function(){return this._defaultEnvironmentID},typeOf:e,createObject:i,mapObject:o,mapArray:y,filterArray:b,searchArray:w,toArray:a,keys:s,pushUnique:l,popFirst:u,clone:m,randomUUID:c,escapeURIComponent:d,formatURI:f,inherits:v},this.JSV=k,r.JSV=k,t("./environments")}(),function(){function e(e,t,n,r){var i,o,a,s,l,u={};if("object"===e.getType()){i=t.getAttribute("patternProperties"),s=e.getProperties();for(o in i)if(i[o]!==C[o]){a=null;try{a=new RegExp(o)}catch(c){n&&n.addError(t,r,"patternProperties","Invalid pattern",o)}if(a)for(l in s)s[l]!==C[l]&&a.test(l)&&(u[l]=u[l]?P.pushUnique(u[l],i[o]):[i[o]])}}return u}var r,i,o,a,s,l,u,c,d,f,p,h,m,g,v,_,y,b,w,k,M,T,S,x,E,L,D,C={},P=t("./jsv").JSV;r=function(e,t,n,r,i){Error.call(this,r),this.uri=e.getURI(),this.schemaUri=t.getURI(),this.attribute=n,this.message=r,this.description=r,this.details=i},r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="InitializationError",i={string:function(e){return"string"===e.getType()},number:function(e){return"number"===e.getType()},integer:function(e){return"number"===e.getType()&&0===e.getValue()%1},"boolean":function(e){return"boolean"===e.getType()},object:function(e){return"object"===e.getType()},array:function(e){return"array"===e.getType()},"null":function(e){return"null"===e.getType()},any:function(){return!0}},o=new P.Environment,o.setOption("strict",!1),o.setOption("validateReferences",!1),a={$schema:"http://json-schema.org/draft-00/hyper-schema#",id:"http://json-schema.org/draft-00/schema#",type:"object",properties:{type:{type:["string","array"],items:{type:["string",{$ref:"#"}]},optional:!0,uniqueItems:!0,"default":"any",parser:function(e,t){var n;return"string"===e.getType()?e.getValue():"object"===e.getType()?e.getEnvironment().createSchema(e,t.getEnvironment().findSchema(t.resolveURI("#"))):"array"===e.getType()?(n=t.getValueOfProperty("parser"),P.mapArray(e.getProperties(),function(e){return n(e,t)})):"any"},validator:function(e,t,n,r,i,o,a){var s,l,u,c,d,f=P.toArray(t.getAttribute("type"));if("undefined"!==e.getType()&&f&&f.length){for(d=n.getValueOfProperty("typeValidators")||{},s=0,l=f.length;l>s;++s)if(u=f[s],P.isJSONSchema(u)){if(c=P.createObject(r),c.errors=[],c.validated=P.clone(r.validated),0===u.validate(e,c,i,o,a).errors.length)return!0}else{if(d[u]===C[u]||"function"!=typeof d[u])return!0;if(d[u](e,r))return!0}return r.addError(e,t,"type","Instance is not a required type",f),!1}return!0},typeValidators:i},properties:{type:"object",additionalProperties:{$ref:"#"},optional:!0,"default":{},parser:function(e,t,n){var r=e.getEnvironment(),i=t.getEnvironment();return"object"===e.getType()?n?r.createSchema(e.getProperty(n),i.findSchema(t.resolveURI("#"))):P.mapObject(e.getProperties(),function(e){return r.createSchema(e,i.findSchema(t.resolveURI("#")))}):{}},validator:function(e,t,n,r){var i,o;if("object"===e.getType()){i=t.getAttribute("properties");for(o in i)i[o]!==C[o]&&i[o]&&i[o].validate(e.getProperty(o),r,e,t,o)}}},items:{type:[{$ref:"#"},"array"],items:{$ref:"#"},optional:!0,"default":{},parser:function(e,t){return"object"===e.getType()?e.getEnvironment().createSchema(e,t.getEnvironment().findSchema(t.resolveURI("#"))):"array"===e.getType()?P.mapArray(e.getProperties(),function(e){return e.getEnvironment().createSchema(e,t.getEnvironment().findSchema(t.resolveURI("#")))}):e.getEnvironment().createEmptySchema()},validator:function(e,t,n,r){var i,o,a,s,l,u;if("array"===e.getType())if(i=e.getProperties(),o=t.getAttribute("items"),u=t.getAttribute("additionalProperties"),"array"===P.typeOf(o))for(a=0,s=i.length;s>a;++a)l=o[a]||u,l!==!1?l.validate(i[a],r,e,t,a):r.addError(e,t,"additionalProperties","Additional items are not allowed",l);else for(l=o||u,a=0,s=i.length;s>a;++a)l.validate(i[a],r,e,t,a)}},optional:{type:"boolean",optional:!0,"default":!1,parser:function(e){return!!e.getValue()},validator:function(e,t,n,r){"undefined"!==e.getType()||t.getAttribute("optional")||r.addError(e,t,"optional","Property is required",!1)},validationRequired:!0},additionalProperties:{type:[{$ref:"#"},"boolean"],optional:!0,"default":{},parser:function(e,t){return"object"===e.getType()?e.getEnvironment().createSchema(e,t.getEnvironment().findSchema(t.resolveURI("#"))):"boolean"===e.getType()&&e.getValue()===!1?!1:e.getEnvironment().createEmptySchema()},validator:function(e,t,n,r){var i,o,a,s;if("object"===e.getType()){i=t.getAttribute("additionalProperties"),o=t.getAttribute("properties")||{},a=e.getProperties();for(s in a)a[s]!==C[s]&&a[s]&&o[s]===C[s]&&(P.isJSONSchema(i)?i.validate(a[s],r,e,t,s):i===!1&&r.addError(e,t,"additionalProperties","Additional properties are not allowed",i))}}},requires:{type:["string",{$ref:"#"}],optional:!0,parser:function(e,t){return"string"===e.getType()?e.getValue():"object"===e.getType()?e.getEnvironment().createSchema(e,t.getEnvironment().findSchema(t.resolveURI("#"))):void 0},validator:function(e,t,n,r,i){var o;"undefined"!==e.getType()&&i&&"undefined"!==i.getType()&&(o=t.getAttribute("requires"),"string"==typeof o?"undefined"===i.getProperty(o).getType()&&r.addError(e,t,"requires",'Property requires sibling property "'+o+'"',o):P.isJSONSchema(o)&&o.validate(i,r))}},minimum:{type:"number",optional:!0,parser:function(e){return"number"===e.getType()?e.getValue():void 0},validator:function(e,t,n,r){var i,o;"number"===e.getType()&&(i=t.getAttribute("minimum"),o=t.getAttribute("minimumCanEqual"),"number"==typeof i&&(e.getValue()<i||o===!1&&e.getValue()===i)&&r.addError(e,t,"minimum","Number is less then the required minimum value",i))}},maximum:{type:"number",optional:!0,parser:function(e){return"number"===e.getType()?e.getValue():void 0},validator:function(e,t,n,r){var i,o;"number"===e.getType()&&(i=t.getAttribute("maximum"),o=t.getAttribute("maximumCanEqual"),"number"==typeof i&&(e.getValue()>i||o===!1&&e.getValue()===i)&&r.addError(e,t,"maximum","Number is greater then the required maximum value",i))}},minimumCanEqual:{type:"boolean",optional:!0,requires:"minimum","default":!0,parser:function(e){return"boolean"===e.getType()?e.getValue():!0}},maximumCanEqual:{type:"boolean",optional:!0,requires:"maximum","default":!0,parser:function(e){return"boolean"===e.getType()?e.getValue():!0}},minItems:{type:"integer",optional:!0,minimum:0,"default":0,parser:function(e){return"number"===e.getType()?e.getValue():0},validator:function(e,t,n,r){var i;"array"===e.getType()&&(i=t.getAttribute("minItems"),"number"==typeof i&&e.getProperties().length<i&&r.addError(e,t,"minItems","The number of items is less then the required minimum",i))}},maxItems:{type:"integer",optional:!0,minimum:0,parser:function(e){return"number"===e.getType()?e.getValue():void 0},validator:function(e,t,n,r){var i;"array"===e.getType()&&(i=t.getAttribute("maxItems"),"number"==typeof i&&e.getProperties().length>i&&r.addError(e,t,"maxItems","The number of items is greater then the required maximum",i))}},pattern:{type:"string",optional:!0,format:"regex",parser:function(e){if("string"===e.getType())try{return new RegExp(e.getValue())}catch(t){return t}},validator:function(e,t,n,r){var i;try{i=t.getAttribute("pattern"),i instanceof Error?r.addError(t,n,"pattern","Invalid pattern",t.getValueOfProperty("pattern")):"string"===e.getType()&&i&&!i.test(e.getValue())&&r.addError(e,t,"pattern","String does not match pattern",i.toString())}catch(o){r.addError(t,n,"pattern","Invalid pattern",t.getValueOfProperty("pattern"))}}},minLength:{type:"integer",optional:!0,minimum:0,"default":0,parser:function(e){return"number"===e.getType()?e.getValue():0},validator:function(e,t,n,r){var i;"string"===e.getType()&&(i=t.getAttribute("minLength"),"number"==typeof i&&e.getValue().length<i&&r.addError(e,t,"minLength","String is less then the required minimum length",i))}},maxLength:{type:"integer",optional:!0,parser:function(e){return"number"===e.getType()?e.getValue():void 0},validator:function(e,t,n,r){var i;"string"===e.getType()&&(i=t.getAttribute("maxLength"),"number"==typeof i&&e.getValue().length>i&&r.addError(e,t,"maxLength","String is greater then the required maximum length",i))}},"enum":{type:"array",optional:!0,minItems:1,uniqueItems:!0,parser:function(e){return"array"===e.getType()?e.getValue():void 0},validator:function(e,t,n,r){var i,o,a;if("undefined"!==e.getType()&&(i=t.getAttribute("enum"))){for(o=0,a=i.length;a>o;++o)if(e.equals(i[o]))return!0;r.addError(e,t,"enum","Instance is not one of the possible values",i)}}},title:{type:"string",optional:!0},description:{type:"string",optional:!0},format:{type:"string",optional:!0,parser:function(e){return"string"===e.getType()?e.getValue():void 0},validator:function(e,t,n,r){var i,o;"string"===e.getType()&&(i=t.getAttribute("format"),o=n.getValueOfProperty("formatValidators"),"string"!=typeof i||o[i]===C[i]||"function"!=typeof o[i]||o[i].call(this,e,r)||r.addError(e,t,"format","String is not in the required format",i))},formatValidators:{}},contentEncoding:{type:"string",optional:!0},"default":{type:"any",optional:!0},maxDecimal:{type:"integer",optional:!0,minimum:0,parser:function(e){return"number"===e.getType()?e.getValue():void 0},validator:function(e,t,n,r){var i,o;"number"===e.getType()&&(i=t.getAttribute("maxDecimal"),"number"==typeof i&&(o=e.getValue().toString(10).split(".")[1],o&&o.length>i&&r.addError(e,t,"maxDecimal","The number of decimal places is greater then the allowed maximum",i)))}},disallow:{type:["string","array"],items:{type:"string"},optional:!0,uniqueItems:!0,parser:function(e){return"string"===e.getType()||"array"===e.getType()?e.getValue():void 0},validator:function(e,t,n,r,i,o,a){var s,l,u,c,d,f=P.toArray(t.getAttribute("disallow"));if("undefined"!==e.getType()&&f&&f.length){for(c=n.getValueOfProperty("typeValidators")||{},s=0,l=f.length;l>s;++s)if(u=f[s],P.isJSONSchema(u)){if(d=P.createObject(r),d.errors=[],d.validated=P.clone(r.validated),0===u.validate(e,d,i,o,a).errors.length)return r.addError(e,t,"disallow","Instance is a disallowed type",f),!1}else if(c[u]!==C[u]&&"function"==typeof c[u]&&c[u](e,r))return r.addError(e,t,"disallow","Instance is a disallowed type",f),!1;return!0}return!0},typeValidators:i},"extends":{type:[{$ref:"#"},"array"],items:{$ref:"#"},optional:!0,"default":{},parser:function(e,t){return"object"===e.getType()?e.getEnvironment().createSchema(e,t.getEnvironment().findSchema(t.resolveURI("#"))):"array"===e.getType()?P.mapArray(e.getProperties(),function(e){return e.getEnvironment().createSchema(e,t.getEnvironment().findSchema(t.resolveURI("#")))}):void 0},validator:function(e,t,n,r,i,o,a){var s,l,u=t.getAttribute("extends");if(u)if(P.isJSONSchema(u))u.validate(e,r,i,o,a);else if("array"===P.typeOf(u))for(s=0,l=u.length;l>s;++s)u[s].validate(e,r,i,o,a)}}},optional:!0,"default":{},fragmentResolution:"dot-delimited",parser:function(e,t){return"object"===e.getType()?e.getEnvironment().createSchema(e,t):void 0},validator:function(e,t,n,r,i,o,a){var s,l,u,c=t.getPropertyNames(),d=n.getAttribute("properties"),f=e.getEnvironment().getOption("strict");for(s in d)d[s]!==C[s]&&(d[s].getValueOfProperty("validationRequired")&&P.pushUnique(c,s),f&&d[s].getValueOfProperty("deprecated")&&P.popFirst(c,s));for(s=0,l=c.length;l>s;++s)d[c[s]]!==C[c[s]]&&(u=d[c[s]].getValueOfProperty("validator"),"function"==typeof u&&u(e,t,d[c[s]],r,i,o,a))}},s={$schema:"http://json-schema.org/draft-00/hyper-schema#",id:"http://json-schema.org/draft-00/hyper-schema#",properties:{links:{type:"array",items:{$ref:"links#"},optional:!0,parser:function(e,t,n){var r,i,o=t.getValueOfProperty("items").$ref,a=t.getEnvironment().findSchema(o),s=a&&a.getValueOfProperty("parser");return n=P.toArray(n),r="function"==typeof s?P.mapArray(e.getProperties(),function(e){return s(e,a)}):P.toArray(e.getValue()),n[0]&&(r=P.filterArray(r,function(e){return e.rel===n[0]})),n[1]&&(i=t.getValueOfProperty("selfReferenceVariable"),r=P.mapArray(r,function(e){var t=n[1],r=e.href;return r=r.replace(/\{(.+)\}/g,function(e,n){var r;return r=n===i?t.getValue():t.getValueOfProperty(n),void 0!==r?String(r):""}),r?P.formatURI(t.resolveURI(r)):r})),r},selfReferenceVariable:"-this"},fragmentResolution:{type:"string",optional:!0,"default":"dot-delimited"},root:{type:"boolean",optional:!0,"default":!1},readonly:{type:"boolean",optional:!0,"default":!1},pathStart:{type:"string",optional:!0,format:"uri",validator:function(e,t,n,r){var i;"undefined"!==e.getType()&&(i=t.getAttribute("pathStart"),"string"==typeof i&&0!==e.getURI().indexOf(i)&&r.addError(e,t,"pathStart","Instance's URI does not start with "+i,i))}},mediaType:{type:"string",optional:!0,format:"media-type"},alternate:{type:"array",items:{$ref:"#"},optional:!0}},links:[{href:"{$ref}",rel:"full"},{href:"{$schema}",rel:"describedby"},{href:"{id}",rel:"self"}],initializer:function(e){var t,i,o;if(t=e._schema.getLink("describedby",e),t&&e._schema._uri!==t){if(e._env._schemas[t])return e._schema=e._env._schemas[t],n=e._schema.getValueOfProperty("initializer"),"function"==typeof n?n(e):e;if(e._env._options.validateReferences)throw new r(e,e._schema,"{link:describedby}","Unknown schema reference",t)}if(t=e._schema.getLink("full",e),t&&e._uri!==t){if(e._env._schemas[t])return e=e._env._schemas[t];if(e._env._options.validateReferences)throw new r(e,e._schema,"{link:full}","Unknown schema reference",t)}return i=e.getAttribute("extends"),P.isJSONSchema(i)&&(o=P.inherits(i,e,!0),e=e._env.createSchema(o,e._schema,e._uri)),t=e._schema.getLink("self",e),"string"===P.typeOf(t)&&(e._uri=P.formatURI(t)),e}},l={$schema:"http://json-schema.org/draft-00/hyper-schema#",id:"http://json-schema.org/draft-00/links#",type:"object",properties:{href:{type:"string"},rel:{type:"string"},method:{type:"string","default":"GET",optional:!0},enctype:{type:"string",requires:"method",optional:!0},properties:{type:"object",additionalProperties:{$ref:"hyper-schema#"},optional:!0,parser:function(e,t,n){var r=e.getEnvironment(),i=t.getEnvironment(),o=t.getValueOfProperty("additionalProperties").$ref;return"object"===e.getType()?n?r.createSchema(e.getProperty(n),i.findSchema(t.resolveURI(o))):P.mapObject(e.getProperties(),function(e){return r.createSchema(e,i.findSchema(t.resolveURI(o)))}):void 0}}},parser:function(e,t){var n=t.getProperty("properties");return"object"===e.getType()?P.mapObject(e.getProperties(),function(e,t){var r=n.getProperty(t),i=r&&r.getValueOfProperty("parser");return"function"==typeof i?i(e,r):e.getValue()}):e.getValue()}},o.setOption("defaultFragmentDelimiter","."),o.setOption("defaultSchemaURI","http://json-schema.org/draft-00/schema#"),u=o.createSchema(a,!0,"http://json-schema.org/draft-00/schema#"),c=o.createSchema(P.inherits(u,o.createSchema(s,!0,"http://json-schema.org/draft-00/hyper-schema#"),!0),!0,"http://json-schema.org/draft-00/hyper-schema#"),o.setOption("defaultSchemaURI","http://json-schema.org/draft-00/hyper-schema#"),d=o.createSchema(l,c,"http://json-schema.org/draft-00/links#"),u=o.createSchema(u.getValue(),c,"http://json-schema.org/draft-00/schema#"),c=o.createSchema(c.getValue(),c,"http://json-schema.org/draft-00/hyper-schema#"),d=o.createSchema(d.getValue(),c,"http://json-schema.org/draft-00/links#"),f=P.inherits(a,{$schema:"http://json-schema.org/draft-01/hyper-schema#",id:"http://json-schema.org/draft-01/schema#"}),p=P.inherits(s,{$schema:"http://json-schema.org/draft-01/hyper-schema#",id:"http://json-schema.org/draft-01/hyper-schema#"}),h=P.inherits(l,{$schema:"http://json-schema.org/draft-01/hyper-schema#",id:"http://json-schema.org/draft-01/links#"}),o.setOption("defaultSchemaURI","http://json-schema.org/draft-01/schema#"),m=o.createSchema(f,!0,"http://json-schema.org/draft-01/schema#"),g=o.createSchema(P.inherits(m,o.createSchema(p,!0,"http://json-schema.org/draft-01/hyper-schema#"),!0),!0,"http://json-schema.org/draft-01/hyper-schema#"),o.setOption("defaultSchemaURI","http://json-schema.org/draft-01/hyper-schema#"),v=o.createSchema(h,g,"http://json-schema.org/draft-01/links#"),m=o.createSchema(m.getValue(),g,"http://json-schema.org/draft-01/schema#"),g=o.createSchema(g.getValue(),g,"http://json-schema.org/draft-01/hyper-schema#"),v=o.createSchema(v.getValue(),g,"http://json-schema.org/draft-01/links#"),_=P.inherits(f,{$schema:"http://json-schema.org/draft-02/hyper-schema#",id:"http://json-schema.org/draft-02/schema#",properties:{uniqueItems:{type:"boolean",optional:!0,"default":!1,parser:function(e){return!!e.getValue()},validator:function(e,t,n,r){var i,o,a,s,l;if("array"===e.getType()&&t.getAttribute("uniqueItems"))for(i=e.getProperties(),o=0,a=i.length-1;a>o;++o)for(s=o+1,l=i.length;l>s;++s)i[o].equals(i[s])&&r.addError(e,t,"uniqueItems","Array can only contain unique items",{x:o,y:s})}},maxDecimal:{deprecated:!0},divisibleBy:{type:"number",minimum:0,minimumCanEqual:!1,optional:!0,parser:function(e){return"number"===e.getType()?e.getValue():void 0},validator:function(e,t,n,r){var i;"number"===e.getType()&&(i=t.getAttribute("divisibleBy"),0===i?r.addError(e,t,"divisibleBy","Nothing is divisible by 0",i):1!==i&&0!==e.getValue()/i%1&&r.addError(e,t,"divisibleBy","Number is not divisible by "+i,i))}}},fragmentResolution:"slash-delimited"}),y=P.inherits(p,{id:"http://json-schema.org/draft-02/hyper-schema#",properties:{fragmentResolution:{"default":"slash-delimited"}}}),b=P.inherits(h,{$schema:"http://json-schema.org/draft-02/hyper-schema#",id:"http://json-schema.org/draft-02/links#",properties:{targetSchema:{$ref:"hyper-schema#",parser:g.getAttribute("parser")}}}),o.setOption("defaultFragmentDelimiter","/"),o.setOption("defaultSchemaURI","http://json-schema.org/draft-02/schema#"),w=o.createSchema(_,!0,"http://json-schema.org/draft-02/schema#"),k=o.createSchema(P.inherits(w,o.createSchema(y,!0,"http://json-schema.org/draft-02/hyper-schema#"),!0),!0,"http://json-schema.org/draft-02/hyper-schema#"),o.setOption("defaultSchemaURI","http://json-schema.org/draft-02/hyper-schema#"),M=o.createSchema(b,k,"http://json-schema.org/draft-02/links#"),w=o.createSchema(w.getValue(),k,"http://json-schema.org/draft-02/schema#"),k=o.createSchema(k.getValue(),k,"http://json-schema.org/draft-02/hyper-schema#"),M=o.createSchema(M.getValue(),k,"http://json-schema.org/draft-02/links#"),T=P.inherits(_,{$schema:"http://json-schema.org/draft-03/schema#",id:"http://json-schema.org/draft-03/schema#",properties:{patternProperties:{type:"object",additionalProperties:{$ref:"#"},"default":{},parser:w.getValueOfProperty("properties").properties.parser,validator:function(t,n,r,i){var o,a,s;if("object"===t.getType()){o=e(t,n,i,r);for(a in o)if(o[a]!==C[a])for(s=o[a].length;s--;)o[a][s].validate(t.getProperty(a),i,t,n,a)}}},additionalProperties:{validator:function(t,n,r,i){var o,a,s,l,u;if("object"===t.getType()){o=n.getAttribute("additionalProperties"),a=n.getAttribute("properties")||{},s=t.getProperties(),l=e(t,n);for(u in s)s[u]!==C[u]&&s[u]&&a[u]===C[u]&&l[u]===C[u]&&(P.isJSONSchema(o)?o.validate(s[u],i,t,n,u):o===!1&&i.addError(t,n,"additionalProperties","Additional properties are not allowed",o))}}},items:{validator:function(e,t,n,r){var i,o,a,s,l,u;if("array"===e.getType())if(i=e.getProperties(),o=t.getAttribute("items"),u=t.getAttribute("additionalItems"),"array"===P.typeOf(o))for(a=0,s=i.length;s>a;++a)l=o[a]||u,l!==!1?l.validate(i[a],r,e,t,a):r.addError(e,t,"additionalItems","Additional items are not allowed",l);else for(l=o||u,a=0,s=i.length;s>a;++a)l.validate(i[a],r,e,t,a)}},additionalItems:{type:[{$ref:"#"},"boolean"],"default":{},parser:w.getValueOfProperty("properties").additionalProperties.parser,validator:function(e,t,n,r){var i,o,a,s;if("array"===e.getType()&&"undefined"===t.getProperty("items").getType())if(i=t.getAttribute("additionalItems"),o=e.getProperties(),i!==!1)for(a=0,s=o.length;s>a;++a)i.validate(o[a],r,e,t,a);else o.length&&r.addError(e,t,"additionalItems","Additional items are not allowed",i)}},optional:{validationRequired:!1,deprecated:!0},required:{type:"boolean","default":!1,parser:function(e){return!!e.getValue()},validator:function(e,t,n,r){"undefined"===e.getType()&&t.getAttribute("required")&&r.addError(e,t,"required","Property is required",!0)}},requires:{deprecated:!0},dependencies:{type:"object",additionalProperties:{type:["string","array",{$ref:"#"}],items:{type:"string"}},"default":{},parser:function(e,t,n){function r(e){var n=e.getType();return"string"===n||"array"===n?e.getValue():"object"===n?e.getEnvironment().createSchema(e,t.getEnvironment().findSchema(t.resolveURI("#"))):void 0}return"object"===e.getType()?n?r(e.getProperty(n)):P.mapObject(e.getProperties(),r):{}},validator:function(e,t,n,r){var i,o,a,s,l,u;if("object"===e.getType()){i=t.getAttribute("dependencies");for(o in i)if(i[o]!==C[o]&&"undefined"!==e.getProperty(o).getType())if(a=i[o],s=P.typeOf(a),"string"===s)"undefined"===e.getProperty(a).getType()&&r.addError(e,t,"dependencies",'Property "'+o+'" requires sibling property "'+a+'"',i);else if("array"===s)for(l=0,u=a.length;u>l;++l)"undefined"===e.getProperty(a[l]).getType()&&r.addError(e,t,"dependencies",'Property "'+o+'" requires sibling property "'+a[l]+'"',i);else P.isJSONSchema(a)&&a.validate(e,r)}}},minimumCanEqual:{deprecated:!0},maximumCanEqual:{deprecated:!0},exclusiveMinimum:{type:"boolean","default":!1,parser:function(e){return!!e.getValue()}},exclusiveMaximum:{type:"boolean","default":!1,parser:function(e){return!!e.getValue()}},minimum:{validator:function(e,t,n,r){var i,o;"number"===e.getType()&&(i=t.getAttribute("minimum"),o=t.getAttribute("exclusiveMinimum")||!e.getEnvironment().getOption("strict")&&!t.getAttribute("minimumCanEqual"),"number"==typeof i&&(e.getValue()<i||o===!0&&e.getValue()===i)&&r.addError(e,t,"minimum","Number is less then the required minimum value",i))}},maximum:{validator:function(e,t,n,r){var i,o;"number"===e.getType()&&(i=t.getAttribute("maximum"),o=t.getAttribute("exclusiveMaximum")||!e.getEnvironment().getOption("strict")&&!t.getAttribute("maximumCanEqual"),"number"==typeof i&&(e.getValue()>i||o===!0&&e.getValue()===i)&&r.addError(e,t,"maximum","Number is greater then the required maximum value",i))}},contentEncoding:{deprecated:!0},divisibleBy:{exclusiveMinimum:!0},disallow:{items:{type:["string",{$ref:"#"}]},parser:_.properties.type.parser},id:{type:"string",format:"uri"},$ref:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"}},dependencies:{exclusiveMinimum:"minimum",exclusiveMaximum:"maximum"},initializer:function(e){var t,i,o,a=e.getValueOfProperty("$schema"),s=e.getValueOfProperty("$ref"),l=e.getValueOfProperty("id");if(a&&(t=e.resolveURI(a),t&&e._schema._uri!==t)){if(e._env._schemas[t])return e._schema=e._env._schemas[t],n=e._schema.getValueOfProperty("initializer"),"function"==typeof n?n(e):e;if(e._env._options.validateReferences)throw new r(e,e._schema,"$schema","Unknown schema reference",t)}if(s&&(t=e.resolveURI(s),t&&e._uri!==t)){if(e._env._schemas[t])return e=e._env._schemas[t];if(e._env._options.validateReferences)throw new r(e,e._schema,"$ref","Unknown schema reference",t)}return i=e.getAttribute("extends"),P.isJSONSchema(i)&&(o=P.inherits(i,e,!0),e=e._env.createSchema(o,e._schema,e._uri)),l&&(t=e.resolveURI(l),"string"===P.typeOf(t)&&(e._uri=P.formatURI(t))),e}}),S=P.inherits(y,{$schema:"http://json-schema.org/draft-03/hyper-schema#",id:"http://json-schema.org/draft-03/hyper-schema#",properties:{links:{selfReferenceVariable:"@"},root:{deprecated:!0},contentEncoding:{deprecated:!1},alternate:{deprecated:!0}}}),x=P.inherits(b,{$schema:"http://json-schema.org/draft-03/hyper-schema#",id:"http://json-schema.org/draft-03/links#",properties:{href:{required:!0,format:"link-description-object-template"},rel:{required:!0},properties:{deprecated:!0},schema:{$ref:"http://json-schema.org/draft-03/hyper-schema#"}}}),o.setOption("validateReferences",!0),o.setOption("defaultSchemaURI","http://json-schema.org/draft-03/schema#"),o.createSchema({},!0,"http://json-schema.org/draft-03/schema#"),o.createSchema({},!0,"http://json-schema.org/draft-03/hyper-schema#"),o.createSchema({},!0,"http://json-schema.org/draft-03/links#"),E=o.createSchema(T,!0,"http://json-schema.org/draft-03/schema#"),L=o.createSchema(P.inherits(E,o.createSchema(S,!0,"http://json-schema.org/draft-03/hyper-schema#"),!0),!0,"http://json-schema.org/draft-03/hyper-schema#"),D=o.createSchema(x,!0,"http://json-schema.org/draft-03/links#"),o.setOption("defaultSchemaURI","http://json-schema.org/draft-03/hyper-schema#"),L=o.createSchema(L.getValue(),L,"http://json-schema.org/draft-03/hyper-schema#"),o.setOption("latestJSONSchemaSchemaURI","http://json-schema.org/draft-03/schema#"),o.setOption("latestJSONSchemaHyperSchemaURI","http://json-schema.org/draft-03/hyper-schema#"),o.setOption("latestJSONSchemaLinksURI","http://json-schema.org/draft-03/links#"),o._schemas["http://json-schema.org/schema#"]=E,o._schemas["http://json-schema.org/hyper-schema#"]=L,o._schemas["http://json-schema.org/links#"]=D,P.registerEnvironment("json-schema-draft-03",o),P.getDefaultEnvironmentID()&&"json-schema-draft-01"!==P.getDefaultEnvironmentID()&&"json-schema-draft-02"!==P.getDefaultEnvironmentID()||P.setDefaultEnvironmentID("json-schema-draft-03")}(),e.JSONFormValidator=r.JSV}(this,!1)}).call(this),function(){!function(e,t,n,r,i){e&&(r=require("underscore"));var o=/\[([0-9]*)\](?=\.|$)/g,a=/\[([0-9]*)\](?:\.|$)/,s={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g},l={evaluate:/\{\[([\s\S]+?)\]\}/g,interpolate:/\{\{([\s\S]+?)\}\}/g},u={util:{}},c=function(e){return e?(""+e).replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):""},d=function(e){return e.replace(/([\!\"\#\$\%\&\'\(\)\*\+\,\.\/\:\;<\=\>\?\@\[\\\]\^\`\{\|\}\~])/g,"\\$1")},f=function(e){var t=function(e,t){t.find("> .active").removeClass("active"),e.addClass("active")},r=function(e,t){e.find("input, textarea, select").removeAttr("disabled"),e.parent().children(":not([data-idx="+t+"])").find("input, textarea, select").attr("disabled","disabled")},i=function(e){var i,o=n("option:selected",n(this)),a=n(this),s=o.attr("data-idx")||o.attr("value");e.preventDefault(),o.hasClass("active")||(i=n(this).parents(".tabbable").eq(0).find(".tab-content [data-idx="+s+"]"),t(o,a),t(i,i.parent()),r(i,s))},o=function(e){n("a",n(this));var i=n(this).parents(".tabbable").first().find(".tab-content").first(),o=n(this).index(),a=i.find("[data-idx="+o+"]");e.preventDefault(),t(n(this),n(this).parent()),t(a,a.parent()),n(this).parent().hasClass("jsonform-alternative")&&r(a,o)};e.each(function(){n(this).delegate("select.nav","change",i),n(this).find("select.nav").each(function(){n(this).val(n(this).find(".active").attr("value"));var e=n(this).find("option:selected").attr("data-idx")||n(this).find("option:selected").attr("value"),t=n(this).parents(".tabbable").eq(0).find(".tab-content [data-idx="+e+"]");r(t,e)}),n(this).delegate("ul.nav li","click",o),n(this).find("ul.nav li.active").click()})};u.fieldTemplate=function(e){return'<div class="control-group jsonform-error-<%= keydash %> <%= elt.htmlClass ? elt.htmlClass : "" %>"><% if (node.title && !elt.notitle) { %><label class="control-label" for="<%= node.id %>"><%= node.title %></label><% } %><div class="controls"><% if (node.prepend || node.append) { %><div class="<% if (node.prepend) { %>input-prepend<% } %><% if (node.append) { %> input-append<% } %>"><% if (node.prepend) { %><span class="add-on"><%= node.prepend %></span><% } %><% } %>'+e+'<% if (node.append) { %><span class="add-on"><%= node.append %></span><% } %><% if (node.prepend || node.append) { %></div><% } %><% if (node.description) { %><span class="help-inline"><%= node.description %></span><% } %><span class="help-block jsonform-errortext" style="display:none;"></span></div></div>'
};var p='<% if (value.type=="image") { %><img class="jsonform-preview" id="jsonformpreview-<%= id %>" src="<%= value.url %>" /><% } else { %><a href="<%= value.url %>"><%= value.name %></a> (<%= Math.ceil(value.size/1024) %>kB)<% } %><br/>';u.elementTypes={none:{template:""},root:{template:"<div><%= children %></div>"},text:{template:'<input class="input-xlarge xlarge" type="text" name="<%= node.name %>" value="<%= escape(value) %>" id="<%= id %>"<%= (node.disabled? " disabled" : "")%> />',fieldtemplate:!0,inputfield:!0},password:{template:'<input class="input-xlarge xlarge" type="password" name="<%= node.name %>" value="<%= escape(value) %>" id="<%= id %>"<%= (node.disabled? " disabled" : "")%> />',fieldtemplate:!0,inputfield:!0},color:{template:'<input class="input-xlarge xlarge" type="text" name="<%= node.name %>" value="<%= escape(value) %>" id="<%= id %>"<%= (node.disabled? " disabled" : "")%> />',fieldtemplate:!0,inputfield:!0,onInsert:function(e,t){n(t.el).find("#"+d(t.id)).spectrum({preferredFormat:"hex",showInput:!0})}},textarea:{template:'<textarea id="<%= id %>" name="<%= node.name %>" style="height:<%= elt.height || "150px" %>;width:<%= elt.width || "100%" %>;"<%= (node.disabled? " disabled" : "")%>><%= value %></textarea>',fieldtemplate:!0,inputfield:!0},wysihtml5:{template:'<textarea id="<%= id %>" name="<%= node.name %>" style="height:<%= elt.height || "300px" %>;width:<%= elt.width || "100%" %>;"><%= value %></textarea>',fieldtemplate:!0,inputfield:!0,onInsert:function(e,t){var r=function(){n(t.el).data("wysihtml5")||(n(t.el).data("wysihtml5_loaded",!0),n(t.el).find("#"+d(t.id)).wysihtml5({html:!0,link:!0,"font-styles":!0,image:!0}))};if(window.jsonform_wysihtml5_setup)return window.jsonform_wysihtml5_setup(r),void 0;var i=window.setInterval(function(){window.wysihtml5&&(window.clearInterval(i),r())},1e3)}},ace:{template:'<div id="<%= id %>" style="position:relative;height:<%= elt.height || "300px" %>;"><div id="<%= id %>__ace" style="width:<%= elt.width || "100%" %>;height:<%= elt.height || "300px" %>;"></div><input type="hidden" name="<%= node.name %>" id="<%= id %>__hidden" value="<%= escape(value) %>"/></div>',fieldtemplate:!0,inputfield:!0,onInsert:function(e,t){var i=function(){var e=t.formElement||{},i=window.ace,o=i.edit(n(t.el).find("#"+d(t.id)+"__ace").get(0)),a="#"+d(t.id)+"__hidden";if(o.getSession().setNewLineMode("unix"),o.renderer.setShowPrintMargin(!1),o.setTheme("ace/theme/"+(e.aceTheme||"twilight")),e.aceMode){var s=i.require("ace/mode/"+e.aceMode).Mode;o.getSession().setMode(new s)}o.getSession().setTabSize(2),o.getSession().setValue(t.value||"");var l=r.debounce(function(){n(t.el).find(a).val(o.getSession().getValue()),n(t.el).find(a).change()},600);o.getSession().on("change",l),o.on("blur",function(){n(t.el).find(a).change(),n(t.el).find(a).trigger("blur")}),o.on("focus",function(){n(t.el).find(a).trigger("focus")})};if(window.jsonform_ace_setup)return window.jsonform_ace_setup(i),void 0;var o=window.setInterval(function(){window.ace&&(window.clearInterval(o),i())},1e3)}},checkbox:{template:'<label class="checkbox"><input type="checkbox" id="<%= id %>" name="<%= node.name %>" value="1" <% if (value) {%>checked<% } %><%= (node.disabled? " disabled" : "")%> /><span><%= node.inlinetitle || "" %></span></label>',fieldtemplate:!0,inputfield:!0,getElement:function(e){return n(e).parent().get(0)}},file:{template:'<input class="input-file" id="<%= id %>" name="<%= node.name %>" type="file" />',fieldtemplate:!0,inputfield:!0},"file-hosted-public":{template:"<span><% if (value && (value.type||value.url)) { %>"+p+'<% } %><input class="input-file" id="_transloadit_<%= id %>" type="file" name="<%= transloaditname %>" /><input data-transloadit-name="_transloadit_<%= transloaditname %>" type="hidden" id="<%= id %>" name="<%= node.name %>" value=\'<%= escape(JSON.stringify(node.value)) %>\' /></span>',fieldtemplate:!0,inputfield:!0,getElement:function(e){return n(e).parent().get(0)},onBeforeRender:function(e,t){t.ownerTree._transloadit_generic_public_index?t.ownerTree._transloadit_generic_public_index++:t.ownerTree._transloadit_generic_public_index=1,e.transloaditname="_transloadit_jsonform_genericupload_public_"+t.ownerTree._transloadit_generic_public_index,t.ownerTree._transloadit_generic_elts||(t.ownerTree._transloadit_generic_elts={}),t.ownerTree._transloadit_generic_elts[e.transloaditname]=t},onChange:function(e,t){if(t.ownerTree._transloadit_bound)return!1;t.ownerTree._transloadit_bound=!0;var r=n(t.ownerTree.domRoot);r.transloadit({autoSubmit:!1,wait:!0,onSuccess:function(e){if(e.results[":original"])for(var o=0;o<e.results[":original"].length;o++){var a=e.results[":original"][o];n("#"+d(t.ownerTree._transloadit_generic_elts[a.field].id),r).val(i.stringify(a))}t.ownerTree._transloadit_bound=!1,r.unbind("submit.transloadit"),setTimeout(function(){t.ownerTree.submit()},10)},onError:function(e){console.log("Assembly error",e)}})},onSubmit:function(e,t){return t.ownerTree._transloadit_bound?!1:!0}},"file-transloadit":{template:"<span><% if (value && (value.type||value.url)) { %>"+p+'<% } %><input class="input-file" id="_transloadit_<%= id %>" type="file" name="_transloadit_<%= node.name %>" /><input type="hidden" id="<%= id %>" name="<%= node.name %>" value=\'<%= escape(JSON.stringify(node.value)) %>\' /></span>',fieldtemplate:!0,inputfield:!0,getElement:function(e){return n(e).parent().get(0)},onChange:function(e,t){if(t.ownerTree._transloadit_bound)return!1;t.ownerTree._transloadit_bound=!0;var r=n(t.ownerTree.domRoot);r.transloadit({autoSubmit:!1,wait:!0,onSuccess:function(e){if(e.results[":original"])for(var o=0;o<e.results[":original"].length;o++){var a=e.results[":original"][o];n("input[name='"+a.field.replace(/^_transloadit_/,"")+"']",r).val(i.stringify(a))}t.ownerTree._transloadit_bound=!1,r.unbind("submit.transloadit"),setTimeout(function(){t.ownerTree.submit()},10)},onError:function(e){console.log("Assembly error",e)}})},onSubmit:function(e,t){return t.ownerTree._transloadit_bound?!1:!0}},select:{template:'<select name="<%= node.name %>" id="<%= id %>" <%= (node.disabled? " disabled" : "")%>> <% _.each(node.options, function(key, val) { if(key instanceof Object) { if (value === key.value) { %> <option selected value="<%= key.value %>"><%= key.title %></option> <% } else { %> <option value="<%= key.value %>"><%= key.title %></option> <% }} else { if (value === key) { %> <option selected value="<%= key %>"><%= key %></option> <% } else { %><option value="<%= key %>"><%= key %></option> <% }}}); %> </select>',fieldtemplate:!0,inputfield:!0},imageselect:{template:'<div><input type="hidden" name="<%= node.name %>" id="<%= node.id %>" value="<%= value %>" /><div class="dropdown"><a class="btn<% if (buttonClass && node.value) { %> <%= buttonClass %><% } %>" data-toggle="dropdown" href="#"<% if (node.value) { %> style="max-width:<%= width %>px;max-height:<%= height %>px"<% } %>><% if (node.value) { %><img src="<% if (!node.value.match(/^https?:/)) { %><%= prefix %><% } %><%= node.value %><%= suffix %>" alt="" /><% } else { %><%= buttonTitle %><% } %></a><div class="dropdown-menu navbar" id="<%= node.id %>_dropdown"><div><% _.each(node.options, function(key, idx) { if ((idx > 0) && ((idx % columns) === 0)) { %></div><div><% } %><a class="btn<% if (buttonClass) { %> <%= buttonClass %><% } %>" style="max-width:<%= width %>px;max-height:<%= height %>px"><% if (key instanceof Object) { %><img src="<% if (!key.value.match(/^https?:/)) { %><%= prefix %><% } %><%= key.value %><%= suffix %>" alt="<%= key.title %>" /></a><% } else { %><img src="<% if (!key.match(/^https?:/)) { %><%= prefix %><% } %><%= key %><%= suffix %>" alt="" /><% } %></a> <% }); %></div><div class="pagination-right"><a class="btn">Reset</a></div></div></div></div>',fieldtemplate:!0,inputfield:!0,onBeforeRender:function(e,t){var n=t.formElement||{},r=null,i=n.imageSelectorColumns||5;e.buttonTitle=n.imageSelectorTitle||"Select...",e.prefix=n.imagePrefix||"",e.suffix=n.imageSuffix||"",e.width=n.imageWidth||32,e.height=n.imageHeight||32,e.buttonClass=n.imageButtonClass||!1,t.options.length>i?(r=Math.ceil(t.options.length/i),e.columns=Math.ceil(t.options.length/r)):e.columns=i},getElement:function(e){return n(e).parent().get(0)},onInsert:function(e,t){n(t.el).on("click",".dropdown-menu a",function(e){e.preventDefault(),e.stopPropagation();var r="img"===e.target.nodeName.toLowerCase()?n(e.target):n(e.target).find("img"),i=r.attr("src"),o=t.formElement||{},a=o.imagePrefix||"",s=o.imageSuffix||"",l=o.imageWidth||32,u=o.imageHeight||32;i?(0===i.indexOf(a)&&(i=i.substring(a.length)),i=i.substring(0,i.length-s.length),n(t.el).find("input").attr("value",i),n(t.el).find('a[data-toggle="dropdown"]').addClass(o.imageButtonClass).attr("style","max-width:"+l+"px;max-height:"+u+"px").html('<img src="'+(i.match(/^https?:/)?"":a)+i+s+'" alt="" />')):(n(t.el).find("input").attr("value",""),n(t.el).find('a[data-toggle="dropdown"]').removeClass(o.imageButtonClass).removeAttr("style").html(o.imageSelectorTitle||"Select..."))})}},radios:{template:'<div id="<%= node.id %>"><% _.each(node.options, function(key, val) { %><label class="radio"><input type="radio" <% if (((key instanceof Object) && (value === key.value)) || (value === key)) { %> checked="checked" <% } %> name="<%= node.name %>" value="<%= (key instanceof Object ? key.value : key) %>"<%= (node.disabled? " disabled" : "")%>/><span><%= (key instanceof Object ? key.title : key) %></span></label> <% }); %></div>',fieldtemplate:!0,inputfield:!0},radiobuttons:{template:'<div id="<%= node.id %>"><% _.each(node.options, function(key, val) { %><label class="radio btn"><input type="radio" style="position:absolute;left:-9999px;" <% if (((key instanceof Object) && (value === key.value)) || (value === key)) { %> checked="checked" <% } %> name="<%= node.name %>" value="<%= (key instanceof Object ? key.value : key) %>" /><span><%= (key instanceof Object ? key.title : key) %></span></label> <% }); %></div>',fieldtempate:!0,inputfield:!0,onInsert:function(e,t){var r="active",i=t.formElement||{};i.activeClass&&(r+=" "+i.activeClass),n(t.el).find("label").on("click",function(){n(this).parent().find("label").removeClass(r),n(this).addClass(r)})}},checkboxes:{template:"<div><%= choiceshtml %></div>",fieldtemplate:!0,inputfield:!0,onBeforeRender:function(e,t){var n=null,i=null,o='<label class="checkbox"><input type="checkbox" <% if (value) { %> checked="checked" <% } %> name="<%= name %>" value="1"<%= (node.disabled? " disabled" : "")%>><span><%= title %></span></label>';t&&t.schemaElement&&t.schemaElement.items&&(n=t.schemaElement.items["enum"]||t.schemaElement.items[0]["enum"],n&&(i="",r.each(n,function(e,n){i+=r.template(o,{name:t.key+"["+n+"]",value:r.include(t.value,e),title:t.formElement.titleMap?t.formElement.titleMap[e]:e,node:t},s)}),e.choiceshtml=i))}},array:{template:'<div id="<%= id %>"><ul class="_jsonform-array-ul" style="list-style-type:none;"><%= children %></ul><span class="_jsonform-array-buttons"><a href="#" class="btn _jsonform-array-addmore"><i class="icon-plus-sign" title="Add new"></i></a> <a href="#" class="btn _jsonform-array-deletelast"><i class="icon-minus-sign" title="Delete last"></i></a></span></div>',fieldtemplate:!0,array:!0,childTemplate:function(e){return n("").sortable?'<li data-idx="<%= node.childPos %>"><span class="draggable line"><i class="icon-list" title="Move item"></i></span>'+e+"</li>":'<li data-idx="<%= node.childPos %>">'+e+"</li>"},onInsert:function(e,t){var r=n(t.el).find("#"+d(t.id)),i=t.getArrayBoundaries(),o=function(e,i){if(e!==i){var o=i>e?1:-1,a=0,s=n("> ul",r);for(a=e;a!==i;a+=o)t.children[a].switchValuesWith(t.children[a+o]),t.children[a].render(s.get(0)),t.children[a+o].render(s.get(0));var l=n(t.children[e].el),u=n(t.children[i].el);l.detach(),u.detach(),i>e?(0===e?s.prepend(l):n(t.children[e-1].el).after(l),n(t.children[i-1].el).after(u)):(0===i?s.prepend(u):n(t.children[i-1].el).after(u),n(t.children[e-1].el).after(l))}};n("> span > a._jsonform-array-addmore",r).click(function(e){e.preventDefault(),e.stopPropagation();var o=t.children.length;return i.maxItems>=0&&(o>i.maxItems-2&&n("> span > a._jsonform-array-addmore",r).addClass("disabled"),o>i.maxItems-1)?!1:(t.insertArrayItem(o,n("> ul",r).get(0)),i.minItems>0&&o>i.minItems-1&&n("> span > a._jsonform-array-deletelast",r).removeClass("disabled"),void 0)}),n("> span > a._jsonform-array-deletelast",r).click(function(e){var o=t.children.length-1;return e.preventDefault(),e.stopPropagation(),i.minItems>0&&(o<i.minItems+1&&n("> span > a._jsonform-array-deletelast",r).addClass("disabled"),o<i.minItems)?!1:(t.deleteArrayItem(o),i.maxItems>=0&&o<=i.maxItems-1&&n("> span > a._jsonform-array-addmore",r).removeClass("disabled"),void 0)}),n(t.el).sortable&&(n("> ul",r).sortable(),n("> ul",r).bind("sortstop",function(e,t){var r=n(t.item).data("idx"),i=n(t.item).index();o(r,i)}))}},tabarray:{template:'<div id="<%= id %>"><div class="tabbable tabs-left"><ul class="nav nav-tabs"><%= tabs %></ul><div class="tab-content"><%= children %></div></div><a href="#" class="btn _jsonform-array-addmore"><i class="icon-plus-sign" title="Add new"></i></a> <a href="#" class="btn _jsonform-array-deleteitem"><i class="icon-minus-sign" title="Delete item"></i></a></div>',fieldtemplate:!0,array:!0,childTemplate:function(e){return'<div data-idx="<%= node.childPos %>" class="tab-pane">'+e+"</div>"},onBeforeRender:function(e,t){var n="";r.each(t.children,function(e,t){var r=e.legend||e.title||"Item "+(t+1);n+='<li data-idx="'+t+'"'+(0===t?' class="active"':"")+'><a class="draggable tab" data-toggle="tab">'+c(r)+"</a></li>"}),e.tabs=n},onInsert:function(e,t){var i=n(t.el).find("#"+d(t.id)),o=t.getArrayBoundaries(),a=function(e,r){if(e!==r){var o=r>e?1:-1,a=0,s=n("> .tabbable > .tab-content",i).get(0);for(a=e;a!==r;a+=o)t.children[a].switchValuesWith(t.children[a+o]),t.children[a].render(s),t.children[a+o].render(s)}},s=function(e){var o="";void 0===e&&(e=n("> .tabbable > .nav-tabs .active",i).data("idx"),e=e?parseInt(e,10):0),e>=t.children.length&&(e=t.children.length-1),r.each(t.children,function(e,t){var n=e.legend||e.title||"Item "+(t+1);o+='<li data-idx="'+t+'"><a class="draggable tab" data-toggle="tab">'+c(n)+"</a></li>"}),n("> .tabbable > .nav-tabs",i).html(o),n('> .tabbable > .nav-tabs [data-toggle="tab"]',i).eq(e).click()};n("> a._jsonform-array-deleteitem",i).click(function(e){var r=n("> .tabbable > .nav-tabs .active",i).data("idx");return e.preventDefault(),e.stopPropagation(),o.minItems>0&&(r<o.minItems+2&&n("> a._jsonform-array-deleteitem",i).addClass("disabled"),r<o.minItems)?!1:(t.deleteArrayItem(r),s(),o.maxItems>=0&&r<=o.maxItems-1&&n("> a._jsonform-array-addmore",i).removeClass("disabled"),void 0)}),n("> a._jsonform-array-addmore",i).click(function(e){var r=t.children.length;return o.maxItems>=0&&(r>o.maxItems-2&&n("> a._jsonform-array-addmore",i).addClass("disabled"),r>o.maxItems-1)?!1:(e.preventDefault(),e.stopPropagation(),t.insertArrayItem(r,n("> .tabbable > .tab-content",i).get(0)),s(r),o.minItems>0&&r>o.minItems-1&&n("> a._jsonform-array-deleteitem",i).removeClass("disabled"),void 0)}),n(t.el).on("legendUpdated",function(e){s(),e.preventDefault(),e.stopPropagation()}),n(t.el).sortable&&(n("> .tabbable > .nav-tabs",i).sortable({containment:t.el}),n("> .tabbable > .nav-tabs",i).bind("sortstop",function(e,t){var r=n(t.item).data("idx"),i=n(t.item).index();a(r,i),s(i)})),o.maxItems>=0&&t.children.length>=o.maxItems&&n("> a._jsonform-array-addmore",i).addClass("disabled"),o.minItems>=0&&t.children.length<=o.minItems&&n("> a._jsonform-array-deleteitem",i).addClass("disabled")}},help:{template:'<span class="help-block" style="padding-top:5px"><%= elt.helpvalue %></span>',fieldtemplate:!0},msg:{template:"<%= elt.msg %>"},fieldset:{template:'<fieldset class="control-group jsonform-error-<%= keydash %> <% if (elt.expandable) { %>expandable<% } %> <%= elt.htmlClass?elt.htmlClass:"" %>" <% if (id) { %> id="<%= id %>"<% } %>><% if (node.title || node.legend) { %><legend><%= node.title || node.legend %></legend><% } %><% if (elt.expandable) { %><div class="control-group"><% } %><%= children %><% if (elt.expandable) { %></div><% } %></fieldset>'},advancedfieldset:{template:'<fieldset<% if (id) { %> id="<%= id %>"<% } %> class="expandable <%= elt.htmlClass?elt.htmlClass:"" %>"><legend>Advanced options</legend><div class="control-group"><%= children %></div></fieldset>'},authfieldset:{template:'<fieldset<% if (id) { %> id="<%= id %>"<% } %> class="expandable <%= elt.htmlClass?elt.htmlClass:"" %>"><legend>Authentication settings</legend><div class="control-group"><%= children %></div></fieldset>'},submit:{template:'<input type="submit" <% if (id) { %> id="<%= id %>" <% } %> class="btn btn-primary <%= elt.htmlClass?elt.htmlClass:"" %>" value="<%= value || node.title %>"<%= (node.disabled? " disabled" : "")%>/>'},button:{template:' <button <% if (id) { %> id="<%= id %>" <% } %> class="btn <%= elt.htmlClass?elt.htmlClass:"" %>"><%= node.title %></button> '},actions:{template:'<div class="form-actions <%= elt.htmlClass?elt.htmlClass:"" %>"><%= children %></div>'},hidden:{template:'<input type="hidden" id="<%= id %>" name="<%= node.name %>" value="<%= escape(value) %>" />',inputfield:!0},selectfieldset:{template:'<fieldset class="tab-container <%= elt.htmlClass?elt.htmlClass:"" %>"><% if (node.legend) { %><legend><%= node.legend %></legend><% } %><% if (node.formElement.key) { %><input type="hidden" id="<%= node.id %>" name="<%= node.name %>" value="<%= escape(value) %>" /><% } else { %><a id="<%= node.id %>"></a><% } %><div class="tabbable"><div class="control-group<%= node.formElement.hideMenu ? " hide" : "" %>"><% if (node.title && !elt.notitle) { %><label class="control-label" for="<%= node.id %>"><%= node.title %></label><% } %><div class="controls"><%= tabs %></div></div><div class="tab-content"><%= children %></div></div></fieldset>',inputfield:!0,getElement:function(e){return n(e).parent().get(0)},childTemplate:function(e){return'<div data-idx="<%= node.childPos %>" class="tab-pane<% if (node.active) { %> active<% } %>">'+e+"</div>"},onBeforeRender:function(e,t){var n=null,i=[];t.schemaElement&&(i=t.schemaElement["enum"]||[]),n=t.options?r.map(t.options,function(e,n){var o=t.children[n];return e instanceof Object?(e=r.extend({node:o},e),e.title=e.title||o.legend||o.title||"Option "+(o.childPos+1),e.value=e.value||i[n]||n,e):{title:e,value:i[o.childPos]||o.childPos,node:o}}):r.map(t.children,function(e){return{title:e.legend||e.title||"Option "+(e.childPos+1),value:i[e.childPos]||e.childPos,node:e}});var o=null;e.value&&(o=r.find(n,function(e){return e.value===t.value})),o||(o=r.find(n,function(e){return e.node.hasNonDefaultValue()})),o||(o=n[0]),o.node.active=!0,e.value=o.value,t.formElement;var a='<select class="nav"'+(t.disabled?" disabled":"")+">";return r.each(n,function(e,t){a+='<option data-idx="'+t+'" value="'+e.value+'"'+(e.node.active?' class="active"':"")+">"+c(e.title)+"</option>"}),a+="</select>",e.tabs=a,e},onInsert:function(e,t){n(t.el).find("select.nav").first().on("change",function(){var e=n(this).find("option:selected");n(t.el).find('input[type="hidden"]').first().val(e.attr("value"))})}},optionfieldset:{template:'<div<% if (node.id) { %> id="<%= node.id %>"<% } %>><%= children %></div>'},section:{template:'<div<% if (node.id) { %> id="<%= node.id %>"<% } %>><%= children %></div>'},questions:{template:'<div><input type="hidden" id="<%= node.id %>" name="<%= node.name %>" value="<%= escape(value) %>" /><%= children %></div>',fieldtempate:!0,inputfield:!0,getElement:function(e){return n(e).parent().get(0)},onInsert:function(e,t){t.children&&0!==t.children.length&&(r.each(t.children,function(e){n(e.el).hide()}),n(t.children[0].el).show())}},question:{template:'<div id="<%= node.id %>"><% _.each(node.options, function(key, val) { %><label class="radio<%= (node.formElement.optionsType === "radiobuttons") ? " btn" : "" %><%= ((key instanceof Object && key.htmlClass) ? " " + key.htmlClass : "") %>"><input type="radio" <% if (node.formElement.optionsType === "radiobuttons") { %> style="position:absolute;left:-9999px;" <% } %>name="<%= node.id %>" value="<%= val %>"<%= (node.disabled? " disabled" : "")%>/><span><%= (key instanceof Object ? key.title : key) %></span></label> <% }); %></div>',fieldtemplate:!0,onInsert:function(e,t){var i="active",o=t.formElement||{};o.activeClass&&(i+=" "+o.activeClass),n(t.el).find('input[type="radio"]').on("change",function(){var e=null,o=t.options[n(this).val()];t.parentNode&&t.parentNode.el&&(n(this).parent().parent().find("label").removeClass(i),n(this).parent().addClass(i),n(t.el).nextAll().hide(),n(t.el).nextAll().find('input[type="radio"]').prop("checked",!1),o.value&&n(t.parentNode.el).find('input[type="hidden"]').val(o.value),o.next&&(e=r.find(t.parentNode.children,function(e){return e.formElement&&e.formElement.qid===o.next}),n(e.el).show(),n(e.el).nextAll().hide(),n(e.el).nextAll().find('input[type="radio"]').prop("checked",!1)),o.href&&(o.target?window.open(o.href,o.target):window.location=o.href),o.submit&&setTimeout(function(){t.ownerTree.submit()},0))})}}},u.util.getObjKey=function(e,t,n){for(var i=e,o=t.split("."),s=null,l=null,u=0;u<o.length;u++){if(null===i||"object"!=typeof i)return null;if(s=o[u],l=s.match(a)){if(s=s.replace(a,""),!r.isArray(i[s]))return null;i=i[s][parseInt(l[1],10)]}else i=n&&!i[s]&&r.isArray(i)&&i[0]?i[0][s]:i[s]}return n&&r.isArray(i)&&i[0]?i[0]:i},u.util.setObjKey=function(e,t,n){for(var i=e,o=t.split("."),s=null,l=null,u=0;u<o.length-1;u++)s=o[u],l=s.match(a),l?(s=s.replace(a,""),r.isArray(i[s])||(i[s]=[]),("object"!=typeof i[s][parseInt(l[1],10)]||null===i[s][parseInt(l[1],10)])&&(i[s][parseInt(l[1],10)]={}),i=i[s][parseInt(l[1],10)]):(("object"!=typeof i[s]||null===i[s])&&(i[s]={}),i=i[s]);s=o[o.length-1],l=s.match(a),l?(s=s.replace(a,""),r.isArray(i[s])||(i[s]=[]),i[s][parseInt(l[1],10)]=n):i[s]=n};var h=function(e,t){var n=t.replace(/\./g,".properties.").replace(/\[[0-9]*\](\.|$)/g,".items$1");return u.util.getObjKey(e,n,!0)},m=function(e,t){var n=0,r=0;if(!e)return null;if(t>0)for(;t>n;){if(r=e.indexOf("[]",r),-1===r)return e;r+=2,n+=1}return r=e.indexOf("[]",r),-1===r?e:e.substring(0,r)},g=function(e,t){var n=0;if(!e)return null;if(!t||0===t.length)return e;var i=e.replace(o,function(e){var i=e;return r.isUndefined(t[n])||r.isNull(t[n])||(i="["+t[n]+"]"),n+=1,i});return i},v=function(e,t,n,i,o){var a=null;i=i||{},i.idx=i.idx||(n?n[n.length-1]:1),i.value=i.value||"",i.getValue=i.getValue||function(t){return v(e,t,n,i,o)};var s=function(e,t){var n=null;return e&&e.length?(r.each(e,function(e){return n?void 0:e===t?(n={key:e},void 0):(r.isString(e)||(e.key===t?n=e:e.items&&(n=s(e.items,t))),void 0)}),n):null},c=s(e.form||[],t);if(o&&e.value&&(a=u.util.getObjKey(e.value,g(t,n))),"undefined"==typeof a||null===a){if(c&&"undefined"!=typeof c.value)a=c.value;else{var d=h(e.schema.properties,t);d&&(a=d["default"]||"")}a&&-1!==a.indexOf("{{values.")&&(a=a.replace(/\{\{values\.([^\}]+)\}\}/g,'{{getValue("$1")}}')),a&&(a=r.template(a,i,l))}return"undefined"!=typeof a&&null!==a&&c&&c.titleMap&&c.titleMap[a]&&(a=r.template(c.titleMap[a],i,l)),"undefined"==typeof a?null:a},_=function(){this.id=null,this.key=null,this.el=null,this.formElement=null,this.schemaElement=null,this.view=null,this.children=[],this.ownerTree=null,this.parentNode=null,this.childTemplate=null,this.legendChild=null,this.arrayPath=[],this.childPos=0};_.prototype.clone=function(e){var t=new _;return t.arrayPath=r.clone(this.arrayPath),t.ownerTree=this.ownerTree,t.parentNode=e||this.parentNode,t.formElement=this.formElement,t.schemaElement=this.schemaElement,t.view=this.view,t.children=r.map(this.children,function(e){return e.clone(t)}),this.childTemplate&&(t.childTemplate=this.childTemplate.clone(t)),t},_.prototype.hasNonDefaultValue=function(){if(this.formElement&&"hidden"==this.formElement.type)return!1;if(this.value&&!this.defaultValue)return!0;var e=r.find(this.children,function(e){return e.hasNonDefaultValue()});return!!e},_.prototype.appendChild=function(e){return e.parentNode=this,e.childPos=this.children.length,this.children.push(e),e},_.prototype.removeChild=function(){var e=this.children[this.children.length-1];if(e)return n(e.el).remove(),this.children.pop()},_.prototype.moveValuesTo=function(e){var t=this.getFormValues(e.arrayPath);e.resetValues(),e.computeInitialValues(t,!0)},_.prototype.switchValuesWith=function(e){var t=this.getFormValues(e.arrayPath),n=e.getFormValues(this.arrayPath);e.resetValues(),e.computeInitialValues(t,!0),this.resetValues(),this.computeInitialValues(n,!0)},_.prototype.resetValues=function(){var e=null;if(this.value=null,this.parentNode?(this.arrayPath=r.clone(this.parentNode.arrayPath),this.parentNode.view&&this.parentNode.view.array&&this.arrayPath.push(this.childPos)):this.arrayPath=[],this.view&&this.view.inputfield)e=n(":input",this.el).serializeArray(),r.each(e,function(e){n('[name="'+d(e.name)+'"]',n(this.el)).val("")},this);else if(this.view&&this.view.array)for(;this.children.length>0;)this.removeChild();r.each(this.children,function(e){e.resetValues()})},_.prototype.setChildTemplate=function(e){this.childTemplate=e,e.parentNode=this},_.prototype.computeInitialValues=function(e,t){var n=this,i=null,o=1,a=0,s=this.ownerTree.formDesc.tpldata||{};if(this.parentNode?(this.arrayPath=r.clone(this.parentNode.arrayPath),this.parentNode.view&&this.parentNode.view.array&&this.arrayPath.push(this.childPos)):this.arrayPath=[],s.idx=this.arrayPath.length>0?this.arrayPath[this.arrayPath.length-1]+1:this.childPos+1,s.value="",s.getValue=function(t){return v(n.ownerTree.formDesc,t,n.arrayPath,s,!!e)},this.formElement&&(this.formElement.id?this.id=g(this.formElement.id,this.arrayPath):this.view&&this.view.array?this.id=d(this.ownerTree.formDesc.prefix)+"-elt-counter-"+r.uniqueId():this.parentNode&&this.parentNode.view&&this.parentNode.view.array?this.id=d(this.ownerTree.formDesc.prefix)+"-elt-counter-"+r.uniqueId():("button"===this.formElement.type||"selectfieldset"===this.formElement.type||"question"===this.formElement.type||"buttonquestion"===this.formElement.type)&&(this.id=d(this.ownerTree.formDesc.prefix)+"-elt-counter-"+r.uniqueId()),this.formElement.key&&(this.key=g(this.formElement.key,this.arrayPath),this.keydash=this.key.replace(/\./g,"---")),this.name=g(this.formElement.name,this.arrayPath),r.each(["title","legend","description","append","prepend","inlinetitle","helpvalue","value","disabled"],function(e){r.isString(this.formElement[e])?(this[e]=-1!==this.formElement[e].indexOf("{{values.")?this.formElement[e].replace(/\{\{values\.([^\}]+)\}\}/g,'{{getValue("$1")}}'):g(this.formElement[e],this.arrayPath),this[e]&&(this[e]=r.template(this[e],s,l))):this[e]=this.formElement[e]},this),this.formElement.options&&(this.options=r.map(this.formElement.options,function(e){var t=null;return r.isObject(e)&&e.title?(t=-1!==e.title.indexOf("{{values.")?e.title.replace(/\{\{values\.([^\}]+)\}\}/g,'{{getValue("$1")}}'):g(e.title,n.arrayPath),r.extend({},e,{value:"undefined"!=typeof e.value?e.value:"",title:r.template(t,s,l)})):e}))),this.view&&this.view.inputfield&&this.schemaElement)e?u.util.getObjKey(e,this.key)&&(this.value=u.util.getObjKey(e,this.key)):t||!this.value&&this.schemaElement["default"]&&(this.value=this.schemaElement["default"],r.isString(this.value)&&(this.value=-1!==this.value.indexOf("{{values.")?this.value.replace(/\{\{values\.([^\}]+)\}\}/g,'{{getValue("$1")}}'):g(this.value,this.arrayPath),this.value&&(this.value=r.template(this.value,s,l))),this.defaultValue=!0);else if(this.view&&this.view.array)for(o=0,e&&(o=this.getPreviousNumberOfItems(e,this.arrayPath)),0===o&&(o=1),a=0;o>a;a++)this.appendChild(this.childTemplate.clone());if(r.each(this.children,function(n){n.computeInitialValues(e,t)}),this.formElement&&this.formElement.valueInLegend)for(i=this;i;){if(i.parentNode&&i.parentNode.view&&i.parentNode.view.array&&(i.legendChild=this,i.formElement&&i.formElement.legend)){i.legend=g(i.formElement.legend,i.arrayPath),s.idx=i.arrayPath.length>0?i.arrayPath[i.arrayPath.length-1]+1:i.childPos+1,s.value=this.value||"",i.legend=r.template(i.legend,s,l);break}i=i.parentNode}},_.prototype.getPreviousNumberOfItems=function(e,t){var n=null,i=null,o=null;return e?this.view.inputfield&&this.schemaElement?(n=m(this.formElement.key,t.length),n=g(n,t),(i=u.util.getObjKey(e,n))?(o=r.map(this.children,function(n){return n.getPreviousNumberOfItems(e,t)}),r.max([r.max(o)||0,i.length])):0):this.view.array?this.childTemplate.getPreviousNumberOfItems(e,t):(o=r.map(this.children,function(n){return n.getPreviousNumberOfItems(e,t)}),r.max(o)||0):0},_.prototype.getFormValues=function(e){var t={};if(!this.el)throw new Error("formNode.getFormValues can only be called on nodes that are associated with a DOM element in the tree");var o=n(":input",this.el).serializeArray();e&&r.each(o,function(t){t.name=g(t.name,e)});for(var a=this.ownerTree.formDesc.schema,s=0;s<o.length;s++){var l=o[s].name,c=h(a.properties,l),d=null,f=null;if(c)if(c._jsonform_checkboxes_as_array&&(d=l.match(/\[([0-9]*)\]$/)))l=l.replace(/\[([0-9]*)\]$/,""),f=u.util.getObjKey(t,l)||[],"1"===o[s].value&&f.push(c["enum"][parseInt(d[1],10)]),u.util.setObjKey(t,l,f);else{if("boolean"===c.type&&(o[s].value="0"===o[s].value?!1:!!o[s].value),("number"===c.type||"integer"===c.type)&&r.isString(o[s].value)&&(o[s].value.length?isNaN(Number(o[s].value))||(o[s].value=Number(o[s].value)):o[s].value=void 0),"string"!==c.type||""!==o[s].value||c._jsonform_allowEmpty||(o[s].value=null),"object"===c.type&&r.isString(o[s].value)&&"{"===o[s].value.substring(0,1))try{o[s].value=i.parse(o[s].value)}catch(p){o[s].value={}}"object"!==c.type||"null"!==o[s].value&&""!==o[s].value||(o[s].value=null),o[s].name&&null!==o[s].value&&u.util.setObjKey(t,o[s].name,o[s].value)}}return t},_.prototype.render=function(e){var t=this.generate();this.setContent(t,e),this.enhance()},_.prototype.setContent=function(e,t){var r=n(e),i=t||(this.parentNode?this.parentNode.el:this.ownerTree.domRoot),o=null;this.el?n(this.el).replaceWith(r):(o=n(i).children().get(this.childPos),o?n(o).before(r):n(i).append(r)),this.el=r,this.updateElement(this.el)},_.prototype.updateElement=function(e){this.id&&(this.el=n("#"+d(this.id),e).get(0),this.view&&this.view.getElement&&(this.el=this.view.getElement(this.el)),this.fieldtemplate!==!1&&this.view&&this.view.fieldtemplate&&(this.el=n(this.el).parent().parent(),(this.prepend||this.prepend)&&(this.el=this.el.parent()),this.el=this.el.get(0)),this.parentNode&&this.parentNode.view&&this.parentNode.view.childTemplate&&(this.el=n(this.el).parent().get(0))),r.each(this.children,function(t){t.updateElement(this.el||e)})},_.prototype.generate=function(){var e={id:this.id,keydash:this.keydash,elt:this.formElement,schema:this.schemaElement,node:this,value:this.value||"",escape:c},t=null,n="";this.ownerTree.formDesc.onBeforeRender&&this.ownerTree.formDesc.onBeforeRender(e,this),this.view.onBeforeRender&&this.view.onBeforeRender(e,this),t=this.template?this.template:this.formElement&&this.formElement.template?this.formElement.template:this.view.template,this.fieldtemplate!==!1&&(this.fieldtemplate||this.view.fieldtemplate)&&(t=u.fieldTemplate(t)),this.parentNode&&this.parentNode.view&&this.parentNode.view.childTemplate&&(t=this.parentNode.view.childTemplate(t));var i="";return r.each(this.children,function(e){i+=e.generate()}),e.children=i,n=r.template(t,e,s)},_.prototype.enhance=function(){var e=this,t=null,i=null,o=r.clone(this.ownerTree.formDesc.tpldata)||{};this.formElement&&(this.view.onInsert&&this.view.onInsert({target:n(this.el)},this),t=this.handlers||this.formElement.handlers,i=this.onInsert||this.formElement.onInsert,i&&i({target:n(this.el)},this),t&&r.each(t,function(e,t){"insert"===t&&e({target:n(this.el)},this)},this),this.el&&(this.onChange&&n(this.el).bind("change",function(t){e.onChange(t,e)
}),this.view.onChange&&n(this.el).bind("change",function(t){e.view.onChange(t,e)}),this.formElement.onChange&&n(this.el).bind("change",function(t){e.formElement.onChange(t,e)}),this.onClick&&n(this.el).bind("click",function(t){e.onClick(t,e)}),this.view.onClick&&n(this.el).bind("click",function(t){e.view.onClick(t,e)}),this.formElement.onClick&&n(this.el).bind("click",function(t){e.formElement.onClick(t,e)}),this.onKeyUp&&n(this.el).bind("keyup",function(t){e.onKeyUp(t,e)}),this.view.onKeyUp&&n(this.el).bind("keyup",function(t){e.view.onKeyUp(t,e)}),this.formElement.onKeyUp&&n(this.el).bind("keyup",function(t){e.formElement.onKeyUp(t,e)}),t&&r.each(t,function(t,r){"insert"!==r&&n(this.el).bind(r,function(n){t(n,e)})},this)),this.legendChild&&this.legendChild.formElement&&n(this.legendChild.el).bind("keyup",function(t){e.formElement&&e.formElement.legend&&e.parentNode&&(e.legend=g(e.formElement.legend,e.arrayPath),o.idx=e.arrayPath.length>0?e.arrayPath[e.arrayPath.length-1]+1:e.childPos+1,o.value=n(t.target).val(),e.legend=r.template(e.legend,o,l),n(e.parentNode.el).trigger("legendUpdated"))})),r.each(this.children,function(e){e.enhance()})},_.prototype.insertArrayItem=function(e,t){var n=0;void 0===e&&(e=this.children.length);var r=this.childTemplate.clone();for(this.appendChild(r),r.resetValues(),n=this.children.length-2;n>=e;n--)this.children[n].moveValuesTo(this.children[n+1]);for(this.children[e].resetValues(),this.children[e].computeInitialValues(),n=e;n<this.children.length;n++)this.children[n].render(t)},_.prototype.deleteArrayItem=function(e){var t=0;for(void 0===e&&(e=this.children.length-1),t=e;t<this.children.length-1;t++)this.children[t+1].moveValuesTo(this.children[t]),this.children[t].render();this.children.length>1?this.removeChild():(this.children[0].resetValues(),this.children[0].computeInitialValues(),this.children[0].render())},_.prototype.getArrayBoundaries=function(){var e={minItems:-1,maxItems:-1};if(!this.view||!this.view.array)return e;var t=function(e,n){var i=null,o={minItems:-1,maxItems:-1};return n=n||e,e.view&&e.view.array&&e!==n?o:e.key?(i=h(e.ownerTree.formDesc.schema.properties,e.key.replace(/\[[0-9]+\]/g,"[]").replace(/\[\][^\[\]]*$/,"")),i?{minItems:i.minItems||i.maxLength||-1,maxItems:i.maxItems||i.maxLength||-1}:o):(r.each(e.children,function(e){var r=t(e,n);-1!==r.minItems&&(o.minItems=-1!==o.minItems?Math.max(o.minItems,r.minItems):r.minItems),-1!==r.maxItems&&(o.maxItems=-1!==o.maxItems?Math.min(o.maxItems,r.maxItems):r.maxItems)}),o)};return t(this)};var y=function(){this.eventhandlers=[],this.root=null,this.formDesc=null};y.prototype.initialize=function(e){e=e||{},this.formDesc=r.clone(e),this.formDesc.prefix=this.formDesc.prefix||"jsonform-"+r.uniqueId(),this.formDesc.schema&&!this.formDesc.schema.properties&&(this.formDesc.schema={properties:this.formDesc.schema}),this.formDesc.form=this.formDesc.form||["*",{type:"actions",items:[{type:"submit",value:"Submit"}]}],this.formDesc.form=r.isArray(this.formDesc.form)?this.formDesc.form:[this.formDesc.form],this.root=new _,this.root.ownerTree=this,this.root.view=u.elementTypes.root,this.buildTree(),this.computeInitialValues()},y.prototype.buildTree=function(){r.each(this.formDesc.form,function(e){"*"===e?r.each(this.formDesc.schema.properties,function(e,t){this.root.appendChild(this.buildFromLayout({key:t}))},this):(r.isString(e)&&(e={key:e}),this.root.appendChild(this.buildFromLayout(e)))},this)},y.prototype.buildFromLayout=function(e){var t=null,n=new _,i=null,o=null;if(e=r.clone(e),e.items&&(e.items=r.isArray(e.items)?r.map(e.items,r.clone):[r.clone(e.items)]),e.key){if(t=h(this.formDesc.schema.properties,e.key),!t)throw new Error('The JSONForm object references the schema key "'+e.key+'" but that key does not exist in the JSON schema');if(this.formDesc.onElementSchema&&this.formDesc.onElementSchema(e,t),e.name=e.name||e.key,e.title=e.title||t.title,e.description=e.description||t.description,e.id||(e.id=d(this.formDesc.prefix)+"-elt-"+e.key),e.allowEmpty&&(t._jsonform_allowEmpty=!0),e.type||(e.type="string"===t.type&&"color"===t.format?"color":"number"!==t.type&&"integer"!==t.type&&"string"!==t.type&&"any"!==t.type||t["enum"]?"boolean"===t.type?"checkbox":"object"===t.type?"fieldset":r.isUndefined(t["enum"])?t.type:"select":"text"),!e.options&&t["enum"]&&(e.options=e.titleMap?r.map(t["enum"],function(t){return{value:t,title:e.titleMap[t]||t}}):t["enum"]),"checkboxes"===e.type&&t.items){var a=t.items["enum"];a&&(t.items._jsonform_checkboxes_as_array=!0),!a&&t.items[0]&&(a=t.items[0]["enum"],a&&(t.items[0]._jsonform_checkboxes_as_array=!0))}"object"===t.type&&r.each(t.properties,function(t,r){n.appendChild(this.buildFromLayout({key:e.key+"."+r}))},this)}if(e.type||(e.type=e.parentNode?"none":"root"),i=u.elementTypes[e.type],!i)throw new Error('The JSONForm contains an element whose type is unknown: "'+e.type+'"');if(t){if(!i.inputfield&&!i.array&&"selectfieldset"!==e.type&&"object"!==t.type)throw new Error('The JSONForm contains an element that links to an element in the JSON schema (key: "'+e.key+'") and that should not based on its type ("'+e.type+'")')}else if(i.inputfield&&"selectfieldset"!==e.type)throw new Error('The JSONForm defines an element of type "'+e.type+'" but no "key" property to link the input field to the JSON schema');return e.iddot=d(e.id||""),n.formElement=e,n.schemaElement=t,n.view=i,n.ownerTree=this,e.handlers||(e.handlers={}),n.view.array?(o=e.items?e.items[0]||e.items:e.key+"[]",r.isString(o)&&(o={key:o}),n.setChildTemplate(this.buildFromLayout(o))):e.items&&r.each(e.items,function(e){r.isString(e)&&(e={key:e}),n.appendChild(this.buildFromLayout(e))},this),n},y.prototype.computeInitialValues=function(){this.root.computeInitialValues(this.formDesc.value)},y.prototype.render=function(e){e&&(this.domRoot=e,this.root.render())},y.prototype.forEachElement=function(e){var t=function(n){for(var r=0;r<n.children.length;r++)e(n.children[r]),t(n.children[r])};t(this.root)},y.prototype.validate=function(e){var r=u.getFormValue(this.domRoot),i=!1,o=this.formDesc;if(o.validate!==!1){var a=!1;if("object"!=typeof o.validate?t.JSONFormValidator&&(a=t.JSONFormValidator.createEnvironment("json-schema-draft-03")):a=o.validate,a){var s=a.validate(r,this.formDesc.schema);n(this.domRoot).jsonFormErrors(!1,o),s.errors.length&&(i||(i=[]),i=i.concat(s.errors))}}return i&&!e&&(o.displayErrors?o.displayErrors(i,this.domRoot):n(this.domRoot).jsonFormErrors(i,o)),{errors:i}},y.prototype.submit=function(e){var t=function(){return e&&(e.preventDefault(),e.stopPropagation()),!1},n=u.getFormValue(this.domRoot),r=this.formDesc,i=!1;if(this.forEachElement(function(t){i||t.view.onSubmit&&(i=!t.view.onSubmit(e,t))}),i)return t();var o=this.validate();return r.onSubmit&&!r.onSubmit(o.errors,n)?t():o.errors?t():r.onSubmitValid&&!r.onSubmitValid(n)?t():!1},u.getFormValue=function(e){var t=n(e).data("jsonform-tree");return t?t.root.getFormValues():null},n.fn.jsonFormErrors=function(e){if(n(".error",this).removeClass("error"),n(".warning",this).removeClass("warning"),n(".jsonform-errortext",this).hide(),e)for(var t=0;t<e.length;t++){var r=e[t].uri.replace(/.*#\//,"").replace(/\//g,".").replace(/\.([0-9]+)(\.|$)/,"[$1]$2"),i=".jsonform-error-"+d(r.replace(/\./g,"---")),o=e[t].type||"error";n(i,this).addClass(o),n(i+" .jsonform-errortext",this).html(e[t].message).show()}},n.fn.jsonForm=function(e){var t=this;e=e||{};var r=new y;return r.initialize(e),r.render(t.get(0)),e.transloadit&&t.append('<input type="hidden" name="params" value=\''+c(i.stringify(e.transloadit.params))+"'>"),t.data("jsonform-tree",r),t.unbind((e.submitEvent||"submit")+".jsonform"),t.bind((e.submitEvent||"submit")+".jsonform",function(e){r.submit(e)}),f(t),n(".expandable > div, .expandable > fieldset",t).hide(),n(".expandable > legend",t).click(function(){var e=n(this).parent();e.toggleClass("expanded"),n("> div",e).slideToggle(100)}),r},n.fn.jsonFormValue=function(){return u.getFormValue(this)},t.JSONForm=t.JSONForm||{util:{}},t.JSONForm.getFormValue=u.getFormValue,t.JSONForm.fieldTemplate=u.fieldTemplate,t.JSONForm.fieldTypes=u.elementTypes,t.JSONForm.getInitialValue=v,t.JSONForm.util.getObjKey=u.util.getObjKey,t.JSONForm.util.setObjKey=u.util.setObjKey}("undefined"!=typeof exports,"undefined"!=typeof exports?exports:window,"undefined"!=typeof o?o:{fn:{}},"undefined"!=typeof a?a:null,JSON)}.call(this),function(){o.expr[":"].regex=function(e,t,n){var r=n[3].split(","),i=/^(data|css):/,a={method:r[0].match(i)?r[0].split(":")[0]:"attr",property:r.shift().replace(i,"")},s="ig",l=new RegExp(r.join("").replace(/^\s+|\s+$/g,""),s);return l.test(o(e)[a.method](a.property))}}.call(this),function(){!function(){var e=!1,t=/xyz/.test(function(){})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(n){function r(){!e&&this.init&&this.init.apply(this,arguments)}var i=this.prototype;e=!0;var o=new this;e=!1;for(var a in n)o[a]="function"==typeof n[a]&&"function"==typeof i[a]&&t.test(n[a])?function(e,t){return function(){var n=this._super;this._super=i[e];var r=t.apply(this,arguments);return this._super=n,r}}(a,n[a]):n[a];return r.prototype=o,r.prototype.constructor=r,r.extend=arguments.callee,r}}()}.call(this),function(){t=Class.extend({generateFor:function(e,t){this.model=e,this.formOptions=e.formOptions,i(t).jsonForm({schema:this.model.formSchema()})},submit:function(e,t){this.updateModelFromFormValues(),this.model.save(e,t)},updateModelFromFormValues:function(){for(r in this.model.schema){var e=":regex(id, jsonform.*"+r+")",t=i(e);this.model.schema[r]=this.model.schema[r].constructor==Boolean?!!t.attr("checked"):t.val()}}})}.call(this),function(){var t={humanize:function(e){return this.capitalize(this.convertCamelToSpaces(e))},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},convertCamelToSpaces:function(e){return e.replace(/([A-Z])/g,function(e){return" "+e})}};e=Class.extend({init:function(e,t){this.collection=e,this.schema=this.blankSchema,this.formOptions={},this.load(t)},load:function(e){if(e){this._id=e._id;for(r in this.schema)e[r]&&(this.schema[r]=e[r])}},formSchema:function(){var e={};for(var n in this.schema)e[n]={type:this.option(n,"type")||this.schema[n].constructor.name.toLowerCase(),title:this.option(n,"title")||t.humanize(n),id:n,"default":this.schema[n]},this.option(n,"enum")&&(e[n]["enum"]=this.option(n,"enum"));return e},option:function(e,t){return this.formOptions[e]?this.formOptions[e][t]:null},overwriteTitle:function(e,t){this.formOptions[e]?this.formOptions[e].title=t:this.formOptions[e]={title:t}},overwriteType:function(e,t){this.formOptions[e]?this.formOptions[e].type=t:this.formOptions[e]={type:t}},makeSelect:function(e,t){this.formOptions[e]?this.formOptions[e]["enum"]=t:this.formOptions[e]={"enum":t}},save:function(e,t){this._id?this.collection.update(this._id,{$set:this.schema},t):this._id=this.collection.insert(this.schema,e)}})}.call(this),"undefined"==typeof Package&&(Package={}),Package["database-forms"]={FormModel:e,DatabaseForm:t}}(),function(){Package.meteor.Meteor;var e;(function(){e=e||function(e,t){var n={},r=n.lib={},i=r.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),o=r.WordArray=i.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;i>o;o++){var a=255&n[o>>>2]>>>24-8*(o%4);t[r+o>>>2]|=a<<24-8*((r+o)%4)}else if(n.length>65535)for(var o=0;i>o;o+=4)t[r+o>>>2]=n[o>>>2];else t.push.apply(t,n);return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-8*(n%4),t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],r=0;t>r;r+=4)n.push(0|4294967296*e.random());return new o.init(n,t)}}),a=n.enc={},s=a.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;n>i;i++){var o=255&t[i>>>2]>>>24-8*(i%4);r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;t>r;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-4*(r%8);return new o.init(n,t/2)}},l=a.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;n>i;i++){var o=255&t[i>>>2]>>>24-8*(i%4);r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;t>r;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-8*(r%4);return new o.init(n,t)}},u=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},c=r.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,a=this.blockSize,s=4*a,l=i/s;l=t?e.ceil(l):e.max((0|l)-this._minBufferSize,0);var u=l*a,c=e.min(4*u,i);if(u){for(var d=0;u>d;d+=a)this._doProcessBlock(r,d);var f=r.splice(0,u);n.sigBytes-=c}return new o.init(f,c)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});r.Hasher=c.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new d.HMAC.init(e,n).finalize(t)}}});var d=n.algo={};return n}(Math)}).call(this),"undefined"==typeof Package&&(Package={}),Package["crypto-base"]={CryptoJS:e}}(),function(){Package.meteor.Meteor;var e=Package["crypto-base"].CryptoJS;(function(){!function(t){function n(e,t,n,r,i,o,a){var s=e+(t&n|~t&r)+i+a;return(s<<o|s>>>32-o)+t}function r(e,t,n,r,i,o,a){var s=e+(t&r|n&~r)+i+a;return(s<<o|s>>>32-o)+t}function i(e,t,n,r,i,o,a){var s=e+(t^n^r)+i+a;return(s<<o|s>>>32-o)+t}function o(e,t,n,r,i,o,a){var s=e+(n^(t|~r))+i+a;return(s<<o|s>>>32-o)+t}var a=e,s=a.lib,l=s.WordArray,u=s.Hasher,c=a.algo,d=[];!function(){for(var e=0;64>e;e++)d[e]=0|4294967296*t.abs(t.sin(e+1))}();var f=c.MD5=u.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var a=0;16>a;a++){var s=t+a,l=e[s];e[s]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}var u=this._hash.words,c=e[t+0],f=e[t+1],p=e[t+2],h=e[t+3],m=e[t+4],g=e[t+5],v=e[t+6],_=e[t+7],y=e[t+8],b=e[t+9],w=e[t+10],k=e[t+11],M=e[t+12],T=e[t+13],S=e[t+14],x=e[t+15],E=u[0],L=u[1],D=u[2],C=u[3];E=n(E,L,D,C,c,7,d[0]),C=n(C,E,L,D,f,12,d[1]),D=n(D,C,E,L,p,17,d[2]),L=n(L,D,C,E,h,22,d[3]),E=n(E,L,D,C,m,7,d[4]),C=n(C,E,L,D,g,12,d[5]),D=n(D,C,E,L,v,17,d[6]),L=n(L,D,C,E,_,22,d[7]),E=n(E,L,D,C,y,7,d[8]),C=n(C,E,L,D,b,12,d[9]),D=n(D,C,E,L,w,17,d[10]),L=n(L,D,C,E,k,22,d[11]),E=n(E,L,D,C,M,7,d[12]),C=n(C,E,L,D,T,12,d[13]),D=n(D,C,E,L,S,17,d[14]),L=n(L,D,C,E,x,22,d[15]),E=r(E,L,D,C,f,5,d[16]),C=r(C,E,L,D,v,9,d[17]),D=r(D,C,E,L,k,14,d[18]),L=r(L,D,C,E,c,20,d[19]),E=r(E,L,D,C,g,5,d[20]),C=r(C,E,L,D,w,9,d[21]),D=r(D,C,E,L,x,14,d[22]),L=r(L,D,C,E,m,20,d[23]),E=r(E,L,D,C,b,5,d[24]),C=r(C,E,L,D,S,9,d[25]),D=r(D,C,E,L,h,14,d[26]),L=r(L,D,C,E,y,20,d[27]),E=r(E,L,D,C,T,5,d[28]),C=r(C,E,L,D,p,9,d[29]),D=r(D,C,E,L,_,14,d[30]),L=r(L,D,C,E,M,20,d[31]),E=i(E,L,D,C,g,4,d[32]),C=i(C,E,L,D,y,11,d[33]),D=i(D,C,E,L,k,16,d[34]),L=i(L,D,C,E,S,23,d[35]),E=i(E,L,D,C,f,4,d[36]),C=i(C,E,L,D,m,11,d[37]),D=i(D,C,E,L,_,16,d[38]),L=i(L,D,C,E,w,23,d[39]),E=i(E,L,D,C,T,4,d[40]),C=i(C,E,L,D,c,11,d[41]),D=i(D,C,E,L,h,16,d[42]),L=i(L,D,C,E,v,23,d[43]),E=i(E,L,D,C,b,4,d[44]),C=i(C,E,L,D,M,11,d[45]),D=i(D,C,E,L,x,16,d[46]),L=i(L,D,C,E,p,23,d[47]),E=o(E,L,D,C,c,6,d[48]),C=o(C,E,L,D,_,10,d[49]),D=o(D,C,E,L,S,15,d[50]),L=o(L,D,C,E,g,21,d[51]),E=o(E,L,D,C,M,6,d[52]),C=o(C,E,L,D,h,10,d[53]),D=o(D,C,E,L,w,15,d[54]),L=o(L,D,C,E,f,21,d[55]),E=o(E,L,D,C,y,6,d[56]),C=o(C,E,L,D,x,10,d[57]),D=o(D,C,E,L,v,15,d[58]),L=o(L,D,C,E,T,21,d[59]),E=o(E,L,D,C,m,6,d[60]),C=o(C,E,L,D,k,10,d[61]),D=o(D,C,E,L,p,15,d[62]),L=o(L,D,C,E,b,21,d[63]),u[0]=0|u[0]+E,u[1]=0|u[1]+L,u[2]=0|u[2]+D,u[3]=0|u[3]+C},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;n[i>>>5]|=128<<24-i%32;var o=t.floor(r/4294967296),a=r;n[(i+64>>>9<<4)+15]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[(i+64>>>9<<4)+14]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,l=s.words,u=0;4>u;u++){var c=l[u];l[u]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return s},clone:function(){var e=u.clone.call(this);return e._hash=this._hash.clone(),e}});a.MD5=u._createHelper(f),a.HmacMD5=u._createHmacHelper(f)}(Math)}).call(this),"undefined"==typeof Package&&(Package={}),Package["crypto-md5"]={}}(),function(){Package.meteor.Meteor;var e;(function(){!function(e){function t(e,t){return function(n){return l(e.call(this,n),t)}}function n(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function r(){}function i(e){a(this,e)}function o(e){var t=this._data={},n=e.years||e.year||e.y||0,r=e.months||e.month||e.M||0,i=e.weeks||e.week||e.w||0,o=e.days||e.day||e.d||0,a=e.hours||e.hour||e.h||0,l=e.minutes||e.minute||e.m||0,u=e.seconds||e.second||e.s||0,c=e.milliseconds||e.millisecond||e.ms||0;this._milliseconds=c+1e3*u+6e4*l+36e5*a,this._days=o+7*i,this._months=r+12*n,t.milliseconds=c%1e3,u+=s(c/1e3),t.seconds=u%60,l+=s(u/60),t.minutes=l%60,a+=s(l/60),t.hours=a%24,o+=s(a/24),o+=7*i,t.days=o%30,r+=s(o/30),t.months=r%12,n+=s(r/12),t.years=n}function a(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function s(e){return 0>e?Math.ceil(e):Math.floor(e)}function l(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}function u(e,t,n,r){var i,o,a,s=t._milliseconds,l=t._days,u=t._months;s&&e._d.setTime(+e._d+s*n),(l||u)&&(i=e.minute(),o=e.hour()),l&&e.date(e.date()+l*n),u&&(a=e.date(),e.date(1).month(e.month()+u*n).date(Math.min(a,e.daysInMonth()))),s&&!r&&A.updateOffset(e),(l||u)&&(e.minute(i),e.hour(o))}function c(e){return"[object Array]"===Object.prototype.toString.call(e)}function d(e,t){var n,r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),o=0;for(n=0;r>n;n++)~~e[n]!==~~t[n]&&o++;return o+i}function f(e){return e?it[e]||e.toLowerCase().replace(/(.)s$/,"$1"):e}function p(e,t){return t.abbr=e,j[e]||(j[e]=new r),j[e].set(t),j[e]}function h(e){return e?(!j[e]&&R&&require("./lang/"+e),j[e]):A.fn._lang}function m(e){return e.match(/\[.*\]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function g(e){var t,n,r=e.match(U);for(t=0,n=r.length;n>t;t++)r[t]=lt[r[t]]?lt[r[t]]:m(r[t]);return function(i){var o="";for(t=0;n>t;t++)o+=r[t]instanceof Function?r[t].call(i,e):r[t];return o}}function v(e,t){function n(t){return e.lang().longDateFormat(t)||t}for(var r=5;r--&&$.test(t);)t=t.replace($,n);return ot[t]||(ot[t]=g(t)),ot[t](e)}function _(e,t){switch(e){case"DDDD":return V;case"YYYY":return z;case"YYYYY":return W;case"S":case"SS":case"SSS":case"DDD":return q;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return J;case"a":case"A":return h(t._l)._meridiemParse;case"X":return X;case"Z":case"ZZ":return K;case"T":return G;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return H;default:return new RegExp(e.replace("\\",""))}}function y(e){var t=(K.exec(e)||[])[0],n=(t+"").match(tt)||["-",0,0],r=+(60*n[1])+~~n[2];return"+"===n[0]?-r:r}function b(e,t,n){var r,i=n._a;switch(e){case"M":case"MM":i[1]=null==t?0:~~t-1;break;case"MMM":case"MMMM":r=h(n._l).monthsParse(t),null!=r?i[1]=r:n._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=t&&(i[2]=~~t);break;case"YY":i[0]=~~t+(~~t>68?1900:2e3);break;case"YYYY":case"YYYYY":i[0]=~~t;break;case"a":case"A":n._isPm=h(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":i[3]=~~t;break;case"m":case"mm":i[4]=~~t;break;case"s":case"ss":i[5]=~~t;break;case"S":case"SS":case"SSS":i[6]=~~(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=y(t)}null==t&&(n._isValid=!1)}function w(e){var t,n,r=[];if(!e._d){for(t=0;7>t;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];r[3]+=~~((e._tzm||0)/60),r[4]+=~~((e._tzm||0)%60),n=new Date(0),e._useUTC?(n.setUTCFullYear(r[0],r[1],r[2]),n.setUTCHours(r[3],r[4],r[5],r[6])):(n.setFullYear(r[0],r[1],r[2]),n.setHours(r[3],r[4],r[5],r[6])),e._d=n}}function k(e){var t,n,r=e._f.match(U),i=e._i;for(e._a=[],t=0;t<r.length;t++)n=(_(r[t],e).exec(i)||[])[0],n&&(i=i.slice(i.indexOf(n)+n.length)),lt[r[t]]&&b(r[t],n,e);i&&(e._il=i),e._isPm&&e._a[3]<12&&(e._a[3]+=12),e._isPm===!1&&12===e._a[3]&&(e._a[3]=0),w(e)}function M(e){var t,n,r,o,s,l=99;for(o=0;o<e._f.length;o++)t=a({},e),t._f=e._f[o],k(t),n=new i(t),s=d(t._a,n.toArray()),n._il&&(s+=n._il.length),l>s&&(l=s,r=n);a(e,r)}function T(e){var t,n=e._i,r=Q.exec(n);if(r){for(e._f="YYYY-MM-DD"+(r[2]||" "),t=0;4>t;t++)if(et[t][1].exec(n)){e._f+=et[t][0];break}K.exec(n)&&(e._f+=" Z"),k(e)}else e._d=new Date(n)}function S(t){var n=t._i,r=B.exec(n);n===e?t._d=new Date:r?t._d=new Date(+r[1]):"string"==typeof n?T(t):c(n)?(t._a=n.slice(0),w(t)):t._d=n instanceof Date?new Date(+n):new Date(n)}function x(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function E(e,t,n){var r=Y(Math.abs(e)/1e3),i=Y(r/60),o=Y(i/60),a=Y(o/24),s=Y(a/365),l=45>r&&["s",r]||1===i&&["m"]||45>i&&["mm",i]||1===o&&["h"]||22>o&&["hh",o]||1===a&&["d"]||25>=a&&["dd",a]||45>=a&&["M"]||345>a&&["MM",Y(a/30)]||1===s&&["y"]||["yy",s];return l[2]=t,l[3]=e>0,l[4]=n,x.apply({},l)}function L(e,t,n){var r,i=n-t,o=n-e.day();return o>i&&(o-=7),i-7>o&&(o+=7),r=A(e).add("d",o),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function D(e){var t=e._i,n=e._f;return null===t||""===t?null:("string"==typeof t&&(e._i=t=h().preparse(t)),A.isMoment(t)?(e=a({},t),e._d=new Date(+t._d)):n?c(n)?M(e):k(e):S(e),new i(e))}function C(e,t){A.fn[e]=A.fn[e+"s"]=function(e){var n=this._isUTC?"UTC":"";return null!=e?(this._d["set"+n+t](e),A.updateOffset(this),this):this._d["get"+n+t]()}}function P(e){A.duration.fn[e]=function(){return this._data[e]}}function I(e,t){A.duration.fn["as"+e]=function(){return+this/t}}for(var A,N,O="2.0.0",Y=Math.round,j={},R="undefined"!=typeof module&&module.exports,B=/^\/?Date\((\-?\d+)/i,F=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,U=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,$=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,H=/\d\d?/,q=/\d{1,3}/,V=/\d{3}/,z=/\d{1,4}/,W=/[+\-]?\d{1,6}/,J=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,K=/Z|[\+\-]\d\d:?\d\d/i,G=/T/i,X=/[\+\-]?\d+(\.\d{1,3})?/,Q=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,Z="YYYY-MM-DDTHH:mm:ssZ",et=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],tt=/([\+\-]|\d\d)/gi,nt="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),rt={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},it={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},ot={},at="DDD w W M D d".split(" "),st="M D H h m s w W".split(" "),lt={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return l(this.year()%100,2)},YYYY:function(){return l(this.year(),4)},YYYYY:function(){return l(this.year(),5)},gg:function(){return l(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return l(this.weekYear(),5)},GG:function(){return l(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return l(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return l(~~(this.milliseconds()/10),2)},SSS:function(){return l(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+l(~~(e/60),2)+":"+l(~~e%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+l(~~(10*e/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};at.length;)N=at.pop(),lt[N+"o"]=n(lt[N],N);for(;st.length;)N=st.pop(),lt[N+N]=t(lt[N],2);for(lt.DDDD=t(lt.DDD,3),r.prototype={set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,r;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=A([2e3,t]),r="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(r.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=A([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(e,t,n,r):i.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return L(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}},A=function(e,t,n){return D({_i:e,_f:t,_l:n,_isUTC:!1})},A.utc=function(e,t,n){return D({_useUTC:!0,_isUTC:!0,_l:n,_i:e,_f:t})},A.unix=function(e){return A(1e3*e)},A.duration=function(e,t){var n,r,i=A.isDuration(e),a="number"==typeof e,s=i?e._data:a?{}:e,l=F.exec(e);return a?t?s[t]=e:s.milliseconds=e:l&&(n="-"===l[1]?-1:1,s={y:0,d:~~l[2]*n,h:~~l[3]*n,m:~~l[4]*n,s:~~l[5]*n,ms:~~l[6]*n}),r=new o(s),i&&e.hasOwnProperty("_lang")&&(r._lang=e._lang),r},A.version=O,A.defaultFormat=Z,A.updateOffset=function(){},A.lang=function(e,t){return e?(t?p(e,t):j[e]||h(e),A.duration.fn._lang=A.fn._lang=h(e),void 0):A.fn._lang._abbr},A.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),h(e)},A.isMoment=function(e){return e instanceof i},A.isDuration=function(e){return e instanceof o},A.fn=i.prototype={clone:function(){return A(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return v(A(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!d(this._a,(this._isUTC?A.utc(this._a):A(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=v(this,e||A.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var n;return n="string"==typeof e?A.duration(+t,e):A.duration(e,t),u(this,n,1),this},subtract:function(e,t){var n;return n="string"==typeof e?A.duration(+t,e):A.duration(e,t),u(this,n,-1),this},diff:function(e,t,n){var r,i,o=this._isUTC?A(e).zone(this._offset||0):A(e).local(),a=6e4*(this.zone()-o.zone());return t=f(t),"year"===t||"month"===t?(r=432e5*(this.daysInMonth()+o.daysInMonth()),i=12*(this.year()-o.year())+(this.month()-o.month()),i+=(this-A(this).startOf("month")-(o-A(o).startOf("month")))/r,i-=6e4*(this.zone()-A(this).startOf("month").zone()-(o.zone()-A(o).startOf("month").zone()))/r,"year"===t&&(i/=12)):(r=this-o,i="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-a)/864e5:"week"===t?(r-a)/6048e5:r),n?i:s(i)},from:function(e,t){return A.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(A(),e)},calendar:function(){var e=this.diff(A().startOf("day"),"days",!0),t=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(this.lang().calendar(t,this))},isLeapYear:function(){var e=this.year();return 0===e%4&&0!==e%100||0===e%400},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?"string"==typeof e&&(e=this.lang().weekdaysParse(e),"number"!=typeof e)?this:this.add({d:e-t}):t},month:function(e){var t=this._isUTC?"UTC":"";return null!=e?"string"==typeof e&&(e=this.lang().monthsParse(e),"number"!=typeof e)?this:(this._d["set"+t+"Month"](e),A.updateOffset(this),this):this._d["get"+t+"Month"]()
},startOf:function(e){switch(e=f(e)){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),this},endOf:function(e){return this.startOf(e).add(e,1).subtract("ms",1)},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+A(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+A(e).startOf(t)},isSame:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)===+A(e).startOf(t)},min:function(e){return e=A.apply(null,arguments),this>e?this:e},max:function(e){return e=A.apply(null,arguments),e>this?this:e},zone:function(e){var t=this._offset||0;return null==e?this._isUTC?t:this._d.getTimezoneOffset():("string"==typeof e&&(e=y(e)),Math.abs(e)<16&&(e=60*e),this._offset=e,this._isUTC=!0,t!==e&&u(this,A.duration(t-e,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return A.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(e){var t=Y((A(this).startOf("day")-A(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},weekYear:function(e){var t=L(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=L(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=L(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){var t=(this._d.getDay()+6)%7;return null==e?t:this.add("d",e-t)},lang:function(t){return t===e?this._lang:(this._lang=h(t),this)}},N=0;N<nt.length;N++)C(nt[N].toLowerCase().replace(/s$/,""),nt[N]);C("year","FullYear"),A.fn.days=A.fn.day,A.fn.months=A.fn.month,A.fn.weeks=A.fn.week,A.fn.isoWeeks=A.fn.isoWeek,A.fn.toJSON=A.fn.toISOString,A.duration.fn=o.prototype={weeks:function(){return s(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*~~(this._months/12)},humanize:function(e){var t=+this,n=E(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,t){var n=A.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this},subtract:function(e,t){var n=A.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this},get:function(e){return e=f(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=f(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:A.fn.lang};for(N in rt)rt.hasOwnProperty(N)&&(I(N,rt[N]),P(N.toLowerCase()));I("Weeks",6048e5),A.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},A.lang("en",{ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),R&&(module.exports=A),"undefined"==typeof ender&&(this.moment=A),"function"==typeof define&&define.amd&&define("moment",[],function(){return A})}.call(this)}).call(this),function(){!function(){function e(){!function(){function e(e){!function(){e.lang("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:6,doy:12}})}(),function(){e.lang("ar",{months:"يناير/ كانون الثاني_فبراير/ شباط_مارس/ آذار_أبريل/ نيسان_مايو/ أيار_يونيو/ حزيران_يوليو/ تموز_أغسطس/ آب_سبتمبر/ أيلول_أكتوبر/ تشرين الأول_نوفمبر/ تشرين الثاني_ديسمبر/ كانون الأول".split("_"),monthsShort:"يناير/ كانون الثاني_فبراير/ شباط_مارس/ آذار_أبريل/ نيسان_مايو/ أيار_يونيو/ حزيران_يوليو/ تموز_أغسطس/ آب_سبتمبر/ أيلول_أكتوبر/ تشرين الأول_نوفمبر/ تشرين الثاني_ديسمبر/ كانون الأول".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:6,doy:12}})}(),function(){e.lang("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"янр_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"h:mm",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[В изминалата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[В изминалия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дни",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ев":0===n?e+"-ен":n>10&&20>n?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}})}(),function(){function t(e,t,n){var r={mm:"munutenn",MM:"miz",dd:"devezh"};return e+" "+i(r[n],e)}function n(e){switch(r(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}function r(e){return e>9?r(e%10):e}function i(e,t){return 2===t?o(e):e}function o(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}e.lang("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),longDateFormat:{LT:"h[e]mm A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY LT",LLLL:"dddd, D [a viz] MMMM YYYY LT"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondennoù",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:n},ordinal:function(e){var t=1===e?"añ":"vet";return e+t},week:{dow:1,doy:4}})}(),function(){e.lang("ca",{months:"Gener_Febrer_Març_Abril_Maig_Juny_Juliol_Agost_Setembre_Octubre_Novembre_Desembre".split("_"),monthsShort:"Gen._Febr._Mar._Abr._Mai._Jun._Jul._Ag._Set._Oct._Nov._Des.".split("_"),weekdays:"Diumenge_Dilluns_Dimarts_Dimecres_Dijous_Divendres_Dissabte".split("_"),weekdaysShort:"Dg._Dl._Dt._Dc._Dj._Dv._Ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinal:"%dº",week:{dow:1,doy:4}})}(),function(){function t(e){return e>1&&5>e&&1!==~~(e/10)}function n(e,n,r,i){var o=e+" ";switch(r){case"s":return n||i?"pár vteřin":"pár vteřinami";case"m":return n?"minuta":i?"minutu":"minutou";case"mm":return n||i?o+(t(e)?"minuty":"minut"):o+"minutami";case"h":return n?"hodina":i?"hodinu":"hodinou";case"hh":return n||i?o+(t(e)?"hodiny":"hodin"):o+"hodinami";case"d":return n||i?"den":"dnem";case"dd":return n||i?o+(t(e)?"dny":"dní"):o+"dny";case"M":return n||i?"měsíc":"měsícem";case"MM":return n||i?o+(t(e)?"měsíce":"měsíců"):o+"měsíci";case"y":return n||i?"rok":"rokem";case"yy":return n||i?o+(t(e)?"roky":"let"):o+"lety"}}var r="leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),i="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_");e.lang("cs",{months:r,monthsShort:i,monthsParse:function(e,t){var n,r=[];for(n=0;12>n;n++)r[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return r}(r,i),weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinal:"%d.",week:{dow:1,doy:4}})}(),function(){e.lang("cv",{months:"кăрлач_нарăс_пуш_ака_май_çĕртме_утă_çурла_авăн_юпа_чӳк_раштав".split("_"),monthsShort:"кăр_нар_пуш_ака_май_çĕр_утă_çур_ав_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кĕçнерникун_эрнекун_шăматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кĕç_эрн_шăм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кç_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",L:"DD-MM-YYYY",LL:"YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ]",LLL:"YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ], LT",LLLL:"dddd, YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ], LT"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ĕнер] LT [сехетре]",nextWeek:"[Çитес] dddd LT [сехетре]",lastWeek:"[Иртнĕ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(e){var t=/\u0441\u0435\u0445\u0435\u0442$/i.exec(e)?"рен":/\xe7\u0443\u043b$/i.exec(e)?"тан":"ран";return e+t},past:"%s каялла",s:"пĕр-ик çеккунт",m:"пĕр минут",mm:"%d минут",h:"пĕр сехет",hh:"%d сехет",d:"пĕр кун",dd:"%d кун",M:"пĕр уйăх",MM:"%d уйăх",y:"пĕр çул",yy:"%d çул"},ordinal:"%d-мĕш",week:{dow:1,doy:7}})}(),function(){e.lang("da",{months:"Januar_Februar_Marts_April_Maj_Juni_Juli_August_September_Oktober_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Maj_Jun_Jul_Aug_Sep_Okt_Nov_Dec".split("_"),weekdays:"Søndag_Mandag_Tirsdag_Onsdag_Torsdag_Fredag_Lørdag".split("_"),weekdaysShort:"Søn_Man_Tir_Ons_Tor_Fre_Lør".split("_"),weekdaysMin:"Sø_Ma_Ti_On_To_Fr_Lø".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D. MMMM, YYYY LT"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I går kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},ordinal:"%d.",week:{dow:1,doy:4}})}(),function(){e.lang("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"H:mm [Uhr]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT",sameElse:"L",nextDay:"[Morgen um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gestern um] LT",lastWeek:"[letzten] dddd [um] LT"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:"einer Minute",mm:"%d Minuten",h:"einer Stunde",hh:"%d Stunden",d:"einem Tag",dd:"%d Tagen",M:"einem Monat",MM:"%d Monaten",y:"einem Jahr",yy:"%d Jahren"},ordinal:"%d.",week:{dow:1,doy:4}})}(),function(){e.lang("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(e,t){return/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(e,t,n){return e>11?n?"μμ":"ΜΜ":n?"πμ":"ΠΜ"},longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:"[την προηγούμενη] dddd [{}] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendarEl[e],r=t&&t.hours();return n.replace("{}",1===r%12?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},ordinal:function(e){return e+"η"},week:{dow:1,doy:4}})}(),function(){e.lang("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"YYYY-MM-DD",LL:"D MMMM, YYYY",LLL:"D MMMM, YYYY LT",LLLL:"dddd, D MMMM, YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}})}(),function(){e.lang("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}(),function(){e.lang("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aŭg_sep_okt_nov_dec".split("_"),weekdays:"Dimanĉo_Lundo_Mardo_Merkredo_Ĵaŭdo_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_Ĵaŭ_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Ĵa_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY LT",LLLL:"dddd, [la] D[-an de] MMMM, YYYY LT"},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"antaŭ %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinal:"%da",week:{dow:1,doy:7}})}(),function(){e.lang("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sá".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:"%dº",week:{dow:1,doy:4}})}(),function(){function t(e,t,n,r){return r||t?"paari sekundi":"paar sekundit"}e.lang("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:t,m:"minut",mm:"%d minutit",h:"tund",hh:"%d tundi",d:"päev",dd:"%d päeva",M:"kuu",MM:"%d kuud",y:"aasta",yy:"%d aastat"},ordinal:"%d.",week:{dow:1,doy:4}})}(),function(){e.lang("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] LT",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] LT",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] LT",llll:"ddd, YYYY[ko] MMM D[a] LT"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinal:"%d.",week:{dow:1,doy:7}})}(),function(){function t(e,t,r,i){var o="";switch(r){case"s":return i?"muutaman sekunnin":"muutama sekunti";case"m":return i?"minuutin":"minuutti";case"mm":o=i?"minuutin":"minuuttia";break;case"h":return i?"tunnin":"tunti";case"hh":o=i?"tunnin":"tuntia";break;case"d":return i?"päivän":"päivä";case"dd":o=i?"päivän":"päivää";break;case"M":return i?"kuukauden":"kuukausi";case"MM":o=i?"kuukauden":"kuukautta";break;case"y":return i?"vuoden":"vuosi";case"yy":o=i?"vuoden":"vuotta"}return o=n(e,i)+" "+o}function n(e,t){return 10>e?t?i[e]:r[e]:e}var r="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),i=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",r[7],r[8],r[9]];e.lang("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] LT",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] LT",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] LT",llll:"ddd, Do MMM YYYY, [klo] LT"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinal:"%d.",week:{dow:1,doy:4}})}(),function(){e.lang("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return e+(1===e?"er":"")}})}(),function(){e.lang("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return e+(1===e?"er":"")},week:{dow:1,doy:4}})}(),function(){e.lang("gl",{months:"Xaneiro_Febreiro_Marzo_Abril_Maio_Xuño_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),monthsShort:"Xan._Feb._Mar._Abr._Mai._Xuñ._Xul._Ago._Set._Out._Nov._Dec.".split("_"),weekdays:"Domingo_Luns_Martes_Mércores_Xoves_Venres_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mér._Xov._Ven._Sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mé_Xo_Ve_Sá".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(1!==this.hours()?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return"uns segundos"===e?"nuns segundos":"en "+e},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinal:"%dº",week:{dow:1,doy:7}})}(),function(){e.lang("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY LT",LLLL:"dddd, D [ב]MMMM YYYY LT",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:"%d שעות",d:"יום",dd:"%d ימים",M:"חודש",MM:"%d חודשים",y:"שנה",yy:"%d שנים"}})}(),function(){var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};e.lang("hi",{months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(e){return e.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiem:function(e){return 4>e?"रात":10>e?"सुबह":17>e?"दोपहर":20>e?"शाम":"रात"},week:{dow:0,doy:6}})}(),function(){function t(e,t,n,r){var i=e;switch(n){case"s":return r||t?"néhány másodperc":"néhány másodperce";case"m":return"egy"+(r||t?" perc":" perce");case"mm":return i+(r||t?" perc":" perce");case"h":return"egy"+(r||t?" óra":" órája");case"hh":return i+(r||t?" óra":" órája");case"d":return"egy"+(r||t?" nap":" napja");case"dd":return i+(r||t?" nap":" napja");case"M":return"egy"+(r||t?" hónap":" hónapja");case"MM":return i+(r||t?" hónap":" hónapja");case"y":return"egy"+(r||t?" év":" éve");case"yy":return i+(r||t?" év":" éve")}return""}function n(e){return(e?"":"[múlt] ")+"["+r[this.day()]+"] LT[-kor]"}var r="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");e.lang("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D., LT",LLLL:"YYYY. MMMM D., dddd LT"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return n.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return n.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinal:"%d.",week:{dow:1,doy:7}})}(),function(){e.lang("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiem:function(e){return 11>e?"pagi":15>e?"siang":19>e?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(),function(){function t(e){return 11===e%100?!0:1===e%10?!1:!0}function n(e,n,r,i){var o=e+" ";switch(r){case"s":return n||i?"nokkrar sekúndur":"nokkrum sekúndum";case"m":return n?"mínúta":"mínútu";case"mm":return t(e)?o+(n||i?"mínútur":"mínútum"):n?o+"mínúta":o+"mínútu";case"hh":return t(e)?o+(n||i?"klukkustundir":"klukkustundum"):o+"klukkustund";case"d":return n?"dagur":i?"dag":"degi";case"dd":return t(e)?n?o+"dagar":o+(i?"daga":"dögum"):n?o+"dagur":o+(i?"dag":"degi");case"M":return n?"mánuður":i?"mánuð":"mánuði";case"MM":return t(e)?n?o+"mánuðir":o+(i?"mánuði":"mánuðum"):n?o+"mánuður":o+(i?"mánuð":"mánuði");case"y":return n||i?"ár":"ári";case"yy":return t(e)?o+(n||i?"ár":"árum"):o+(n||i?"ár":"ári")}}e.lang("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd, D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinal:"%d.",week:{dow:1,doy:4}})}(),function(){e.lang("it",{months:"Gennaio_Febbraio_Marzo_Aprile_Maggio_Giugno_Luglio_Agosto_Settembre_Ottobre_Novembre_Dicembre".split("_"),monthsShort:"Gen_Feb_Mar_Apr_Mag_Giu_Lug_Ago_Set_Ott_Nov_Dic".split("_"),weekdays:"Domenica_Lunedì_Martedì_Mercoledì_Giovedì_Venerdì_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"D_L_Ma_Me_G_V_S".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:"[lo scorso] dddd [alle] LT",sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e
},past:"%s fa",s:"secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:"%dº",week:{dow:1,doy:4}})}(),function(){e.lang("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"Ah時m分",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日LT",LLLL:"YYYY年M月D日LT dddd"},meridiem:function(e){return 12>e?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})}(),function(){function t(e,t){var n={nominative:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),accusative:"იანვარს_თებერვალს_მარტს_აპრილის_მაისს_ივნისს_ივლისს_აგვისტს_სექტემბერს_ოქტომბერს_ნოემბერს_დეკემბერს".split("_")},r=/D[oD] *MMMM?/.test(t)?"accusative":"nominative";return n[r][e.month()]}function n(e,t){var n={nominative:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),accusative:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_")},r=/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/.test(t)?"accusative":"nominative";return n[r][e.day()]}e.lang("ka",{months:t,monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:n,weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(e){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10ec\u10d4\u10da\u10d8)/.test(e)?e.replace(/\u10d8$/,"ში"):e+"ში"},past:function(e){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(e)?e.replace(/(\u10d8|\u10d4)$/,"ის წინ"):/\u10ec\u10d4\u10da\u10d8/.test(e)?e.replace(/\u10ec\u10d4\u10da\u10d8$/,"წლის წინ"):void 0},s:"რამდენიმე წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},ordinal:function(e){return 0===e?e:1===e?e+"-ლი":20>e||100>=e&&0===e%20||0===e%100?"მე-"+e:e+"-ე"},week:{dow:1,doy:7}})}(),function(){e.lang("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h시 mm분",L:"YYYY.MM.DD",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 LT",LLLL:"YYYY년 MMMM D일 dddd LT"},meridiem:function(e){return 12>e?"오전":"오후"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇초",ss:"%d초",m:"일분",mm:"%d분",h:"한시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한달",MM:"%d달",y:"일년",yy:"%d년"},ordinal:"%d일"})}(),function(){function t(e,t,n){var r=e.split("_");return n?1===t%10&&11!==t?r[2]:r[3]:1===t%10&&11!==t?r[0]:r[1]}function n(e,n,i){return e+" "+t(r[i],e,n)}var r={mm:"minūti_minūtes_minūte_minūtes",hh:"stundu_stundas_stunda_stundas",dd:"dienu_dienas_diena_dienas",MM:"mēnesi_mēnešus_mēnesis_mēneši",yy:"gadu_gadus_gads_gadi"};e.lang("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, LT",LLLL:"YYYY. [gada] D. MMMM, dddd, LT"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"%s vēlāk",past:"%s agrāk",s:"dažas sekundes",m:"minūti",mm:n,h:"stundu",hh:n,d:"dienu",dd:n,M:"mēnesi",MM:n,y:"gadu",yy:n},ordinal:"%d.",week:{dow:1,doy:4}})}(),function(){e.lang("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiem:function(e){return 11>e?"pagi":15>e?"tengahari":19>e?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(),function(){e.lang("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[I dag klokken] LT",nextDay:"[I morgen klokken] LT",nextWeek:"dddd [klokken] LT",lastDay:"[I går klokken] LT",lastWeek:"[Forrige] dddd [klokken] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},ordinal:"%d.",week:{dow:1,doy:4}})}(),function(){var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};e.lang("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आइ._सो._मङ्_बु._बि._शु._श.".split("_"),longDateFormat:{LT:"Aको h:mm बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},preparse:function(e){return e.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiem:function(e){return 3>e?"राती":10>e?"बिहान":15>e?"दिउँसो":18>e?"बेलुका":20>e?"साँझ":"राती"},calendar:{sameDay:"[आज] LT",nextDay:"[भोली] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडी",s:"केही समय",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:1,doy:7}})}(),function(){var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_");e.lang("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return/-MMM-/.test(r)?n[e.month()]:t[e.month()]},weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),longDateFormat:{LT:"HH:mm",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Vandaag om] LT",nextDay:"[Morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(),function(){e.lang("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mån_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_må_ty_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregående] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekund",m:"ett minutt",mm:"%d minutt",h:"en time",hh:"%d timar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},ordinal:"%d.",week:{dow:1,doy:4}})}(),function(){function t(e){return 5>e%10&&e%10>1&&1!==~~(e/10)}function n(e,n,r){var i=e+" ";switch(r){case"m":return n?"minuta":"minutę";case"mm":return i+(t(e)?"minuty":"minut");case"h":return n?"godzina":"godzinę";case"hh":return i+(t(e)?"godziny":"godzin");case"MM":return i+(t(e)?"miesiące":"miesięcy");case"yy":return i+(t(e)?"lata":"lat")}}var r="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),i="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_");e.lang("pl",{months:function(e,t){return/D MMMM/.test(t)?i[e.month()]:r[e.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"nie_pon_wt_śr_czw_pt_sb".split("_"),weekdaysMin:"N_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:n,mm:n,h:n,hh:n,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:n,y:"rok",yy:n},ordinal:"%d.",week:{dow:1,doy:4}})}(),function(){e.lang("pt-br",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Dom_2ª_3ª_4ª_5ª_6ª_Sáb".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinal:"%dº"})}(),function(){e.lang("pt",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Dom_2ª_3ª_4ª_5ª_6ª_Sáb".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinal:"%dº",week:{dow:1,doy:4}})}(),function(){e.lang("ro",{months:"Ianuarie_Februarie_Martie_Aprilie_Mai_Iunie_Iulie_August_Septembrie_Octombrie_Noiembrie_Decembrie".split("_"),monthsShort:"Ian_Feb_Mar_Apr_Mai_Iun_Iul_Aug_Sep_Oct_Noi_Dec".split("_"),weekdays:"Duminică_Luni_Marţi_Miercuri_Joi_Vineri_Sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",m:"un minut",mm:"%d minute",h:"o oră",hh:"%d ore",d:"o zi",dd:"%d zile",M:"o lună",MM:"%d luni",y:"un an",yy:"%d ani"},week:{dow:1,doy:7}})}(),function(){function t(e,t){var n=e.split("_");return 1===t%10&&11!==t%100?n[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?n[1]:n[2]}function n(e,n,r){var i={mm:"минута_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};return"m"===r?n?"минута":"минуту":e+" "+t(i[r],+e)}function r(e,t){var n={nominative:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),accusative:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_")},r=/D[oD]? *MMMM?/.test(t)?"accusative":"nominative";return n[r][e.month()]}function i(e,t){var n={nominative:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),accusative:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_")},r=/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e)? ?\] ?dddd/.test(t)?"accusative":"nominative";return n[r][e.day()]}e.lang("ru",{months:r,monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:i,weekdaysShort:"вск_пнд_втр_срд_чтв_птн_сбт".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., LT",LLLL:"dddd, D MMMM YYYY г., LT"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(){return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT"},lastWeek:function(){switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:n,mm:n,h:"час",hh:n,d:"день",dd:n,M:"месяц",MM:n,y:"год",yy:n},ordinal:"%d.",week:{dow:1,doy:7}})}(),function(){function t(e){return e>1&&5>e}function n(e,n,r,i){var o=e+" ";switch(r){case"s":return n||i?"pár sekúnd":"pár sekundami";case"m":return n?"minúta":i?"minútu":"minútou";case"mm":return n||i?o+(t(e)?"minúty":"minút"):o+"minútami";case"h":return n?"hodina":i?"hodinu":"hodinou";case"hh":return n||i?o+(t(e)?"hodiny":"hodín"):o+"hodinami";case"d":return n||i?"deň":"dňom";case"dd":return n||i?o+(t(e)?"dni":"dní"):o+"dňami";case"M":return n||i?"mesiac":"mesiacom";case"MM":return n||i?o+(t(e)?"mesiace":"mesiacov"):o+"mesiacmi";case"y":return n||i?"rok":"rokom";case"yy":return n||i?o+(t(e)?"roky":"rokov"):o+"rokmi"}}var r="január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_"),i="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_");e.lang("sk",{months:r,monthsShort:i,monthsParse:function(e,t){var n,r=[];for(n=0;12>n;n++)r[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return r}(r,i),weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 4:case 5:return"[minulý] dddd [o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinal:"%d.",week:{dow:1,doy:4}})}(),function(){function t(e,t,n){var r=e+" ";switch(n){case"m":return t?"ena minuta":"eno minuto";case"mm":return r+=1===e?"minuta":2===e?"minuti":3===e||4===e?"minute":"minut";case"h":return t?"ena ura":"eno uro";case"hh":return r+=1===e?"ura":2===e?"uri":3===e||4===e?"ure":"ur";case"dd":return r+=1===e?"dan":"dni";case"MM":return r+=1===e?"mesec":2===e?"meseca":3===e||4===e?"mesece":"mesecev";case"yy":return r+=1===e?"leto":2===e?"leti":3===e||4===e?"leta":"let"}}e.lang("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[prejšnja] dddd [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"%s nazaj",s:"nekaj sekund",m:t,mm:t,h:t,hh:t,d:"en dan",dd:t,M:"en mesec",MM:t,y:"eno leto",yy:t},ordinal:"%d.",week:{dow:1,doy:7}})}(),function(){e.lang("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"dddd LT",lastWeek:"[Förra] dddd[en] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"e":1===t?"a":2===t?"a":3===t?"e":"e";return e+n},week:{dow:1,doy:4}})}(),function(){e.lang("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"มกรา_กุมภา_มีนา_เมษา_พฤษภา_มิถุนา_กรกฎา_สิงหา_กันยา_ตุลา_พฤศจิกา_ธันวา".split("_"),weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),longDateFormat:{LT:"H นาฬิกา m นาที",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา LT",LLLL:"วันddddที่ D MMMM YYYY เวลา LT"},meridiem:function(e){return 12>e?"ก่อนเที่ยง":"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}})}(),function(){var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};e.lang("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinal:function(e){if(0===e)return e+"'ıncı";var n=e%10,r=e%100-n,i=e>=100?100:null;return e+(t[n]||t[r]||t[i])},week:{dow:1,doy:7}})}(),function(){e.lang("tzm-la",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(),function(){e.lang("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}})}(),function(){function t(e,t){var n=e.split("_");return 1===t%10&&11!==t%100?n[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?n[1]:n[2]}function n(e,n,r){var i={mm:"хвилина_хвилини_хвилин",hh:"година_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"};return"m"===r?n?"хвилина":"хвилину":"h"===r?n?"година":"годину":e+" "+t(i[r],+e)}function r(e,t){var n={nominative:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_"),accusative:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_")},r=/D[oD]? *MMMM?/.test(t)?"accusative":"nominative";return n[r][e.month()]}function i(e,t){var n={nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")},r=/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(t)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(t)?"genitive":"nominative";return n[r][e.day()]}function o(e){return function(){return e+"о"+(11===this.hours()?"б":"")+"] LT"}}e.lang("uk",{months:r,monthsShort:"січ_лют_бер_кві_тра_чер_лип_сер_вер_жов_лис_гру".split("_"),weekdays:i,weekdaysShort:"нед_пон_вів_срд_чет_птн_суб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., LT",LLLL:"dddd, D MMMM YYYY р., LT"},calendar:{sameDay:o("[Сьогодні "),nextDay:o("[Завтра "),lastDay:o("[Вчора "),nextWeek:o("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return o("[Минулої] dddd [").call(this);case 1:case 2:case 4:return o("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",m:n,mm:n,h:"годину",hh:n,d:"день",dd:n,M:"місяць",MM:n,y:"рік",yy:n},ordinal:"%d.",week:{dow:1,doy:7}})}(),function(){e.lang("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah点mm",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiem:function(e,t){return 9>e?"早上":11>e&&30>t?"上午":13>e&&30>t?"中午":18>e?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1分钟",mm:"%d分钟",h:"1小时",hh:"%d小时",d:"1天",dd:"%d天",M:"1个月",MM:"%d个月",y:"1年",yy:"%d年"}})}(),function(){e.lang("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah點mm",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiem:function(e,t){return 9>e?"早上":11>e&&30>t?"上午":13>e&&30>t?"中午":18>e?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"一分鐘",mm:"%d分鐘",h:"一小時",hh:"%d小時",d:"一天",dd:"%d天",M:"一個月",MM:"%d個月",y:"一年",yy:"%d年"}})}(),e.lang("en")}"function"==typeof define&&define.amd&&define(["moment"],e),"undefined"!=typeof window&&window.moment&&e(window.moment)}()}"function"==typeof define&&define.amd&&define(["moment"],e),"undefined"!=typeof window&&window.moment&&e(window.moment)}()}.call(this),function(){"undefined"!=typeof Package&&(e=this.moment)}.call(this),"undefined"==typeof Package&&(Package={}),Package.momentjs={moment:e}}(),function(){Package.meteor.Meteor,"undefined"==typeof Package&&(Package={}),Package["standard-app-packages"]={}}(),function(){Package.meteor.Meteor;var e;"undefined"==typeof Package&&(Package={}),Package.rss={RSS:e}}(),function(){var e=Package.meteor.Meteor,t=Package["reactive-dict"].ReactiveDict,n=Package.deps.Deps,r=Package.underscore._,i=Package.ejson.EJSON,o=Package.templating.Template,a=Package.handlebars.Handlebars,s=Package.jquery.$;Package.jquery.jQuery;var l,u,c,d,f,p,h,m,g,v,_,y,b=Package.spark.Spark;(function(){f={},f.global=function(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:null},f.resolveValue=function(e){var t,n,i=f.global();if(r.isString(e)){t=e.split("."),n=i;for(var o=0;o<t.length;o++)if(n=n[t[o]],!n)return void 0}else n=e;return n},f.hasOwnProperty=function(e,t){var n={}.hasOwnProperty;return n.call(e,t)},f.inherits=function(e,t){function n(){this.constructor=e}if("[object Function]"!==f.typeOf(e))throw new Error("First parameter to Utils.inherits must be a function");if("[object Function]"!==f.typeOf(t))throw new Error("Second parameter to Utils.inherits must be a function");for(var r in t)f.hasOwnProperty(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},f.toArray=function(e){return e?"[object Array]"!==f.typeOf(e)?[e]:e:[]},f.typeOf=function(e){return e&&e.typeName?e.typeName:Object.prototype.toString.call(e)},f.extend=function(e,t,n){return 1===arguments.length?t=e:(t=t||{},t.extend=e),f.create(t,{onBeforeExtendPrototype:n})},f.create=function(e,t){var n,i;t=t||{},e=e||{},n=f.hasOwnProperty(e,"constructor")?e.constructor:function(){return n.__super__&&n.__super__.constructor?n.__super__.constructor.apply(this,arguments):void 0},i=e.extend,e.extend&&delete e.extend;var o=function(e,t,n){f.inherits(e,f.resolveValue(t)),n&&r.extend(e.prototype,n)};return i&&o(n,i),t.onBeforeExtendPrototype&&t.onBeforeExtendPrototype.call(n,e),r.extend(n.prototype,e),n},f.assert=function(e,t){if(!e)throw new Error(t)},f.warn=function(e,t){e||console&&console.warn&&console.warn(t)},f.capitalize=function(e){return e[0].toUpperCase()+e.slice(1,e.length)},f.classify=function(e){var t=/_|-|\./;return r.map(e.split(t),function(e){return f.capitalize(e)}).join("")},f.pick=function(){for(var e,t=r.toArray(arguments),n=0;n<t.length;n++)if(e=t[n],"undefined"!=typeof e&&null!==e)return e;return null}}).call(this),function(){u=function(e,t,n){var i;f.assert(e instanceof h),f.assert(r.isString(t),"Route constructor requires a name as the second parameter"),r.isFunction(n)&&(n={handler:n}),n=this.options=n||{},i=n.path||"/"+t,this.router=e,this.originalPath=i,r.isString(this.originalPath)&&"/"!==this.originalPath.charAt(0)&&(this.originalPath="/"+this.originalPath),this.name=t,this.where=n.where||"client",this.controller=n.controller,this.isReactive="undefined"!=typeof n.reactive?n.reactive:!0,this.compile()},u.prototype={constructor:u,compile:function(){var e,t=this,n=t.options;return this.keys=[],t.originalPath instanceof RegExp?t.re=t.originalPath:(e=t.originalPath.replace(/(.)\/$/,"$1").concat(n.strict?"":"/?").replace(/\/\(/g,"(?:/").replace(/#/,"/?#").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(e,n,r,i,o,a){return t.keys.push({name:i,optional:!!a}),n=n||"",""+(a?"":n)+"(?:"+(a?n:"")+(r||"")+(o||r&&"([^/.]+?)"||"([^/]+?)")+")"+(a||"")
}).replace(/([\/.])/g,"\\$1").replace(/\*/g,"(.*)"),t.re=new RegExp("^"+e+"$",n.sensitive?"":"i")),this},params:function(e){if(!e)return null;var t,n,i,o=[],a=this.exec(e),s=this.keys;if(!a)throw new Error('The route named "'+this.name+'" does not match the path "'+e+'"');for(var l=1,u=a.length;u>l;++l)n=s[l-1],i="string"==typeof a[l]?decodeURIComponent(a[l]):a[l],n?o[n.name]=void 0!==o[n.name]?o[n.name]:i:o.push(i);return e=decodeURI(e),t=e.split("?")[1],t&&(t=t.split("#")[0]),o.hash=e.split("#")[1],t&&r.each(t.split("&"),function(e){v=e.split("="),o[v[0]]=decodeURIComponent(v[1])}),o},normalizePath:function(t){var n=e.absoluteUrl();t=t.replace(n,"");var r=t.indexOf("?");t=~r?t.slice(0,r):t;var i=t.indexOf("#");return t=~i?t.slice(0,i):t,"/"!==t.charAt(0)&&(t="/"+t),t},test:function(e){return this.re.test(this.normalizePath(e))},exec:function(e){return this.re.exec(this.normalizePath(e))},resolve:function(e,t){var n,i,o,a,s=0,l=this.originalPath,u=!1;if(t=t||{},e=e||[],a=t.query,o=t.hash,l instanceof RegExp)throw new Error("Cannot currently resolve a regular expression path");return l=this.originalPath.replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(t,o,a,s,l,c){if(o=o||"",n=e[s],i="undefined"!=typeof n,c&&!i)o="",n="";else if(!i)return u=!0,console.warn('You called Route.prototype.resolve with a missing parameter. "'+s+'" not found in params'),void 0;n=r.isFunction(n)?n.call(e):n;var d=r.map(String(n).split("/"),function(e){return encodeURIComponent(e)}).join("/");return o+d}).replace(/\*/g,function(){if("undefined"==typeof e[s])throw new Error("You are trying to access a wild card parameter at index "+s+" but the value of params at that index is undefined");var t=String(e[s++]);return r.map(t.split("/"),function(e){return encodeURIComponent(e)}).join("/")}),r.isObject(a)&&(a=r.map(r.pairs(a),function(e){return e[0]+"="+encodeURIComponent(e[1])}).join("&"),a&&a.length&&(l=l+"/?"+a)),o&&(o=encodeURI(o.replace("#","")),l=a?l+"#"+o:l+"/#"+o),u?"/":l},path:function(e,t){return this.resolve(e,t)},url:function(t,n){var r=this.path(t,n);return"/"===r[0]&&(r=r.slice(1,r.length)),e.absoluteUrl()+r},getController:function(e,t){var n,i,o,a=f.resolveValue,s=f.classify,u=f.toArray,c=function(e){var t=a(e);if("undefined"==typeof t)throw new Error('controller "'+e+'" is not defined');return t};return t=r.extend({},this.router.options,this.options,t||{},{before:u(this.options.before),after:u(this.options.after),unload:u(this.options.unload),waitOn:u(this.router.options.waitOn).concat(u(this.options.waitOn)),path:e,route:this,router:this.router,params:this.params(e)}),this.controller?(n=r.isString(this.controller)?c(this.controller):this.controller,i=new n(t)):(o=this.name,o&&(n=a(s(o+"Controller")))?i=new n(t):new l(t))}}}.call(this),function(){p=function(e){e=this.options=e||{},this.router=e.router,this.route=e.route,this.path=e.path,this.params=e.params||[],this.where=e.where||"client",this.action=e.action||this.action,this.hooks={},e.load=f.toArray(e.load),e.before=f.toArray(e.before),e.after=f.toArray(e.after),e.unload=f.toArray(e.unload)},p.prototype={constructor:p,runHooks:function(e,t){for(var n,t=(this.constructor,f.toArray(t)),r=function(t){var n=[];return t.__super__&&(n=n.concat(r(t.__super__.constructor))),t.prototype[e]?n.concat(t.prototype[e]):n},i=r(this.constructor),o=this.options[e],a=this.route?this.router.getHooks(e,this.route.name):[],s=a.concat(o).concat(i).concat(t),l=0;(n=s[l])&&!this.stopped;l++)n.call(this)},run:function(){throw new Error("not implemented")},action:function(){throw new Error("not implemented")},stop:function(){this.stopped=!0}},r.extend(p,{extend:function(e){return f.extend(this,e,function(){})}})}.call(this),function(){h=function(e){var t=this;this.configure(e),this.routes=[],this._globalHooks={},r.each(h.HOOK_TYPES,function(e){t._globalHooks[e]=[]})},h.HOOK_TYPES=["load","before","after","unload"],h.prototype={constructor:h,configure:function(e){var t=this;return this.options=this.options||{},r.extend(this.options,e),r.each(h.HOOK_TYPES,function(e){t.options[e]&&(r.each(f.toArray(t.options[e]),function(n){t.addHook(e,n)}),delete t.options[e])}),this},addHook:function(e,t,n){return n=n||{},n.only&&(n.only=f.toArray(n.only)),n.except&&(n.except=f.toArray(n.except)),this._globalHooks[e].push({options:n,hook:t}),this},load:function(e,t){return this.addHook("load",e,t)},before:function(e,t){return this.addHook("before",e,t)},after:function(e,t){return this.addHook("after",e,t)},unload:function(e,t){return this.addHook("unload",e,t)},getHooks:function(e,t){var n=[];return r.each(this._globalHooks[e],function(e){var i=e.options;i.except&&r.include(i.except,t)||(!i.only||r.include(i.only,t))&&n.push(e.hook)}),n},map:function(e){return f.assert(r.isFunction(e),"map requires a function as the first parameter"),e.call(this),this},route:function(e,t){var n;return f.assert(r.isString(e),"name is a required parameter"),n=t instanceof u?t:new u(this,e,t),this.routes[e]=n,this.routes.push(n),n},path:function(e,t,n){var r=this.routes[e];return f.warn(r,"You called Router.path for a route named "+e+" but that that route doesn't seem to exist. Are you sure you created it?"),r&&r.path(t,n)},url:function(e,t,n){var r=this.routes[e];return f.warn(r,'You called Router.url for a route named "'+e+"\" but that route doesn't seem to exist. Are you sure you created it?"),r&&r.url(t,n)},dispatch:function(t,n,r){function i(){if(o=s[u++],!o)return a.onRouteNotFound(t,n);if(o.test(t)){if(o.where!==l)return a.onUnhandled(t,n);var e=o.getController(t,n);a.run(e,r)}else i()}var o,a=this,s=a.routes,l=e.isClient?"client":"server",u=0;i()},run:function(){throw new Error("run not implemented")},onUnhandled:function(){throw new Error("onUnhandled not implemented")},onRouteNotFound:function(e){throw new Error('Oh no! No route found for path: "'+e+'"')}}}.call(this),function(){function e(e){var t=e.currentTarget,n=r.isUndefined(e.which)?e.button:e.which,i=t.href,o=t.pathname+t.search+t.hash;1===n&&(e.metaKey||e.ctrlKey||e.shiftKey||e.isDefaultPrevented()||t.target||d.isSameOrigin(i)&&(e.preventDefault(),d.set(o)))}function t(){o&&i.changed()}var i=new n.Dependency,o=!1;d={},d.origin=function(){return location.protocol+"//"+location.host},d.isSameOrigin=function(e){var t=d.origin();return 0===e.indexOf(t)},d.get=function(){return i.depend(),location},d.path=function(){return i.depend(),location.pathname+location.search+location.hash},d.set=function(e,t){t=t||{};var n=t.state||{};/^http/.test(e)?_=e:("/"!==e.charAt(0)&&(e="/"+e),_=d.origin()+e),d.isSameOrigin(_)?"server"===t.where?window.location=_:t.replaceState?d.replaceState(n,t.title,e):d.pushState(n,t.title,e):window.location=_,t.skipReactive!==!0&&i.changed()},d.pushState=function(e,t,n){o=!0,history.pushState?history.pushState(e,t,n):window.location=n},d.replaceState=function(e,t,n){o=!0,history.replaceState?history.replaceState(e,t,n):window.location=n},d.start=function(){this.isStarted||(s(window).on("popstate",t),s(document).on("click","a[href]",e),this.isStarted=!0,history.replaceState&&history.replaceState({initial:!0},null,location.pathname+location.search))},d.stop=function(){s(window).off("popstate",t),s(window).off("click","a[href]",e),this.isStarted=!1},d.start()}.call(this),function(){var s="__main__",l="__defaultLayout__",u=function(e,t){if(r.isFunction(e))return e;if(o[e])return o[e];if(t)return t;throw new Error('Oops, no template found named "'+e+'"')},c=function(e){if(r.isFunction(e))return!0;if(!o[e])throw new Error('Uh oh, no template found named "'+e+'"')},d=function(e){this._dep=new n.Dependency,this._value=e||null};d.prototype={set:function(e){i.equals(e,this._value)||(this._value=e,this._dep.changed())},get:function(){return this._dep.depend(),this._value},equals:function(e){return this._dep.depend(),i.equals(this._value,e)}},m=function(){this.yieldsToTemplates=new t,this.layout=new d,this.data=new d({}),this.layout.set(l),this._yields={}},m.prototype={constructor:m,setLayout:function(e){var t=this;e=e||l,c(e),n.nonreactive(function(){var n=t.layout.get();n!==e&&(t._yields={})}),this.layout.set(e)},setTemplate:function(t,r){var i=this;r=r||s,e.defer(function(){n.afterFlush(function(){var e,t=i._yields[r];if(!t)if(e=r==s?"Sorry, couldn't find the main yield. Did you define it in one of the rendered templates like this: {{yield}}?":"Sorry, couldn't find a yield named \""+r+'". Did you define it in one of the rendered templates like this: {{yield "'+r+'"}}?',console&&console.warn)console.warn(e);else{if(!console||!console.error)throw new Error(e);console.error(e)}})}),this.yieldsToTemplates.set(r,t)},clearYield:function(e){this.yieldsToTemplates.set(e,null)},setData:function(e){this.data.set(e)},getData:function(){return this.data.get()},helpers:function(){var e=this;return{yield:function(t){var n;return arguments.length<2&&(t=null),n=e._renderTemplate(t),new a.SafeString(n)}}},_renderTemplate:function(e){var t=this;return e=e||s,this._yields[e]=!0,b.isolate(function(){var n=u(t.yieldsToTemplates.get(e),function(){return""}),i=t.getData(),o=t.helpers(),a=r.extend({},i,o);return n(a)})},renderLayout:function(){var e=this,t=b.isolate(function(){var t=u(e.layout.get()),n=e.data.get(),i=e.helpers(),o=r.extend({},n,i);return t(o)});return t},clearUnusedYields:function(e){var t=this,n=r.keys(this.yieldsToTemplates.keys);e=r.filter(e,function(e){return!!e});var i=r.difference(n,e);r.each(i,function(e){t.clearYield(e)})}}}.call(this),function(){if(g=f.extend(h,{constructor:function(){var t=this;g.__super__.constructor.apply(this,arguments),this.isRendered=!1,this._page=new m,this._currentController=null,this._controllerDep=new n.Dependency,this._hasJustReloaded=!1,e.startup(function(){setTimeout(function(){t.options.autoRender!==!1&&t.autoRender(),t.options.autoStart!==!1&&t.start()})})},current:function(e){return e&&e.reactive===!1?this._currentController:(this._controllerDep.depend(),this._currentController)},setLayout:function(e){this._page.setLayout(e)},setTemplate:function(e,t){this._page.setTemplate(e,t)},clearUnusedYields:function(e){this._page.clearUnusedYields(e)},setData:function(e){this._page.setData(e)},getData:function(){return this._page.getData()},run:function(t,r){var i=this,o=e.isClient?"client":"server";if(f.assert(t,"run requires a controller"),t.where!=o)return i.onUnhandled(t.path,t.options),void 0;var a=function(){n.autorun(function(e){i._routeComputation=e,i._hasJustReloaded||t.runHooks("load"),i._hasJustReloaded=!1,n.autorun(function(){t.run()})})};this._currentController&&this._currentController.runHooks("unload"),this._currentController=t,this._routeComputation?(this._routeComputation.stop(),this._routeComputation.onInvalidate(a)):a(),t==this._currentController&&(r&&r(t),this._controllerDep.changed())},go:function(e,t,n){var r,i,o,a=/^\/|http/,s=function(){n=n||{},d.set(i,{replaceState:n.replaceState,state:n.state,skipReactive:!0})};a.test(e)?(i=e,n=t,this.dispatch(i,n,s)):(r=this.routes[e],f.assert(r,"No route found named "+e),i=r.path(t,n),o=r.getController(i,n),this.run(o,s))},render:function(){return this.isRendered=!0,this._page.renderLayout()},autoRender:function(){var e=this,t=b.render(function(){return e.render()});document.body.appendChild(t)},start:function(){var e=this;e.isStarted||(e.isStarted=!0,n.autorun(function(t){e._locationComputation=t,e.dispatch(d.path(),{state:history.state})}))},stop:function(){this.isStarted=!1,this._locationComputation&&this._locationComputation.stop()},onUnhandled:function(e){this.stop(),window.location=e},onRouteNotFound:function(e){if(history&&!history.state.initial)this.stop(),window.location=e;else{if(!this.options.notFoundTemplate)throw new Error('Oh no! No route found for path: "'+e+'"');this.setLayout(this.options.layoutTemplate),this.setTemplate(this.options.notFoundTemplate)}}}),c=new g,e._reload){e._reload.onMigrate("iron-router",function(){return[!0,!0]});var t=e._reload.migrationData("iron-router");c._hasJustReloaded=t}}.call(this),function(){o.__define__("__defaultLayout__",Package.handlebars.Handlebars.json_ast_to_func([["{",[[0,"yield"]]]]))}.call(this),function(){y=function(){this._dep=new n.Dependency,this.clear()},y.prototype={get:function(e){return this._list[e]},clear:function(){this._list=[]},append:function(e){var t=this;e=f.toArray(e),r.each(e,function(e){t.push(e)})},push:function(e){if(e){var t=this._list.push(e);return t}},ready:function(){return r.all(this._list,function(e){return e.ready()})}};var t=function(){var e=this,t=r.isFunction(e.data)?e.data.call(e):e.data;t!==!1&&e.setData(t)},i=function(){var e=this,t=e.getData();null!==t&&"undefined"!=typeof t||!e.notFoundTemplate||(e.render(e.notFoundTemplate),this.renderYields(),e.stop())},o=function(){this.ready()||this.loadingTemplate&&(this.render(this.loadingTemplate),this.renderYields(),this.stop())},a=function(){this.router&&this.router.clearUnusedYields(this._renderedYields)};l=f.extend(p,{constructor:function(){l.__super__.constructor.apply(this,arguments);var e=this,t=function(t){return f.pick(e.options[t],e[t])};this.loadingTemplate=t("loadingTemplate"),this.notFoundTemplate=t("notFoundTemplate"),this.data=t("data"),this.template=t("template")||this.route&&this.route.name,this.yieldTemplates=t("yieldTemplates"),this.layoutTemplate=t("layoutTemplate"),this.waitOn=[].concat(f.toArray(this.options.waitOn)).concat(f.toArray(this.waitOn)),this._waitList=new y},ready:function(){return this._waitList.ready()},redirect:function(){return this.stop(),this.router&&this.router.go.apply(this.router,arguments)},yieldTemplates:null,layoutTemplate:null,template:null,loadingTemplate:null,notFoundTemplate:null,data:{},getData:function(){return this.router&&this.router.getData()},setData:function(e){this.router&&this.router.setData(e)},waitOn:null,subscribe:function(){var t=this,n=function(){var e=!1;return{wait:function(){e||(t._waitList.push(this),e=!0)}}}(),i=e.subscribe.apply(this,arguments);return r.extend(i,n)},render:function(e,t){var n,e,r=this,i=function(e){r._renderedYields&&(e=e||"__main__",r._renderedYields.push(e))};0==arguments.length?(this.router&&this.router.setTemplate(this.template),i(),this.renderYields()):(t=t||{},n=t.to,this.router&&this.router.setTemplate(e,n),i(n))},renderYields:function(){var e=this;r.each(this.yieldTemplates,function(t,n){e.render(n,t)})},setLayout:function(e){this.router&&this.router.setLayout(e)},run:function(){var e=this;r.toArray(arguments);var n=r.isFunction(this.action)?this.action:this[this.action];f.assert(n,"You don't have an action named \""+this.action+'" defined on your RouteController'),this.stopped=!1,this._renderedYields=[],this._waitList.clear();var s=r.flatten(r.map(this.waitOn,function(t){return r.isFunction(t)?t.call(e):t}));return this._waitList.append(s),this.setLayout(this.layoutTemplate),this.runHooks("before",[o,t,i]),this.stopped?(this.isFirstRun=!1,void 0):(n.call(this),this.runHooks("after",[a]),this.isFirstRun=!1,void 0)},wait:function(e){e=r.isFunction(e)?e.call(this):e,this._waitList.append(e)},action:function(){this.render()}})}.call(this),function(){a&&(a.registerHelper("pathFor",function(e,t,n){2==arguments.length&&(n=t,t=this);var i=n.hash.hash,o=r.omit(n.hash,"hash");return c.path(e,t,{query:o,hash:i})}),a.registerHelper("urlFor",function(e,t,n){2==arguments.length&&(n=t,t=this);var i=n.hash.hash,o=r.omit(n.hash,"hash");return c.url(e,t,{query:o,hash:i})}),a.registerHelper("renderRouter",function(){return new a.SafeString(c.render())}),a.registerHelper("currentRouteController",function(){return c.current()}),a.registerHelper("link",function(e){var t=e.hash||{},n=t.route,r=t.params||this,i=t.query,o=t.hash,s=t["class"]||"",l=c.path(n,r,{query:i,hash:o}),u='<a href="'+l+'" class="'+s+'">';return u+=e.fn(this),u+="</a>",new a.SafeString(u)}))}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron-router"]={RouteController:l,Route:u,Router:c,IronLocation:d,Utils:f,IronRouteController:p,IronRouter:h,PageManager:m,ClientRouter:g}}(),function(){Package.meteor.Meteor;var e;"undefined"==typeof Package&&(Package={}),Package.mailchimp={MailChimpAPI:e}}(),function(){Package.meteor.Meteor,Package.jquery.$,Package.jquery.jQuery;var e;(function(){!function(e){"function"==typeof module?module.exports=e(this.jQuery||require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):this.NProgress=e(this.jQuery)}(function(e){function t(e,t,n){return t>e?t:e>n?n:e}function n(e){return 100*(-1+e)}function r(e,t,r){var i;return i="translate3d"===o.positionUsing?{transform:"translate3d("+n(e)+"%,0,0)"}:"translate"===o.positionUsing?{transform:"translate("+n(e)+"%,0)"}:{"margin-left":n(e)+"%"},i.transition="all "+t+"ms "+r,i}var i={};i.version="0.1.2";var o=i.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};return i.configure=function(t){return e.extend(o,t),this},i.status=null,i.set=function(e){var n=i.isStarted();e=t(e,o.minimum,1),i.status=1===e?null:e;var a=i.render(!n),s=a.find('[role="bar"]'),l=o.speed,u=o.easing;return a[0].offsetWidth,a.queue(function(t){""===o.positionUsing&&(o.positionUsing=i.getPositioningCSS()),s.css(r(e,l,u)),1===e?(a.css({transition:"none",opacity:1}),a[0].offsetWidth,setTimeout(function(){a.css({transition:"all "+l+"ms linear",opacity:0}),setTimeout(function(){i.remove(),t()},l)},l)):setTimeout(t,l)}),this},i.isStarted=function(){return"number"==typeof i.status},i.start=function(){i.status||i.set(0);var e=function(){setTimeout(function(){i.status&&(i.trickle(),e())},o.trickleSpeed)};return o.trickle&&e(),this},i.done=function(e){return e||i.status?i.inc(.3+.5*Math.random()).set(1):this},i.inc=function(e){var n=i.status;return n?("number"!=typeof e&&(e=(1-n)*t(Math.random()*n,.1,.95)),n=t(n+e,0,.994),i.set(n)):i.start()},i.trickle=function(){return i.inc(Math.random()*o.trickleRate)},function(){var e=0,t=0;i.promise=function(n){return n&&"resolved"!=n.state()?(0==t&&i.start(),e++,t++,n.always(function(){t--,0==t?(e=0,i.done()):i.set((e-t)/e)}),this):this}}(),i.render=function(t){if(i.isRendered())return e("#nprogress");e("html").addClass("nprogress-busy");var r=e("<div id='nprogress'>").html(o.template),a=t?"-100":n(i.status||0);return r.find('[role="bar"]').css({transition:"all 0 linear",transform:"translate3d("+a+"%,0,0)"}),o.showSpinner||r.find('[role="spinner"]').remove(),r.appendTo(document.body),r},i.remove=function(){e("html").removeClass("nprogress-busy"),e("#nprogress").remove()},i.isRendered=function(){return e("#nprogress").length>0},i.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"},i})}).call(this),function(){"undefined"!=typeof Package&&(e=this.NProgress)}.call(this),"undefined"==typeof Package&&(Package={}),Package.nprogress={NProgress:e}}(),function(){var e,t=Package.meteor.Meteor,n=Package.handlebars.Handlebars;(function(){e={translations:[],t:function(t){var n=getSetting("language","en");return e.translations[n]&&e.translations[n][t]?e.translations[n][t]:t}},t.isClient&&n.registerHelper("i18n",function(t){return e.t(t)})}).call(this),"undefined"==typeof Package&&(Package={}),Package["telescope-i18n"]={i18n:e}}(),function(){Package.meteor.Meteor,"undefined"==typeof Package&&(Package={}),Package.webapp={}}(),Accounts=Package["accounts-base"].Accounts,FormModel=Package["database-forms"].FormModel,DatabaseForm=Package["database-forms"].DatabaseForm,moment=Package.momentjs.moment,RSS=Package.rss.RSS,RouteController=Package["iron-router"].RouteController,Route=Package["iron-router"].Route,Router=Package["iron-router"].Router,IronLocation=Package["iron-router"].IronLocation,MailChimpAPI=Package.mailchimp.MailChimpAPI,NProgress=Package.nprogress.NProgress,i18n=Package["telescope-i18n"].i18n,CryptoJS=Package["crypto-base"].CryptoJS,Meteor=Package.meteor.Meteor,Log=Package.logging.Log,Deps=Package.deps.Deps,Session=Package.session.Session,DDP=Package.livedata.DDP,Template=Package.templating.Template,Handlebars=Package.handlebars.Handlebars,check=Package.check.check,Match=Package.check.Match,_=Package.underscore._,$=Package.jquery.$,jQuery=Package.jquery.jQuery,Random=Package.random.Random,EJSON=Package.ejson.EJSON,Spark=Package.spark.Spark,function(){Template.__define__("categories",Package.handlebars.Handlebars.json_ast_to_func(['<div class="grid-small grid-block dialog admin">\n    <h2>Categories</h2>\n    <form class="form-block">\n      <h3>Add new category</h3>\n      <div class="control-group">\n        <label>Name</label>\n        <div class="controls"><input id="name" type="text" value="" /></div>\n      </div>\n      <div class="form-actions">\n        <input type="submit" class="button" value="Submit" />\n      </div>\n    </form>\n    <ul>\n      ',["#",[[0,"each"],[0,"categories"]],["\n        ",[">","category_item"],"\n      "]],"\n    </ul>\n  </div>"]))}(),function(){Template.__define__("category_item",Package.handlebars.Handlebars.json_ast_to_func(['<li>      \n		<form>\n        <div class="control-group inline">\n          <a class="button submit edit-link" href="#">Save</a>\n          <div class="controls"><input id="name_',["{",[[0,"_id"]]],'" type="text" value="',["{",[[0,"name"]]],'" /></div>\n          <span class="category-slug small">Slug: /',["{",[[0,"slug"]]],"</span>\n        </div>\n      </form>\n  </li>"]))}(),function(){Template.__define__("logs",Package.handlebars.Handlebars.json_ast_to_func(['<div class="grid-small grid-block dialog admin">\n    <h2>Search Logs</h2>\n      <table>\n        <thead>\n          <tr>\n            <th>Keyword</th>\n            <th>Timestamp</th>\n          </tr>\n        </thead>\n        <tbody>\n        ',["#",[[0,"each"],[0]],["\n          ",["#",[[0,"if"],[0,"isNewDate"]],['\n            <tr class=\'search-date-header\'>\n              <th colspan="2">\n                <span class="search-date">',["{",[[0,"getDate"]]],'</span>\n                <span class="search-count">',["{",[[0,"searchCount"]]],"</span>\n              </th>\n            </tr>\n          "]],"\n          <tr>\n            <td>",["{",[[0,"keyword"]]],"</td>\n            <td>",["{",[[0,"getTime"]]],"</td>\n          </tr>\n        "]],'\n      </tbody>\n    </table>\n    <div class="grid more-button">\n      <a class="more-link" href="',["{",[[0,"loadMoreUrl"]]],'">',["{",[[0,"i18n"],"Load more"]],"</a>\n    </div>\n  </div>"]))}(),function(){Template.__define__("settings",Package.handlebars.Handlebars.json_ast_to_func(['<div class="grid-small grid-block dialog settings">\n    ',["#",[[0,"with"],[0,"setting"]],["\n\n      <h2>Settings</h2>\n\n      ",["#",[[0,"if"],[0,"noSettings"]],["\n      <p>No settings yet.</p>\n      "]],"\n\n      ",["#",[[0,"if"],[0,"currentUser","isAdmin"]],['\n        <form id="json-form"></form>\n        ',["{",[[0,"generateSettingsForm"],[0,"setting"]]],"\n      "]],"\n\n    "]],"\n  </div>"]))}(),function(){Template.__define__("toolbox",Package.handlebars.Handlebars.json_ast_to_func(['<div class="grid-small grid-block dialog admin toolbox">\n      <h2>Toolbox</h2>\n      <ul>\n        <li><a href="#" class="give-invites">Give 1 Invite to Everybody</a></li>\n      </ul>\n    </div>']))}(),function(){Template.__define__("comment_deleted",Package.handlebars.Handlebars.json_ast_to_func(['<div class="grid-small grid-block">\n  	<p>',["{",[[0,"i18n"],"Your comment has been deleted."]],"</p>\n  </div>"]))}(),function(){Template.__define__("comment_edit",Package.handlebars.Handlebars.json_ast_to_func(['<div class="grid submit">\n    ',["#",[[0,"with"],[0,"comment"]],['\n    <form class="grid-block form-horizontal">\n      ',["#",[[0,"constant"]],['\n      <div class="control-group">\n        <label class="control-label">',["{",[[0,"i18n"],"Comment"]],'</label>\n        <div class="controls" id="editor"><textarea id="body" value="" class="input-xlarge">',["{",[[0,"body"]]],"</textarea></div>\n      </div>\n      "]],'\n      <div class="form-actions">\n        <a class="delete-link" href="/comments/deleted">',["{",[[0,"i18n"],"Delete Comment"]],'</a>\n        <input type="submit" value="',["{",[[0,"i18n"],"Submit"]],'" title="(⌘+enter)" />\n      </div>\n    </form>\n    ']],"\n  </div>"]))}(),function(){Template.__define__("comment_form",Package.handlebars.Handlebars.json_ast_to_func(['<div class="comment-new">\n    <form>\n      ',["#",[[0,"constant"]],['\n      <div class="comment-field" id="editor">\n        <textarea id="comment" rows="3" autofocus="autofocus"></textarea>\n      </div>\n      ']],'\n      <div class="comment-submit">\n        <input type="submit" class="button" value="',["{",[[0,"i18n"],"Add Comment"]],'" title="(⌘+enter)" />\n      </div>\n    </form>\n  </div>']))}(),function(){Template.__define__("comment_item",Package.handlebars.Handlebars.json_ast_to_func(['<li class="comment comment-displayed" id="',["{",[[0,"_id"]]],'">\n   <div class="comment-body">\n      <div class="comment-content">\n        <div class="comment-actions ',["#",[[0,"if"],[0,"upvoted"]],["upvoted"],["not-upvoted"]]," ",["#",[[0,"if"],[0,"downvoted"]],["downvoted"],["not-downvoted"]],'">\n          <a class="upvote" href="#">\n            <i class="icon-up"></i>\n            <span>',["{",[[0,"i18n"],"upvote"]],'</span>\n          </a>\n          <a class="downvote" href="#">\n            <i class="icon-down"></i>\n            <span>',["{",[[0,"i18n"],"downvote"]],"</span>\n          </a>\n        </div>\n        ",["#",[[0,"constant"]],['\n          <div class="user-avatar"><img src="',["{",[[0,"user_avatar"]]],'" /></div>\n        ']],'\n        <div class="comment-main">\n          <div class="comment-meta">\n            <a class="comment-username" href="',["{",[[0,"profileUrl"]]],'">',["{",[[0,"authorName"]]],'</a>\n            <span class="comment-time">',["{",[[0,"ago"]]],',</span>\n            <span class="points">',["{",[[0,"votes"]]],' <span class="unit">points </span>\n            <a href="/comments/',["{",[[0,"_id"]]],'" class="comment-permalink icon-link goto-comment">',["{",[[0,"i18n"],"link"]],"</a>\n            ",["#",[[0,"if"],[0,"can_edit"]],['\n              | <a class="edit-link" href="/comments/',["{",[[0,"_id"]]],'/edit">',["{",[[0,"i18n"],"Edit"]],"</a>\n            "]],"\n            ",["#",[[0,"if"],[0,"currentUser","isAdmin"]],["\n              | <span>",["{",[[0,"full_date"]]],"</span>\n            "]],'\n          </div>\n          <div class="comment-text markdown">',["!",[[0,"body_formatted"]]],"</div>\n          ",["#",[[0,"if"],[0,"getSetting"],"nestedComments",!0],['\n            <a href="/comments/',["{",[[0,"_id"]]],'/reply" class="comment-reply goto-comment">',["{",[[0,"i18n"],"Reply"]],"</a>\n          "]],"\n        </div>\n      </div>\n      ",["#",[[0,"if"],[0,"showChildComments"]],['\n      <ul class="comment-children comment-list">\n      ',["#",[[0,"each"],[0,"child_comments"]],["\n        ",["#",[[0,"with"],[0]],["\n          ",[">","comment_item"],"\n        "]],"\n      "]],"\n      </ul>\n      "]],"\n    </div>\n  </li>"]))}(),function(){Template.__define__("comment_list",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"if"],[0,"has_comments"]],['\n    <ul class="comments comment-list">\n      ',["#",[[0,"each"],[0,"child_comments"]],["\n        ",[">","comment_item"],"\n      "]],"\n    </ul>\n  "],["\n    <p>",["{",[[0,"i18n"],"No comments."]],"</p>\n  "]]]))}(),function(){Template.__define__("comment_page",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"if"],[0,"canView"]],['\n  <div class="post grid comment-page">\n    \n    ',["#",[[0,"with"],[0,"post"]],["\n      ",[">","post_item"],"\n    "]],"\n\n    ",["#",[[0,"with"],[0,"comment"]],['\n      <ul class="selected-comment">\n       ',[">","comment_item"],"\n      </ul>\n    "]],"\n\n  </div>\n  "]]]))}(),function(){Template.__define__("comment_reply",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"if"],[0,"canComment"],"replace"],['\n  <div class="post grid comment-page">\n    \n    ',["#",[[0,"with"],[0,"post"]],["\n      ",[">","post_item"],"\n    "]],"\n\n    ",["#",[[0,"with"],[0,"comment"]],['\n      <ul class="selected-comment">\n       ',[">","comment_item"],"\n      </ul>\n    "]],"\n\n    ",[">","comment_form"],"\n    \n  </div>\n  "]]]))}(),function(){Template.__define__("error",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"each"],[0,"errors"]],["\n		",[">","error_item"],"\n	"]]]))}(),function(){Template.__define__("error_item",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"if"],[0,"show"]],['\n    <div class="grid">\n      <div class="error ',["{",[[0,"type"]]],'-message">\n        ',["{",[[0,"message"]]],"\n      </div>\n    </div>\n  "]]]))}(),function(){Template.__define__("footer",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"if"],[0,"footerCode"]],['\n  <div class="footer grid ',["{",[[0,"footerClass"]]],'">\n    ',["!",[[0,"footerCode"]]],"\n  </div>\n  "]]]))}(),function(){Template.__define__("layout",Package.handlebars.Handlebars.json_ast_to_func(["<style>\n    ",["#",[[0,"if"],[0,"backgroundColor"]],["\n      body{\n        background-color: ",["{",[[0,"backgroundColor"]]],";\n      }\n    "]],"\n    ",["#",[[0,"if"],[0,"buttonColor"]],['\n      input[type="submit"], button, .button, .auth-buttons #login-buttons #login-buttons-password, .btn, .error{\n        background-color: ',["{",[[0,"buttonColor"]]],";\n      }\n      a:hover, .post-content .post-heading .post-title:hover, .post-content .post-upvote .upvote-link i, .comment-actions a i, .comment-actions.upvoted .upvote i, .comment-actions.downvoted .downvote i{\n        color: ",["{",[[0,"buttonColor"]]],";\n      }\n    "]],"\n    ",["#",[[0,"if"],[0,"secondaryColor"]],["\n      .post-content .post-upvote .upvote-link.voted i.icon-check{\n        color: ",["{",[[0,"secondaryColor"]]],";\n      }\n    "]],"\n    ",["#",[[0,"if"],[0,"headerColor"]],["\n      .header{\n        background-color: ",["{",[[0,"headerColor"]]],";\n      }\n    "]],'\n  </style>\n  <div class="outer-wrapper ',["{",[[0,"currentPage"]]],'">\n    ',[">","mobile_nav"],'\n    <div class="content-wrapper template-',["{",[[0,"pageName"]]],'">\n      ',[">","nav"],"\n      ",[">","error"],"\n      ",["{",[[0,"yield"]]],"\n      ",[">","notifications"],"\n      ",[">","footer"],'\n      <div class="overlay hidden"></div>\n    </div>\n    ',["!",[[0,"extraCode"]]],"\n  </div>"]))}(),function(){Template.__define__("mobile_nav",Package.handlebars.Handlebars.json_ast_to_func(['<div id="" class="mobile-nav">\n    <div>\n      <ul>\n        <li><a class="top" href="/top">',["{",[[0,"i18n"],"Top"]],'</a></li>\n        <li><a class="new" href="/new">',["{",[[0,"i18n"],"New"]],'</a></li>\n        <li><a class="digest" href="/digest">',["{",[[0,"i18n"],"Digest"]],"</a></li>\n        ",["#",[[0,"if"],[0,"currentUser","isAdmin"]],['\n          <li><a class="users" href="/users">',["{",[[0,"i18n"],"Users"]],'</a></li>\n          <li><a class="settings" href="/settings">',["{",[[0,"i18n"],"Settings"]],'</a></li>\n          <li><a class="admin" href="/admin">',["{",[[0,"i18n"],"Admin"]],"</a></li>\n        "]],"\n        ",["#",[[0,"if"],[0,"canView"]],['\n          <li><a href="/submit">',["{",[[0,"i18n"],"Post"]],"</a></li>\n        "]],"\n      </ul>\n    </div>\n  </div>"]))}(),function(){Template.__define__("nav",Package.handlebars.Handlebars.json_ast_to_func(['<header class="header grid">\n\n    <a id="mobile-menu" href="#menu" class="mobile mobile-button menu"><i class="icon-menu"></i><span>',["{",[[0,"i18n"],"Menu"]],'</span></a>\n\n    <ul class="nav site-nav desktop">\n      ',["#",[[0,"if"],[0,"canView"]],['\n      <li class="dropdown">\n        <a class="View" href="/">',["{",[[0,"i18n"],"View"]],'</a>\n        <div class="dropdown-menu">\n          <ul role="menu" aria-labelledby="dLabel">\n            <li><a class="top" href="/top">',["{",[[0,"i18n"],"Top"]],'</a></li>\n            <li><a class="new" href="/new">',["{",[[0,"i18n"],"New"]],'</a></li>\n            <li><a class="best" href="/best">',["{",[[0,"i18n"],"Best"]],'</a></li>\n            <li><a class="digest" href="/digest">',["{",[[0,"i18n"],"Digest"]],"</a></li>\n          </ul>\n        </div>\n      </li>\n      "]],"\n      ",["#",[[0,"if"],[0,"hasCategories"]],['\n      <li class="dropdown">\n        <a class="categories" href="/">',["{",[[0,"i18n"],"Categories"]],'</a>\n        <div class="dropdown-menu">\n          <ul role="menu" aria-labelledby="dLabel">\n            ',["#",[[0,"each"],[0,"categories"]],['\n              <li><a class="pending" href="',["{",[[0,"categoryLink"]]],'">',["{",[[0,"name"]]],"</a></li>\n            "]],"\n          </ul>\n        </div>\n      </li>\n      "]],"\n      ",["#",[[0,"if"],[0,"isAdmin"]],['\n      <li class="dropdown">\n        <a class="admin" href="/">',["{",[[0,"i18n"],"Administration"]],'</a>\n        <div class="dropdown-menu">\n          <ul role="menu" aria-labelledby="dLabel">\n            <li><a class="pending" href="/pending">',["{",[[0,"i18n"],"Pending"]],'</a></li>\n            <li><a class="users" href="/all-users">',["{",[[0,"i18n"],"Users"]],'</a></li>\n            <li><a class="settings" href="/settings">',["{",[[0,"i18n"],"Settings"]],'</a></li>\n            <li><a class="categories" href="/categories">',["{",[[0,"i18n"],"Categories"]],'</a></li>\n            <li><a class="logs" href="/logs">',["{",[[0,"i18n"],"Logs"]],'</a></li>\n            <li><a class="categories" href="/toolbox">',["{",[[0,"i18n"],"Toolbox"]],"</a></li>\n          </ul>\n        </div>\n      </li>\n      "]],"\n      <li>\n        ",[">","search"],"\n      </li>\n    </ul>\n\n    ",["#",[[0,"if"],[0,"logo_url"]],['\n      <h1 class="logo image" style="height:',["{",[[0,"logo_height"]]],"px; width:",["{",[[0,"logo_width"]]],"px; top:",["{",[[0,"logo_top"]]],"px; margin-left:",["{",[[0,"logo_offset"]]],'px;">\n        <a href="/">\n          <img src="',["{",[[0,"logo_url"]]],'" style="height:',["{",[[0,"logo_height"]]],'px;" alt="',["{",[[0,"site_title"]]],'"/>\n        </a>\n      </h1>\n    '],['\n      <h1 class="logo"><a href="/">',["{",[[0,"site_title"]]],"</a></h1>\n    "]],"\n\n    ",["#",[[0,"if"],[0,"canView"]],['\n    <ul class="nav user-nav desktop">\n      <li><a id="submit" class="submit button" href="/submit">',["{",[[0,"i18n"],"Post"]],"</a></li>\n    </ul>\n    "]],'\n\n    <div class="auth-buttons">\n      ',["{",[[0,"loginButtons"],{align:"right"}]],"\n    </div>\n\n  </header>"]))
}(),function(){Template.__define__("search",Package.handlebars.Handlebars.json_ast_to_func(['<div class="search ',["{",[[0,"searchQueryEmpty"]]],'">\n    <input id="search" type="search" class="search-field" placeholder="search" value="',["{",[[0,"searchQuery"]]],'">\n  </div>']))}(),function(){Template.__define__("already_logged_in",Package.handlebars.Handlebars.json_ast_to_func(['<div class="grid-small grid-block dialog">\n		<p>',["{",[[0,"i18n"],"You are already logged in"]],"</p>\n	</div>"]))}(),function(){Template.__define__("loading",Package.handlebars.Handlebars.json_ast_to_func(['<div id="loading" class="grid"></div>']))}(),function(){Template.__define__("no_account",Package.handlebars.Handlebars.json_ast_to_func(['<div class="grid-small grid-block dialog">\n		<p>',["{",[[0,"i18n"],"Sorry, this is a private site. Please sign up first."]],"</p>\n		",["{",[[0,"landingPageText"]]],'\n		<div class="twitter-signup twitter-auth">\n      		<a class="twitter-button button" href="#">',["{",[[0,"i18n"],"Sign In/Sign Up with Twitter"]],"</a>\n    	</div>\n	</div>"]))}(),function(){Template.__define__("no_invite",Package.handlebars.Handlebars.json_ast_to_func(['<div class="grid-small grid-block dialog">\n		<h2>',["{",[[0,"i18n"],"Thanks for signing up!"]],"</h2>\n		",["{",[[0,"afterSignupText"]]],"\n		<p>",["{",[[0,"i18n"],"The site is currently invite-only, but we will let you know as soon as a spot opens up."]],"</p>\n	</div>"]))}(),function(){Template.__define__("no_rights",Package.handlebars.Handlebars.json_ast_to_func(['<div class="grid-small grid-block dialog">\n    ',["{",[[0,"i18n"],"Sorry, you don't have the rights to view this page."]],"\n  </div>"]))}(),function(){Template.__define__("not_found",Package.handlebars.Handlebars.json_ast_to_func(['<div class="grid-small grid-block dialog">\n		<h2>',["{",[[0,"i18n"],"Not Found!"]],"</h2>\n    <p>",["{",[[0,"i18n"],"We're sorry; whatever you were looking for isn't here.."]],"</p>\n	</div>"]))}(),function(){Template.__define__("notification_item",Package.handlebars.Handlebars.json_ast_to_func(['<li class="',["#",[[0,"if"],[0,"read"]],["read"]],'">\n    <span class="notification-timestamp">',["{",[[0,"nice_time"]]],"</span>\n    <p>\n      ",["!",[[0,"notificationHTML"]]],"\n    </p>\n  </li>"]))}(),function(){Template.__define__("notifications",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"if"],[0,"currentUser"]],["\n		",["#",[[0,"if"],[0,"canPost"]],['\n		<div class="notifications desktop">\n			<a href="#" class="notifications-toggle ',["{",[[0,"notification_class"]]],'">',["{",[[0,"notification_count"]]],'</a>\n			<a href="#" class="mark-as-read">',["{",[[0,"i18n"],"Mark all as read"]],"</a>\n			<ul>\n			",["#",[[0,"each"],[0,"notifications"]],["\n				",[">","notification_item"],"\n		    "]],"\n			</ul>\n		</div>\n		"]],"\n	"]]]))}(),function(){Template.__define__("unsubscribe",Package.handlebars.Handlebars.json_ast_to_func(['<div class="grid-small grid-block dialog admin">\n    <p>',["{",[[0,"unsubscribed"]]],"</p>\n  </div>"]))}(),function(){Template.__define__("post_deleted",Package.handlebars.Handlebars.json_ast_to_func(['<div class="grid-small grid-block">\n  	<p>',["{",[[0,"i18n"],"Your post has been deleted."]],"</p>\n  </div>"]))}(),function(){Template.__define__("post_edit",Package.handlebars.Handlebars.json_ast_to_func(['<div class="grid submit">\n    ',["#",[[0,"with"],[0,"post"]],[["#",[[0,"constant"]],['\n      <form class="grid-block form-horizontal">\n        <div class="control-group">\n          <label class="control-label post-form-headline">',["{",[[0,"i18n"],"Created"]],'</label>\n          <div class="controls"><p>',["{",[[0,"created"]]],'</p></div>\n        </div>\n        <div class="control-group">\n          <label class="control-label post-form-headline">',["{",[[0,"i18n"],"Title"]],'</label>\n          <div class="controls"><input id="title" type="text" value="',["{",[[0,"headline"]]],'" /></div>\n        </div>\n        <div class="control-group">\n          <label class="control-label post-form-url">',["{",[[0,"i18n"],"URL"]],'</label>\n          <div class="controls"><input id="url" type="text" value="',["{",[[0,"url"]]],'" /></div>\n        </div>\n        ',["#",[[0,"if"],[0,"shorten"]],['\n        <div class="control-group">\n          <label class="control-label post-form-url">',["{",[[0,"i18n"],"Short URL"]],'</label>\n          <div class="controls"><input id="short-url" type="text" value="',["{",[[0,"shortUrl"]]],'" /></div>\n        </div>\n        ']],'\n        <div class="control-group">\n          <label class="control-label post-form-body">',["{",[[0,"i18n"],"Body"]],'</label>\n          <div class="controls" id="editor"><textarea id="body" value="" class="input-xlarge">',["{",[[0,"body"]]],'</textarea></div>\n        </div>\n        <div class="control-group post-form-category">\n          <label class="control-label">',["{",[[0,"i18n"],"Categories"]],'</label>\n          <div class="controls">\n            ',["#",[[0,"each"],[0,"categories"]],['\n            <label class="radio inline">\n              <input id="category_',["{",[[0,"_id"]]],'" type="checkbox" value="',["{",[[0,"_id"]]],'" name="category" ',["{",[[0,"checked"]]]," /> ",["{",[[0,"name"]]],"\n            </label>\n            "]],"\n          </div>\n        </div>\n        ",["#",[[0,"if"],[0,"isAdmin"]],['\n          <div class="control-group post-form-sticky">\n            <label class="control-label">',["{",[[0,"i18n"],"Inactive?"]],'</label>\n            <div class="controls">\n              ',["{",[[0,"inactive"]]],'\n            </div>\n          </div>\n          <div class="control-group post-form-sticky">\n            <label class="control-label">',["{",[[0,"i18n"],"Sticky?"]],'</label>\n            <div class="controls">\n              <input type="checkbox" name="sticky" id="sticky" ',["{",[[0,"isSticky"]]]," />\n            </div>\n          </div>\n          ",["#",[[0,"if"],[0,"isApproved"]],['\n          <div class="control-group">\n            <label class="control-label post-form-date">',["{",[[0,"i18n"],"Submission Date"]],'</label>\n            <div class="controls"><input id="submitted_date" type="text" value="',["{",[[0,"submittedDate"]]],'" /></div>\n            <input id="submitted_hidden" type="hidden" value="',["{",[[0,"submitted"]]],'" />\n          </div>\n          <div class="control-group">\n            <label class="control-label post-form-time">',["{",[[0,"i18n"],"Submission Time"]],'</label>\n            <div class="controls"><input id="submitted_time" type="text" value="',["{",[[0,"submittedTime"]]],'" /></div>\n          </div>\n          '],['\n          <div class="control-group">\n            <label class="control-label post-form-timestamp">',["{",[[0,"i18n"],"Submission"]],'</label>\n            <div class="controls">\n              <p>',["{",[[0,"i18n"],"Note: this post is still pending so it has no submission timestamp yet."]],"</p>\n            </div>  \n          </div>\n          "]],'\n          <div class="control-group post-form-user">\n            <label class="control-label">',["{",[[0,"i18n"],"User"]],'</label>\n            <div class="controls">\n              <select id="postUser">\n                ',["#",[[0,"each"],[0,"users"]],["\n                  <option ",["{",[[0,"isSelected"]]],' value="',["{",[[0,"_id"]]],'">',["{",[[0,"userName"]]],"</option>\n                "]],'\n              </select>\n            </div>\n          </div>\n          <div class="control-group post-form-status">\n            <label class="control-label">',["{",[[0,"i18n"],"Status"]],'</label>\n            <div class="controls">\n              <label class="radio inline">\n                <input id="status_pending" type="radio" value="1" name="status" ',["{",[[0,"hasStatusPending"]]]," /> ",["{",[[0,"i18n"],"Pending"]],'\n              </label>\n              <label class="radio inline">\n                <input id="status_approved" type="radio" value="2" name="status" ',["{",[[0,"hasStatusApproved"]]]," /> ",["{",[[0,"i18n"],"Approved"]],'\n              </label>\n              <label class="radio inline">  \n                <input id="status_rejected" type="radio" value="3" name="status" ',["{",[[0,"hasStatusRejected"]]]," /> ",["{",[[0,"i18n"],"Rejected"]],"\n              </label>\n            </div>\n          </div>\n        "]],'\n        <div class="form-actions">\n          <a class="delete-link" href="/posts/deleted">',["{",[[0,"i18n"],"Delete Post"]],'</a>\n          <input type="submit" value="',["{",[[0,"i18n"],"Submit"]],'" />\n        </div>\n      </form>\n    ']]]],"\n  </div>"]))}(),function(){Template.__define__("post_item",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"with"],[0,"post"]],['\n  <div class="post post-',["{",[[0,"rank"]]]," ",["#",[[0,"if"],[0,"sticky"]],["sticky"]]," ",["{",[[0,"inactiveClass"]]],'" id="',["{",[[0,"_id"]]],'">\n    <ul class="post-actions">\n      <li class="post-share desktop"><a href="#" class="share-link"><i class="icon-share"></i><span class="action">',["{",[[0,"i18n"],"Share"]],'</span></a>\n        <div class="share-options hidden">\n          <div data-url="',["#",[[0,"if"],[0,"url"]],[["{",[[0,"url"]]]],[["{",[[0,"current_domain"]]],"/posts/",["{",[[0,"_id"]]]]],'" data-text="',["{",[[0,"headline"]]],'" class="share-replace">\n          </div>\n        </div>\n      </li>\n      <li class="post-discuss">\n        <a class="discuss-link go-to-comments" href="/posts/',["{",[[0,"_id"]]],'">\n          <i class="icon-comment"></i>\n          <span class="count">',["{",[[0,"comments"]]],'</span>\n          <span class="action">',["{",[[0,"i18n"],"Discuss"]],'</span>\n        </a>\n      </li>\n      <li class="post-more mobile"><a class="more-link"><i class="icon-share"></i><span class="action">Text </span></a></li>\n    </ul>\n    <div class="post-content">\n      ',["#",[[0,"if"],[0,"oneBasedRank"]],['<span class="post-rank">',["{",[[0,"oneBasedRank"]]],"</span>"]],'\n      <div class="post-upvote">\n        ',["#",[[0,"if"],[0,"voted"]],['\n          <span class="upvote-link voted"><i class="icon-check"></i><span>',["{",[[0,"i18n"],"Upvote"]],"</span></span>\n        "],['\n          <a class="upvote-link not-voted" href="#"><i class="icon-up"></i><span>',["{",[[0,"i18n"],"Upvote"]],"</span></a>\n        "]],'\n      </div>\n      <div class="post-info">\n        ',["#",[[0,"if"],[0,"sticky"]],['\n          <span class="post-sticky"><i class="icon-pin"></i><span>',["{",[[0,"i18n"],"Sticky"]],"</span></span>\n        "]],'\n        <h3 class="post-heading">\n          <a href="',["{",[[0,"postLink"]]],'" class="post-title" target="',["{",[[0,"postTarget"]]],'">',["{",[[0,"headline"]]],"</a>\n          ",["#",[[0,"if"],[0,"url"]],['<span class="post-domain">',["{",[[0,"domain"]]],"</span>"]],"\n            ",["#",[[0,"each"],[0,"categories"]],['\n              <a href="',["{",[[0,"categoryLink"]]],'" class="post-category category-',["{",[[0,"slug"]]],'">',["{",[[0,"name"]]],"</a>\n            "]],'\n        </h3>\n        <p class="post-meta"><span class="points">',["{",[[0,"votes"]]],' <span class="unit">',["{",[[0,"pointsUnitDisplayText"]]],' </span></span>by  <a class="post-author" href="',["{",[[0,"profileUrl"]]],'">',["{",[[0,"authorName"]]],'</a> <span class="post-time">',["{",[[0,"ago"]]],'</span><span class="comments">, <a class="go-to-comments" href="/posts/',["{",[[0,"_id"]]],'">',["{",[[0,"comments"]]]," ",["{",[[0,"commentsDisplayText"]]],"</a></span>\n          ",["#",[[0,"if"],[0,"can_edit"]],['\n            | <a href="/posts/',["{",[[0,"_id"]]],'/edit" class="edit-link goto-edit">Edit</a>\n          ']],"\n          ",["#",[[0,"if"],[0,"currentUser","isAdmin"]],["\n            | ",["{",[[0,"i18n"],"status"]],": ",["{",[[0,"status"]]],"</span>, ",["{",[[0,"i18n"],"votes"]],": ",["{",[[0,"votes"]]],", ",["{",[[0,"i18n"],"baseScore"]],": ",["{",[[0,"baseScore"]]],", ",["{",[[0,"i18n"],"score"]],": ",["{",[[0,"short_score"]]],", ",["{",[[0,"i18n"],"clicks"]],": ",["{",[[0,"clicks"]]],"\n          "]],"\n        </p>\n      </div>\n    </div>\n    ",["#",[[0,"if"],[0,"body"]],['\n      <div class="post-message markdown">',["!",[[0,"body_formatted"]]],"</div>\n    "]],"\n  </div>\n  "]]]))}(),function(){Template.__define__("post_page",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"if"],[0,"canView"]],["\n    ",["#",[[0,"with"],[0,"post"]],['\n    <div class="single-post grid">\n      ',[">","post_item"],"\n      ",["#",[[0,"if"],[0,"canComment"]],["\n        ",[">","comment_form"],"\n      "]],"\n      ",[">","comment_list"],"\n    </div>\n    "]],"\n  "]]]))}(),function(){Template.__define__("post_submit",Package.handlebars.Handlebars.json_ast_to_func(['<div class="grid submit">\n    <form class="grid-block form-horizontal">\n      ',["#",[[0,"constant"]],['\n      <div class="control-group">\n        <label class="control-label">',["{",[[0,"i18n"],"URL"]],'</label>\n        <div class="controls"><input id="url" type="text" value="" /></div>\n      </div>\n      <div class="control-group">\n        <label class="control-label">',["{",[[0,"i18n"],"Title"]],'</label>\n        <div class="controls"><input id="title" type="text" value="" /><a href="#" class="get-title-link inline-link">',["{",[[0,"i18n"],"Suggest title"]],'</a></div>\n      </div>\n      <div class="control-group">\n        <label class="control-label">',["{",[[0,"i18n"],"Body"]],'</label>\n        <div class="controls" id="editor"><textarea id="body" value="" class="input-xlarge"/></div>\n      </div>\n      <div class="control-group">\n        <label class="control-label">',["{",[[0,"i18n"],"Category"]],'</label>\n        <div class="controls">\n          ',["#",[[0,"each"],[0,"categories"]],['\n          <label class="radio inline">\n            <input id="category_',["{",[[0,"_id"]]],'" type="radio" value="',["{",[[0,"_id"]]],'" name="category" /> ',["{",[[0,"name"]]],"\n          </label>\n          "]],"\n        </div>\n      </div>\n      "]],"\n      ",["#",[[0,"if"],[0,"isAdmin"]],["\n        ",["#",[[0,"constant"]],['\n        <div class="control-group">\n          <label class="control-label">',["{",[[0,"i18n"],"Sticky?"]],'</label>\n          <div class="controls">\n            <input type="checkbox" name="sticky" id="sticky" />\n          </div>\n        </div>\n        <div class="control-group">\n          <label class="control-label">',["{",[[0,"i18n"],"Date"]],'</label>\n          <div class="controls"><input id="submitted" type="text" value="',["{",[[0,"submittedDate"]]],'" /><input id="submitted_hidden" type="hidden" value="',["{",[[0,"submitted"]]],'" /></div>\n        </div>\n        <div class="control-group">\n          <label class="control-label">',["{",[[0,"i18n"],"User"]],'</label>\n          <div class="controls">\n            <select id="postUser">\n              ',["#",[[0,"each"],[0,"users"]],["\n              <option ",["#",[[0,"if"],[0,"isSelected"]],["selected"]],' value="',["{",[[0,"_id"]]],'">',["{",[[0,"userName"]]],"</option>\n              "]],'\n            </select>\n          </div>\n        </div>\n        <div class="control-group">\n          <label class="control-label">',["{",[[0,"i18n"],"Status"]],'</label>\n          <div class="controls">\n            <label class="radio inline">\n              <input id="status_pending" type="radio" value="1" name="status"/> ',["{",[[0,"i18n"],"Pending"]],'\n            </label>\n            <label class="radio inline">\n              <input id="status_approved" type="radio" value="2" name="status" checked /> ',["{",[[0,"i18n"],"Approved"]],'\n            </label>\n            <label class="radio inline">  \n              <input id="status_rejected" type="radio" value="3" name="status"/> ',["{",[[0,"i18n"],"Rejected"]],"\n            </label>\n          </div>\n        </div>\n        "]]," \n      "]],'\n      <div class="form-actions">\n        <input type="submit" value="',["{",[[0,"i18n"],"Submit"]],'" />\n      </div>\n    </form>\n  </div>']))}(),function(){Template.__define__("posts_digest",Package.handlebars.Handlebars.json_ast_to_func(['<div class="grid">\n    <div class="grid-block">\n      ',["{",[[0,"i18n"],"The top 5 posts of each day."]]," |\n    ",["#",[[0,"if"],[0,"showPreviousDate"]],['\n    <a href="',["{",[[0,"previousDateURL"]]],'" class="prev-link">',["{",[[0,"i18n"],"Previous Day"]],"</a> |\n    "]],"\n    ",["{",[[0,"currentDate"]]]," |\n    ",["#",[[0,"if"],[0,"showNextDate"]],['\n    <a href="',["{",[[0,"nextDateURL"]]],'" class="next-link">',["{",[[0,"i18n"],"Next Day"]],"</a>\n    "]],"\n    </div>\n  </div>\n  ",["#",[[0,"if"],[0,"hasPosts"]],['\n    <div class="posts grid list">\n      ',["#",[[0,"each"],[0,"posts"]],["\n        ",[">","post_item"],"\n      "]],"\n    </div>\n  "],['\n    <div class="grid-small grid-block dialog">\n      <p>',["{",[[0,"i18n"],"Sorry, no posts for today"]],".</p>\n    </div>\n  "]]]))}(),function(){Template.__define__("posts_list",Package.handlebars.Handlebars.json_ast_to_func(['<div class="posts grid list">\n		',["#",[[0,"each"],[0,"posts"]],["\n			",[">","post_item"],"\n		"]],"\n	</div>\n  ",["#",[[0,"if"],[0,"hasMorePosts"]],['\n  	<div class="grid more-button">\n  		<a class="more-link" href="',["{",[[0,"loadMoreUrl"]]],'">',["{",[[0,"i18n"],"Load more"]],"</a>\n  	</div>\n  "]]]))}(),function(){Template.__define__("forgot_password",Package.handlebars.Handlebars.json_ast_to_func(['<div class="grid-small grid-block dialog user-edit">\n    <form>\n      <h2>',["{",[[0,"i18n"],"Forgot Password?"]],'</h2>\n      <div class="control-group">\n        <label>',["{",[[0,"i18n"],"Email"]],'</label>\n        <div class="controls"><input id="email" name="email" type="text" value="" /></div>\n      </div>\n      <div class="form-actions">\n        <input type="submit" class="button" value="',["{",[[0,"i18n"],"Reset Password"]],'" />\n      </div>\n    </form>\n  </div>']))}(),function(){Template.__define__("signin",Package.handlebars.Handlebars.json_ast_to_func(['<div class="grid-small grid-block dialog signin">\n    <h2>',["{",[[0,"i18n"],"Sign In"]],'</h2>\n    <div class="twitter-signup twitter-auth">\n      <a class="twitter-button button" href="#">',["{",[[0,"i18n"],"Sign In/Sign Up with Twitter"]],'</a>\n    </div>\n    <div class="regular-signup regular-auth">\n      <form>\n        <div class="control-group">\n          <label>',["{",[[0,"i18n"],"Username"]],'</label>\n          <div class="controls"><input id="username" type="text" value="" /></div>\n        </div>\n        <div class="control-group">\n          <label>',["{",[[0,"i18n"],"Password"]],'</label>\n          <div class="controls"><input id="password" type="password" value="" /></div>\n        </div>\n        <div class="form-actions">\n          <a href="/forgot_password">',["{",[[0,"i18n"],"Forgot password?"]],'</a>\n          <input type="submit" class="button" value="',["{",[[0,"i18n"],"Sign In"]],'" />\n        </div>\n      </form>\n    </div>\n  </div>\n  <p class="grid-small footer-notice">',["{",[[0,"i18n"],"Don't have an account?"]],' <a href="signup" id="signup">',["{",[[0,"i18n"],"Sign up!"]],"</a></p>"]))}(),function(){Template.__define__("signup",Package.handlebars.Handlebars.json_ast_to_func(['<div class="grid-small grid-block dialog signup">\n    <h2>Sign Up</h2>\n    <div class="twitter-signup twitter-auth">\n      <a class="twitter-button button" href="#">',["{",[[0,"i18n"],"Sign In/Sign Up with Twitter"]],'</a>\n    </div>\n    <div class="regular-signup regular-auth">\n      <form>\n        <div class="control-group">\n          <label>',["{",[[0,"i18n"],"Username"]],'</label>\n          <div class="controls"><input id="username" name="username" type="text" value="" /></div>\n        </div>\n        <div class="control-group">\n          <label>',["{",[[0,"i18n"],"Email"]],'</label>\n          <div class="controls"><input id="email" name="email" type="text" value="" /></div>\n        </div>\n        <div class="control-group">\n          <label>',["{",[[0,"i18n"],"Password"]],'</label>\n          <div class="controls"><input id="password" name="password" type="password" value="" /></div>\n        </div>\n        <div class="form-actions">\n          <input type="submit" class="button" value="',["{",[[0,"i18n"],"Sign Up"]],'" />\n        </div>  \n      </form>\n    </div>\n  </div>\n  <p class="grid-small footer-notice">',["{",[[0,"i18n"],"Already have an account?"]],' <a href="signin" id="signin">',["{",[[0,"i18n"],"Sign in!"]],"</a></p>"]))}(),function(){Template.__define__("user_edit",Package.handlebars.Handlebars.json_ast_to_func(['<div class="grid-small grid-block dialog user-edit">\n  	',["#",[[0,"with"],[0,"user"]],["\n    ",["#",[[0,"if"],[0,"profileIncomplete"]],["\n    <div>\n      ",["{",[[0,"i18n"],"Please complete your profile below before continuing."]],"\n    </div>\n    "]],"\n    <form>\n      <h2>",["{",[[0,"i18n"],"Account"]],'</h2>\n      <div class="control-group">\n        <label>',["{",[[0,"i18n"],"Username"]],'</label>\n        <div class="controls">\n          <input id="username" name="username" disabled="disabled" type="text" value="',["{",[[0,"userName"]]],'" />\n        </div>\n        <p class="note">Profile URL: ',["{",[[0,"profileUrl"]]],'</p>\n      </div>\n<!--       <div class="control-group">\n        <label>Email</label>\n        <div class="controls">\n          <input id="email" name="email" disabled="disabled" type="text" value="',["{",[[0,"email"]]],'" />\n        </div>\n      </div> -->\n      <div class="control-group">\n        <label>',["{",[[0,"i18n"],"Display Name"]],'</label>\n        <div class="controls">\n          <input name="name" type="text" value="',["{",[[0,"profile","name"]]],'" />\n        </div>\n      </div>\n      <div class="control-group">\n        <label>',["{",[[0,"i18n"],"Email"]],'</label>\n        <div class="controls">\n          <input name="email" type="text" value="',["{",[[0,"userEmail"]]],'" />\n        </div>\n      </div>\n      <div class="control-group">\n        <label>',["{",[[0,"i18n"],"Bio"]],'</label>\n        <div class="controls"><textarea name="bio" type="text">',["{",[[0,"profile","bio"]]],'</textarea></div>\n      </div>\n      <div class="control-group">\n      <label>Twitter Username</label>\n        <div class="controls">\n          <input name="twitter" type="text" value="',["{",[[0,"getTwitter"]]],'" />\n        </div>\n      </div>\n      <div class="control-group">\n        <label>GitHub Username</label>\n        <div class="controls">\n          <input name="github" type="text" value="',["{",[[0,"getGitHub"]]],'" />\n        </div>\n      </div>\n      <div class="control-group">\n        <label>Site</label>\n        <div class="controls">\n          <input name="site" type="text" value="',["{",[[0,"profile","site"]]],'" />\n        </div>\n      </div>\n      <h3>',["{",[[0,"i18n"],"Change Password?"]],'</h3>\n      <div class="control-group">\n        <label>',["{",[[0,"i18n"],"Old Password"]],'</label>\n        <div class="controls"><input name="old_password" type="password" value="" /></div>\n      </div>\n      <div class="control-group">\n        <label>',["{",[[0,"i18n"],"New Password"]],'</label>\n        <div class="controls"><input name="new_password" type="password" value="" /></div>\n      </div>\n      <div class="control-group">\n        <label class="control-label">',["{",[[0,"i18n"],"Email Notifications"]],'</label>\n        <div class="controls">\n          ',["#",[[0,"if"],[0,"isAdmin"]],['\n            <label class="checkbox">\n              <input id="notifications_users" type="checkbox" name="notifications_users" ',["{",[[0,"hasNotificationsUsers"]]]," /> New Users\n            </label>\n          "]],'\n          <label class="checkbox">\n            <input id="notifications_posts" type="checkbox" name="notifications_posts" ',["{",[[0,"hasNotificationsPosts"]]]," /> ",["{",[[0,"i18n"],"New Posts"]],'\n          </label>\n          <label class="checkbox">\n            <input id="notifications_comments" type="checkbox" name="notifications_comments" ',["{",[[0,"hasNotificationsComments"]]]," /> ",["{",[[0,"i18n"],"Comments on my posts"]],'\n          </label>\n          <label class="checkbox">\n            <input id="notifications_replies" type="checkbox" name="notifications_replies" ',["{",[[0,"hasNotificationsReplies"]]]," /> ",["{",[[0,"i18n"],"Replies to my comments"]],"\n          </label>\n        </div>\n      </div>\n      ",["#",[[0,"if"],[0,"isAdmin"]],['\n      <div class="control-group">\n        <h3>Invites</h3>\n        <label>Invites</label>\n        <div class="controls">\n          <input name="inviteCount" type="text" value="',["{",[[0,"inviteCount"]]],'" />\n        </div>\n      </div>\n      ']],'\n      <div class="form-actions">\n        <a href="/forgot_password">',["{",[[0,"i18n"],"Forgot password?"]],'</a>\n        <input type="submit" class="button" value="',["{",[[0,"i18n"],"Submit"]],'" />\n      </div>\n    </form>\n    ']],"\n  </div>"]))}(),function(){Template.__define__("user_email",Package.handlebars.Handlebars.json_ast_to_func(['<div class="grid-small grid-block dialog user-edit">\n  	',["#",[[0,"with"],[0,"user"]],["\n    <div>\n      ",["{",[[0,"i18n"],"Please fill in your email below to finish signing up."]],'\n    </div>\n    <form>\n      <div class="control-group">\n        <label>',["{",[[0,"i18n"],"Email"]],'</label>\n        <div class="controls">\n          <input name="email" type="text" value="',["{",[[0,"profile","email"]]],'" />\n        </div>\n      </div>\n      <div class="form-actions">\n        <input type="submit" class="button" value="',["{",[[0,"i18n"],"Submit"]],'" />\n      </div>\n    </form>\n    ']],"\n  </div>"]))}(),function(){Template.__define__("user_item",Package.handlebars.Handlebars.json_ast_to_func(['<tr class="user">\n	<td><span class="user-avatar" style="background-image:url(',["{",[[0,"avatarUrl"]]],');"></span></td>\n	<td>\n		<a href="',["{",[[0,"getProfileUrl"]]],'">',["{",[[0,"displayName"]]],'</a>\n		<br/>\n		<a href="mailto:',["{",[[0,"getEmail"]]],'">',["{",[[0,"getEmail"]]],"</a>\n	</td>\n	<td>",["{",[[0,"createdAtFormatted"]]],"</td>\n	<td>",["{",[[0,"postCount"]]],"</td>\n	<td>",["{",[[0,"commentCount"]]],"</td>\n	<td>",["{",[[0,"getKarma"]]],"</td>\n	<td>\n		",["#",[[0,"if"],[0,"invites"]],["\n		<h4>",["{",[[0,"i18n"],"Invited"]]," ",["{",[[0,"invitedCount"]]]," ",["{",[[0,"i18n"],"users"]],":</h4>\n		<ul>\n			",["#",[[0,"each"],[0,"invites"]],['\n				<li><a href="',["{",[[0,"getInvitedUserProfileUrl"]]],'">',["{",[[0,"invitedName"]]],"</a></li>\n			"]],"\n		</ul>\n		"]],"\n		<p>(",["{",[[0,"inviteCount"]]]," ",["{",[[0,"i18n"],"invites left"]],")</p>\n	</td>\n	<td>",["#",[[0,"if"],[0,"isInvited"]],['<i class="icon-check"></i>']],"</td>\n	<td>",["#",[[0,"if"],[0,"userIsAdmin"]],['<i class="icon-check"></i>']],"</td>\n	<td>\n		<ul>\n			<li>",["#",[[0,"if"],[0,"isInvited"]],['<a class="uninvite-link" href="#">',["{",[[0,"i18n"],"Uninvite"]],"</a>"],['<a href="#" class="invite-link">',["{",[[0,"i18n"],"Invite"]],"</a>"]],"</li>\n			<li>",["#",[[0,"if"],[0,"userIsAdmin"]],['<a class="unadmin-link" href="#">',["{",[[0,"i18n"],"Unadmin"]],"</a>"],['<a href="#" class="admin-link">',["{",[[0,"i18n"],"Make admin"]],"</a>"]],'</li>\n			<li><a class="delete-link" href="#">',["{",[[0,"i18n"],"Delete User"]],"</a></li>\n	</td>\n</tr>"]))}(),function(){Template.__define__("user_profile",Package.handlebars.Handlebars.json_ast_to_func(['<div class="grid">\n		',["#",[[0,"with"],[0,"user"]],['\n		<div class="user-profile grid-block">\n			<table>\n				<tr>\n					<td colspan="2"><img class="user-avatar" src="',["{",[[0,"avatarUrl"]]],'"/></td>\n				</tr>\n				',["#",[[0,"if"],[0,"isAdmin"]],["\n					<tr>\n						<td>",["{",[[0,"i18n"],"ID"]],": </td>\n						<td>",["{",[[0,"_id"]]],"</td>\n					</tr>\n				"]],"\n				<tr>\n					<td>",["{",[[0,"i18n"],"Name:"]],"</td>\n					<td>",["{",[[0,"profile","name"]]],"</td>\n				</tr>\n				<tr>\n					<td>",["{",[[0,"i18n"],"Member since"]],":</td>\n					<td>",["{",[[0,"createdAtFormatted"]]],"</td>\n				</tr>\n				<tr>\n					<td>",["{",[[0,"i18n"],"Bio:"]],"</td>\n					<td>",["{",[[0,"profile","bio"]]],"</td>\n				</tr>\n				",["#",[[0,"if"],[0,"getTwitterName"]],['\n					<tr>\n						<td>Twitter: </td>\n						<td><a href="http://twitter.com/',["{",[[0,"getTwitterName"]]],'">',["{",[[0,"getTwitterName"]]],"</a></td>\n					</tr>\n				"]],"\n				",["#",[[0,"if"],[0,"getGitHubName"]],["\n					<tr>\n						<td>",["{",[[0,"i18n"],"GitHub"]],':</td>\n						<td><a href="http://github.com/',["{",[[0,"getGitHubName"]]],'">',["{",[[0,"getGitHubName"]]],"</a></td>\n					</tr>\n				"]],"\n				",["#",[[0,"if"],[0,"site"]],["\n					<tr>\n						<td>",["{",[[0,"i18n"],"Site"]],':</td>\n						<td><a href="',["{",[[0,"profile","site"]]],'">',["{",[[0,"profile","site"]]],"</a></td>\n					</tr>\n				"]],"					\n			</table>\n			",["#",[[0,"if"],[0,"canEditProfile"]],['\n				<a class="button inline" href="/users/',["{",[[0,"slug"]]],'/edit">',["{",[[0,"i18n"],"Edit profile"]],"</a>\n			"]],"\n			",["#",[[0,"if"],[0,"canInvite"]],["\n				",["#",[[0,"if"],[0,"inviteCount"]],['\n					<a class="button inline invite-link" href="#">',["{",[[0,"i18n"],"Invite"]]," (",["{",[[0,"inviteCount"]]]," ",["{",[[0,"i18n"],"left"]],")</a>\n				"],['\n					<a class="button inline disabled" href="#">',["{",[[0,"i18n"],"Invite (none left)"]],"</a>\n				"]],"\n			"]],"\n		</div>\n		"]],"\n	</div>"]))}(),function(){Template.__define__("users",Package.handlebars.Handlebars.json_ast_to_func(['<div class="grid">\n      <div class="user-table grid-block">\n        <h2>',["{",[[0,"i18n"],"Users"]],'</h2>\n        <div class="filter-sort">\n          <p class="filter">\n            <span>',["{",[[0,"i18n"],"Filter by"]],': </span>\n            <a class="',["{",[[0,"activeClass"],"all"]],'" href="',["{",[[0,"filterBy"],"all"]],'">',["{",[[0,"i18n"],"All"]],'</a>\n            <a class="',["{",[[0,"activeClass"],"invited"]],'" href="',["{",[[0,"filterBy"],"invited"]],'">',["{",[[0,"i18n"],"Invited"]],'</a>\n            <a class="',["{",[[0,"activeClass"],"uninvited"]],'" href="',["{",[[0,"filterBy"],"uninvited"]],'">',["{",[[0,"i18n"],"Uninvited"]],'</a>\n            <a class="',["{",[[0,"activeClass"],"admin"]],'" href="',["{",[[0,"filterBy"],"admin"]],'">',["{",[[0,"i18n"],"Admin"]],'</a>\n          </p>\n          <p class="sort">\n            <span>',["{",[[0,"i18n"],"Sort by"]],': </span>\n            <a class="',["{",[[0,"activeClass"],"createdAt"]],'" href="',["{",[[0,"sortBy"],"createdAt"]],'">',["{",[[0,"i18n"],"Created"]],'</a>\n            <a class="',["{",[[0,"activeClass"],"karma"]],'" href="',["{",[[0,"sortBy"],"karma"]],'">',["{",[[0,"i18n"],"Karma"]],'</a>\n            <a class="',["{",[[0,"activeClass"],"username"]],'" href="',["{",[[0,"sortBy"],"username"]],'">',["{",[[0,"i18n"],"Username"]],'</a>\n            <a class="',["{",[[0,"activeClass"],"postCount"]],'" href="',["{",[[0,"sortBy"],"postCount"]],'">',["{",[[0,"i18n"],"Posts"]],'</a>\n            <a class="',["{",[[0,"activeClass"],"commentCount"]],'" href="',["{",[[0,"sortBy"],"commentCount"]],'">',["{",[[0,"i18n"],"Comments"]],'</a>\n            <a class="',["{",[[0,"activeClass"],"invitedCount"]],'" href="',["{",[[0,"sortBy"],"invitedCount"]],'">',["{",[[0,"i18n"],"InvitedCount"]],'</a>\n          </p>\n        </div>\n        <table>\n          <thead>\n            <tr>\n              <td colspan="2">',["{",[[0,"i18n"],"Name"]],"</td>\n              <td>",["{",[[0,"i18n"],"Member since"]],"</td>\n              <td>",["{",[[0,"i18n"],"Posts"]],"</td>\n              <td>",["{",[[0,"i18n"],"Comments"]],"</td>\n              <td>",["{",[[0,"i18n"],"Karma"]],"</td>\n              <td>",["{",[[0,"i18n"],"Invites"]],"</td>\n              <td>",["{",[[0,"i18n"],"Invited?"]],"</td>\n              <td>",["{",[[0,"i18n"],"Admin?"]],"</td>\n              <td>",["{",[[0,"i18n"],"Actions"]],"</td>\n            </tr>\n          </thead>\n          <tbody>\n              ",["#",[[0,"each"],[0,"users"]],["\n                ",[">","user_item"],"\n              "]],'\n          </tbody>\n        </table>\n        <div class="grid more-button ',["#",[[0,"if"],[0,"allPostsLoaded"]],[" hidden "]],'">\n          <a class="more-link" href="',["{",[[0,"loadMoreUrl"]]],'">',["{",[[0,"i18n"],"Load more"]],"</a>\n        </div>\n      </div>\n    </div>"]))
}(),function(){en={en:{translation:{Menu:"Menu",Top:"Top",New:"New",Digest:"Digest",Categories:"Categories",Users:"Users",Settings:"Settings",Admin:"Admin",Post:"Post",Toolbox:"Toolbox","Sign Up/Sign In":"Sign Up/Sign In","My Account":"My Account","View Profile":"View Profile","Edit Account":"Edit Account","New Posts":"New Posts","Your comment has been deleted.":"Your comment has been deleted.",Comment:"Comment","Delete Comment":"Delete Comment","Add Comment":"Add Comment",upvote:"upvote",downvote:"downvote",link:"link",Edit:"Edit",Reply:"Reply","No comments.":"No comments.","You are already logged in":"You are already logged in","Sorry, this is a private site. Please sign up first.":"Sorry, this is a private site. Please sign up first.","Thanks for signing up!":"Thanks for signing up!","The site is currently invite-only, but we will let you know as soon as a spot opens up.":"The site is currently invite-only, but we will let you know as soon as a spot opens up.","Sorry, you don't have the rights to view this page.":"Sorry, you don't have the rights to view this page.","Not Found!":"Not Found!","We're sorry; whatever you were looking for isn't here..":"We're sorry; whatever you were looking for isn't here..","No notifications":"No notifications","1 notification":"1 notification",notifications:"notifications","Mark all as read":"Mark all as read","Your post has been deleted.":"Your post has been deleted.","The top 5 posts of each day.":"The top 5 posts of each day.","Previous Day":"Previous Day","Next Day":"Next Day","Sorry, no posts for today":"Sorry, no posts for today",Today:"Today",Yesterday:"Yesterday",Created:"Created",Title:"Title","Suggest title":"Suggest title",URL:"URL","Short URL":"Short URL",Body:"Body",Category:"Category","Inactive?":"Inactive?","Sticky?":"Sticky?","Submission Date":"Submission Date","Submission Time":"Submission Time",Date:"Date",Submission:"Submission","Note: this post is still pending so it has no submission timestamp yet.":"Note: this post is still pending so it has no submission timestamp yet.",User:"User",Status:"Status",Approved:"Approved",Rejected:"Rejected","Delete Post":"Delete Post","Thanks, your post is awaiting approval.":"Thanks, your post is awaiting approval.","Sorry, couldn't find a title...":"Sorry, couldn't find a title...","Please fill in an URL first!":"Please fill in an URL first!",Share:"Share",Discuss:"Discuss",Upvote:"Upvote",Sticky:"Sticky",status:"status",votes:"votes",baseScore:"baseScore",score:"score",clicks:"clicks",inactive:"inactive",comment:"comment",comments:"comments",point:"point",points:"points","Please complete your profile below before continuing.":"Please complete your profile below before continuing.",Account:"Account",Username:"Username","Display Name":"Display Name",Email:"Email",Bio:"Bio",Password:"Password","Change Password?":"Change Password?","Old Password":"Old Password","New Password":"New Password","Email Notifications":"Email Notifications","New Posts":"Nouveau Post","Comments on my posts":"Comments on my posts","Replies to my comments":"Replies to my comments","Forgot password?":"Forgot password?","Profile updated":"Profile updated","Please fill in your email below to finish signing up.":"Please fill in your email below to finish signing up.",Invite:"Invite",Uninvite:"Uninvite","Make admin":"Make admin",Unadmin:"Unadmin","Delete User":"Delete User","Are you sure you want to delete ":"Are you sure you want to delete ","Reset Password":"Reset Password","Password reset link sent!":"Password reset link sent!",Name:"Name",Posts:"Posts",Comments:"Comments",Karma:"Karma","Is Invited?":"Is Invited?","Is Admin?":"Is Admin?",Delete:"Delete","Member since":"Member since","Edit profile":"Edit profile","Sign In":"Sign In","Sign in!":"Sign in!","Sign up!":"Sign up!","Don't have an account?":"Don't have an account?","Already have an account?":"Already have an account?","Sign Up":"Sign Up","Please fill in all fields":"Please fill in all fields","Invite ":"Invite ",left:" restante","Invite (none left)":"Invite (none left)",All:"All",Invited:"Invited",Uninvited:"Uninvited","Filter by":"Filter by","Sort by":"Sort by","Sorry, you do not have access to this page":"Sorry, you do not have access to this page","Please Sign In First.":"Please Sign In First.","Sorry, you  have to be an admin to view this page.":"Sorry, you  have to be an admin to view this page.","Sorry, you don't have permissions to add new items.":"Sorry, you don't have permissions to add new items.","Sorry, you cannot edit this post.":"Sorry, you cannot edit this post.","Sorry, you cannot edit this comment.":"Sorry, you cannot edit this comment.","You need to login and be an admin to add a new category.":"You need to login and be an admin to add a new category.","You need to login or be invited to post new comments.":"You need to login or be invited to post new comments.","Please wait ":"Please wait "," seconds before commenting again":" seconds before commenting again","Your comment is empty.":"Your comment is empty.","You don't have permission to delete this comment.":"You don't have permission to delete this comment.","You need to login or be invited to post new stories.":"You need to login or be invited to post new stories.","Please fill in a headline":"Please fill in a headline","This link has already been posted":"This link has already been posted","Sorry, you cannot submit more than ":"Sorry, you cannot submit more than "," posts per day":" posts per day","Someone replied to your comment on":"Someone replied to your comment on"," has replied to your comment on":" has replied to your comment on","Read more":"Read more","A new comment on your post":"A new comment on your post","You have a new comment by ":"You have a new comment by "," on your post":" on your post"," has created a new post":" has created a new post","Your account has been approved.":"Your account has been approved.","Welcome to ":"Welcome to ","Start posting.":"Start posting.",Pending:"Pending","Loading...":"Loading...",Submit:"Submit","You must be logged in.":"You must be logged in.","Are you sure?":"Are you sure?","Please log in first":"Please log in first","Sign In/Sign Up with Twitter":"Sign In/Sign Up with Twitter","Load more":"Load more"}}}}(),function(){i18n.translations.fr={View:"Vue",Menu:"Menu",Top:"Top",New:"Nouveau",Digest:"Résumé",Categories:"Catégories",Users:"Utilisateurs",Settings:"Paramètres",Admin:"Admin",Post:"Poster",Toolbox:"Outils","Sign Up/Sign In":"Connexion/Créer un compte","My Account":"Mon compte","View Profile":"Voir le profil","Edit Account":"Editer le compte","New Posts":"Nouveaux Posts","Your comment has been deleted.":"Votre commentaire a été supprimé.",Comment:"Commentaire","Delete Comment":"Supprimer le commentaire","Add Comment":"Ajouter un commentaire",upvote:"upvote",downvote:"downvote",link:"lien",Edit:"Editer",Reply:"Répondre","No comments.":"Aucun commentaire.","You are already logged in":"Vous êtes déjà connecté","Sorry, this is a private site. Please sign up first.":"Désolé mais ce site est privé, vous devez d'abord vous connecter","Thanks for signing up!":"Merci pour votre inscription !","The site is currently invite-only, but we will let you know as soon as a spot opens up.":"L'accès au site se fait uniquement par invitation. Nous vous informerons dès qu'une place se libère.","Sorry, you don't have the rights to view this page.":"Désolé, vous n'avez pas le droit de voir cette page.","Not Found!":"Oups","We're sorry; whatever you were looking for isn't here..":"Désolé, mais ce que vous cherchez ne se trouve pas ici...","No notifications":"Aucune notification","1 notification":"1 notification",notifications:"notifications","Mark all as read":"Effacer les notifications","Your post has been deleted.":"Votre post a été supprimé.","The top 5 posts of each day.":"5 meilleurs post par jours","Previous Day":"Jour précédent","Next Day":"Jour suivant","Sorry, no posts for today":"Désolé, aucun post aujourd'hui",Today:"Aujourd'hui",Yesterday:"Hier",Created:"Crée",Title:"Titre","Suggest title":"Suggérer un titre",URL:"URL","Short URL":"URL Courte",Body:"Description",Category:"Catégorie","Inactive?":"Inactif ?","Sticky?":"Mis en avant ?","Submission Date":"Date de soumission","Submission Time":"Heure de soumission",Date:"Date",Submission:"Soumission","Note: this post is still pending so it has no submission timestamp yet.":"Note : ce post est en cours de validation, il n'a pas encore de timestamp.",User:"Utilisateur",Status:"Status",Approved:"Approuvé",Rejected:"Rejeté","Delete Post":"Supprimer le post","Thanks, your post is awaiting approval.":"Merci, votre post est en cours de validation","Sorry, couldn't find a title...":"Désolé, impossible de trouver un titre...","Please fill in an URL first!":"Vous devez saisir une URL.",Share:"Partager",Discuss:"Discuter",Upvote:"Voter",Sticky:"Mis en avant",status:"status",votes:"votes",baseScore:"baseScore",score:"score",clicks:"clics",inactive:"inactif",comment:"commentaire",comments:"commentaires",point:"point",points:"points","Please complete your profile below before continuing.":"Merci de compléter votre profil avant de continuer.",Account:"Compte",Username:"Nom d'utilisateur","Display Name":"Nom réel",Email:"Email",Bio:"Bio",Password:"Mot de passe","Change Password?":"Changer de mot de passe","Old Password":"Ancien mot de passe","New Password":"Nouveau mot de passe","Email Notifications":"Notifications par email","New Posts":"Nouveau Post","Comments on my posts":"Commentaires sur mes posts","Replies to my comments":"Reponses à mes commentaires","Forgot password?":"Mot de passe oublié ?","Profile updated":"Profil mis à jour","Please fill in your email below to finish signing up.":"Merci de saisir votre email pour finir la création de votre compte",Invite:"Inviter",Uninvite:"Annuler l'invitation","Make admin":"Rendre admin",Unadmin:"Supprimer les droits d'admin","Delete User":"Supprimer l'utilisateur","Are you sure you want to delete ":"Etes-vous sur de vouloir supprimer ","Reset Password":"Redéfinir le mot de passe","Password reset link sent!":"Un lien pour redéfinir votre mot de passe a été envoyé !",Name:"Nom",Posts:"Posts",Comments:"Commentaires",Karma:"Karma","Is Invited?":"Est-il invité ?","Is Admin?":"Est-il Administrateur ?",Delete:"Supprimer","Member since":"Membre depuis","Edit profile":"Modifier le profil","Sign In":"Connexion","Sign in!":"Connexion","Sign up!":"Créer un compte !","Don't have an account?":"Pas encore de compte ?","Already have an account?":"Déjà un compte ?","Sign Up":"Créer un compte","Please fill in all fields":"Vous devez remplir tous les champs","Invite ":"Invitation ",left:" restante","Invite (none left)":"Invitation (aucune restante)",All:"All",Invited:"Invité",Uninvited:"Pas invité","Filter by":"Filtrer par","Sort by":"Trier par","Sorry, you do not have access to this page":"Désolé, vous n'avez pas accès à cette page","Please Sign In First.":"Vous devez d'abord vous connecter.","Sorry, you  have to be an admin to view this page.":"Désolé, vous devez être administrateur pour voir cette page.","Sorry, you don't have permissions to add new items.":"Désolé, vous n'avez pas la permission d'ajouter de nouveaux posts.","Sorry, you cannot edit this post.":"Désolé, vous ne pouvez pas modifier ce post.","Sorry, you cannot edit this comment.":"Désolé, vous ne pouvez pas modifier ce commentaire.","You need to login and be an admin to add a new category.":"Vous devez être administrateur et connecté pour ajouter une catégorie","You need to login or be invited to post new comments.":"Vous devez être connecté et invité pour poster des commentaires","Please wait ":"Merci de patienter "," seconds before commenting again":" secondes avant de poster un nouveau commentaire","Your comment is empty.":"Votre commentaire est vide","You don't have permission to delete this comment.":"Vous n'avez pas la permission de supprimer ce commentaire","You need to login or be invited to post new stories.":"Vous devez être connecté ou invité pour créer un nouveau post","Please fill in a headline":"Merci de saisir un titre","This link has already been posted":"Ce lien a déjà été posté","Sorry, you cannot submit more than ":"Désolé, vous ne pouvez pas créer plus de "," posts per day":" posts par jour","Someone replied to your comment on":"Quelqu'un à répondu à votre commentaire sur"," has replied to your comment on":" a répondu à votre commentaire sur","Read more":"Lire la suite","A new comment on your post":"Un nouveau commentaire sur votre post","You have a new comment by ":"Vous avez un nouveau commentaire de "," on your post":" sur votre post"," has created a new post":" a créer un nouveau post","Your account has been approved.":"Votre compte a été validé.","Welcome to ":"Bienvenu sur ","Start posting.":"Commencer à poster.",Pending:"En attente","Loading...":"Chargement...",Submit:"Envoyer","You must be logged in.":"Vous devez être connecté","Are you sure?":"Etes-vous sur ?","Please log in first":"Vous devez être connecté","Sign In/Sign Up with Twitter":"Connexion/Créer un compte avec Twitter","Load more":"Charger plus"}}(),function(){Markdown={},Markdown="object"==typeof exports&&"function"==typeof require?exports:{},function(){function e(e){return e}function t(){return!1}function n(){}function r(){}n.prototype={chain:function(t,n){var r=this[t];if(!r)throw new Error("unknown hook "+t);this[t]=r===e?n:function(e){return n(r(e))}},set:function(e,t){if(!this[e])throw new Error("unknown hook "+e);this[e]=t},addNoop:function(t){this[t]=e},addFalse:function(e){this[e]=t}},Markdown.HookCollection=n,r.prototype={set:function(e,t){this["s_"+e]=t},get:function(e){return this["s_"+e]}},Markdown.Converter=function(){function e(e){return e=e.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,function(e,t,n,r,i,o){return t=t.toLowerCase(),A.set(t,M(n)),i?r:(o&&N.set(t,o.replace(/"/g,"&quot;")),"")})}function t(e){return e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,i),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,i),e=e.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,i),e=e.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,i),e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,i)}function i(e,t){var n=t;return n=n.replace(/^\n+/,""),n=n.replace(/\n+$/g,""),n="\n\n~K"+(O.push(n)-1)+"K\n\n"}function o(e,n){e=p(e);var r="<hr />\n";return e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,r),e=e.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,r),e=e.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,r),e=h(e),e=g(e),e=w(e),e=t(e),e=k(e,n)}function a(e){return e=_(e),e=s(e),e=T(e),e=c(e),e=l(e),e=S(e),e=e.replace(/~P/g,"://"),e=M(e),e=b(e),e=e.replace(/  +\n/g," <br>\n")}function s(e){var t=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi;return e=e.replace(t,function(e){var t=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return t=C(t,"!"==e.charAt(1)?"\\`*_/":"\\`*_")})}function l(e){return e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,u),e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()\s])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,u),e=e.replace(/(\[([^\[\]]+)\])()()()()()/g,u)}function u(e,t,n,r,i,o,a,s){void 0==s&&(s="");var l=t,u=n.replace(/:\/\//g,"~P"),c=r.toLowerCase(),f=i,p=s;if(""==f)if(""==c&&(c=u.toLowerCase().replace(/ ?\n/g," ")),f="#"+c,void 0!=A.get(c))f=A.get(c),void 0!=N.get(c)&&(p=N.get(c));else{if(!(l.search(/\(\s*\)$/m)>-1))return l;f=""}f=D(f),f=C(f,"*_");var h='<a href="'+f+'"';return""!=p&&(p=d(p),p=C(p,"*_"),h+=' title="'+p+'"'),h+=">"+u+"</a>"}function c(e){return e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,f),e=e.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,f)}function d(e){return e.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function f(e,t,n,r,i,o,a,s){var l=t,u=n,c=r.toLowerCase(),f=i,p=s;if(p||(p=""),""==f){if(""==c&&(c=u.toLowerCase().replace(/ ?\n/g," ")),f="#"+c,void 0==A.get(c))return l;f=A.get(c),void 0!=N.get(c)&&(p=N.get(c))}u=C(d(u),"*_[]()"),f=C(f,"*_");var h='<img src="'+f+'" alt="'+u+'"';return p=d(p),p=C(p,"*_"),h+=' title="'+p+'"',h+=" />"}function p(e){return e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,t){return"<h1>"+a(t)+"</h1>\n\n"}),e=e.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(e,t){return"<h2>"+a(t)+"</h2>\n\n"}),e=e.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(e,t,n){var r=t.length;return"<h"+r+">"+a(n)+"</h"+r+">\n\n"})}function h(e){e+="~0";var t=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return Y?e=e.replace(t,function(e,t,n){var r=t,i=n.search(/[*+-]/g)>-1?"ul":"ol",o=m(r,i);return o=o.replace(/\s+$/,""),o="<"+i+">"+o+"</"+i+">\n"}):(t=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,e=e.replace(t,function(e,t,n,r){var i=t,o=n,a=r.search(/[*+-]/g)>-1?"ul":"ol",s=m(o,a);return s=i+"<"+a+">\n"+s+"</"+a+">\n"})),e=e.replace(/~0/,"")}function m(e,t){Y++,e=e.replace(/\n{2,}$/,"\n"),e+="~0";var n=j[t],r=new RegExp("(^[ \\t]*)("+n+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+n+")[ \\t]+))","gm"),i=!1;return e=e.replace(r,function(e,t,n,r){var s=r,l=/\n\n$/.test(s),u=l||s.search(/\n{2,}/)>-1;return u||i?s=o(E(s),!0):(s=h(E(s)),s=s.replace(/\n$/,""),s=a(s)),i=l,"<li>"+s+"</li>\n"}),e=e.replace(/~0/g,""),Y--,e}function g(e){return e+="~0",e=e.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(e,t,n){var r=t,i=n;return r=y(E(r)),r=L(r),r=r.replace(/^\n+/g,""),r=r.replace(/\n+$/g,""),r="<pre><code>"+r+"\n</code></pre>","\n\n"+r+"\n\n"+i}),e=e.replace(/~0/,"")}function v(e){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(O.push(e)-1)+"K\n\n"}function _(e){return e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,t,n,r){var i=r;return i=i.replace(/^([ \t]*)/g,""),i=i.replace(/[ \t]*$/g,""),i=y(i),i=i.replace(/:\/\//g,"~P"),t+"<code>"+i+"</code>"})}function y(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=C(e,"*_{}[]\\",!1)}function b(e){return e=e.replace(/([\W_]|^)(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\2([\W_]|$)/g,"$1<strong>$3</strong>$4"),e=e.replace(/([\W_]|^)(\*|_)(?=\S)([^\r\*_]*?\S)\2([\W_]|$)/g,"$1<em>$3</em>$4")}function w(e){return e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,t){var n=t;return n=n.replace(/^[ \t]*>[ \t]?/gm,"~0"),n=n.replace(/~0/g,""),n=n.replace(/^[ \t]+$/gm,""),n=o(n),n=n.replace(/(^|\n)/g,"$1  "),n=n.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){var n=t;return n=n.replace(/^  /gm,"~0"),n=n.replace(/~0/g,"")}),v("<blockquote>\n"+n+"\n</blockquote>")})}function k(e,t){e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,"");for(var n=e.split(/\n{2,}/g),r=[],i=/~K(\d+)K/,o=n.length,s=0;o>s;s++){var l=n[s];i.test(l)?r.push(l):/\S/.test(l)&&(l=a(l),l=l.replace(/^([ \t]*)/g,"<p>"),l+="</p>",r.push(l))}if(!t){o=r.length;for(var s=0;o>s;s++)for(var u=!0;u;)u=!1,r[s]=r[s].replace(/~K(\d+)K/g,function(e,t){return u=!0,O[t]})}return r.join("\n\n")}function M(e){return e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),e=e.replace(/<(?![a-z\/?\$!])/gi,"&lt;")}function T(e){return e=e.replace(/\\(\\)/g,P),e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,P)}function S(e){e=e.replace(/(^|\s)(https?|ftp)(:\/\/[-A-Z0-9+&@#\/%?=~_|\[\]\(\)!:,\.;]*[-A-Z0-9+&@#\/%=~_|\[\]])($|\W)/gi,"$1<$2$3>$4");var t=function(e,t){return'<a href="'+t+'">'+I.plainLinkText(t)+"</a>"};return e=e.replace(/<((https?|ftp):[^'">\s]+)>/gi,t)}function x(e){return e=e.replace(/~E(\d+)E/g,function(e,t){var n=parseInt(t);return String.fromCharCode(n)})}function E(e){return e=e.replace(/^(\t|[ ]{1,4})/gm,"~0"),e=e.replace(/~0/g,"")}function L(e){if(!/\t/.test(e))return e;var t,n=["    ","   ","  "," "],r=0;return e.replace(/[\n\t]/g,function(e,i){return"\n"===e?(r=i+1,e):(t=(i-r)%4,r=i+1,n[t])})}function D(e){if(!e)return"";var t=e.length;return e.replace(R,function(n,r){return"~D"==n?"%24":":"!=n||r!=t-1&&!/[0-9\/]/.test(e.charAt(r+1))?"%"+n.charCodeAt(0).toString(16):":"})}function C(e,t,n){var r="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(r="\\\\"+r);var i=new RegExp(r,"g");return e=e.replace(i,P)}function P(e,t){var n=t.charCodeAt(0);return"~E"+n+"E"}var I=this.hooks=new n;I.addNoop("plainLinkText"),I.addNoop("preConversion"),I.addNoop("postConversion");var A,N,O,Y;this.makeHtml=function(n){if(A)throw new Error("Recursive call to converter.makeHtml");return A=new r,N=new r,O=[],Y=0,n=I.preConversion(n),n=n.replace(/~/g,"~T"),n=n.replace(/\$/g,"~D"),n=n.replace(/\r\n/g,"\n"),n=n.replace(/\r/g,"\n"),n="\n\n"+n+"\n\n",n=L(n),n=n.replace(/^[ \t]+$/gm,""),n=t(n),n=e(n),n=o(n),n=x(n),n=n.replace(/~D/g,"$$"),n=n.replace(/~T/g,"~"),n=I.postConversion(n),O=N=A=null,n};var j={ol:"\\d+[.]",ul:"[*+-]"},R=/(?:["'*()[\]:]|~D)/g}}()}(),function(){analyticsInit=function(){if((mixpanelId=getSetting("mixpanelId"))&&(!function(e,t){window.mixpanel=t;var n,r,i,o;n=e.createElement("script"),n.type="text/javascript",n.async=!0,n.src=("https:"===e.location.protocol?"https:":"http:")+"//cdn.mxpnl.com/libs/mixpanel-2.1.min.js",r=e.getElementsByTagName("script")[0],r.parentNode.insertBefore(n,r),t._i=[],t.init=function(e,n,r){function a(e,t){var n=t.split(".");2==n.length&&(e=e[n[0]],t=n[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}var s=t;for("undefined"!=typeof r?s=t[r]=[]:r="mixpanel",s.people=s.people||[],i="disable track track_pageview track_links track_forms register register_once unregister identify name_tag set_config people.identify people.set people.increment".split(" "),o=0;o<i.length;o++)a(s,i[o]);t._i.push([e,n,r])},t.__SV=1.1}(document,window.mixpanel||[]),mixpanel.init(mixpanelId)),goSquaredId=getSetting("goSquaredId")){window.GoSquared={},GoSquared.acct=goSquaredId,window._gstc_lt=+new Date;var e=document,t=e.createElement("script");t.type="text/javascript",t.src="//d1l6p2sc9645hc.cloudfront.net/tracker.js";var n=e.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}(clickyId=getSetting("clickyId"))&&(clicky_site_ids=[],clicky_site_ids.push(clickyId),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//static.getclicky.com/js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()),(googleAnalyticsId=getSetting("googleAnalyticsId"))&&(!function(e,t,n,r,i,o,a){e.GoogleAnalyticsObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,o=t.createElement(n),a=t.getElementsByTagName(n)[0],o.async=1,o.src=r,a.parentNode.insertBefore(o,a)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),window.ga("create",googleAnalyticsId))},analyticsRequest=function(){if("undefined"!=typeof window.ga&&ga("send","pageview",{page:window.location.pathname}),"undefined"!=typeof mixpanel&&"undefined"!=typeof mixpanel.people&&Meteor.user()){var e=getCurrentUserEmail();mixpanel.people.identify(e),mixpanel.people.set({username:getDisplayName(Meteor.user()),$last_login:new Date,$created:moment(Meteor.user().createdAt)._d,$email:e}),mixpanel.register({username:getDisplayName(Meteor.user()),createdAt:moment(Meteor.user().createdAt)._d,email:e}),mixpanel.name_tag(e)}"undefined"!=typeof GoSquared&&"undefined"!=typeof GoSquared.DefaultTracker&&GoSquared.DefaultTracker.TrackView(window.location.pathname,getCurrentTemplate()),"undefined"!=typeof clicky&&clicky.log(encodeURIComponent(window.location.pathname),getCurrentTemplate(),"pageview")}}(),function(){deepExtend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1,c=Object.prototype.toString,d=Object.prototype.hasOwnProperty,f=(Array.prototype.push,Array.prototype.slice,String.prototype.trim,Array.prototype.indexOf,{"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"}),p={isFunction:function(e){return"function"===p.type(e)},isArray:Array.isArray||function(e){return"array"===p.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):f[c.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==p.type(e)||e.nodeType)return!1;try{if(e.constructor&&!d.call(e,"constructor")&&!d.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}var n;for(n in e);return void 0===n||d.call(e,n)}};for("boolean"==typeof a&&(u=a,a=arguments[1]||{},s=2),"object"==typeof a||p.isFunction(a)||(a={}),l===s&&(a=this,--s),s;l>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(u&&r&&(p.isPlainObject(r)||(i=p.isArray(r)))?(i?(i=!1,o=n&&p.isArray(n)?n:[]):o=n&&p.isPlainObject(n)?n:{},a[t]=deepExtend(u,o,r)):void 0!==r&&(a[t]=r));return a}}(),function(){trackEvent=function(e,t){console.log("trackevent: ",e,t);var t="undefined"==typeof t?{}:t;Meteor.isClient&&("undefined"!=typeof mixpanel.track&&mixpanel.track(e,t),"undefined"!=typeof GoSquared&&"undefined"!=typeof GoSquared.DefaultTracker&&GoSquared.DefaultTracker.TrackEvent(e,JSON.stringify(t)))}}(),function(){Gravatar={getGravatar:function(e,t){if(e.email_hash){var t=t||{},n=t.secure?"https":"http";delete t.secure;var r=e.email_hash,i=n+"://www.gravatar.com/avatar/"+r,o=_.map(t,function(e,t){return t+"="+e}).join("&");return""!==o&&(i+="?"+o),i}return e.services&&e.services.twitter?e.services.twitter.profile_image_url:void 0}}}(),function(){getSetting=function(e,t){var n=Settings.find().fetch()[0];return n?n[e]:"undefined"==typeof t?"":t},getCurrentTemplate=function(){return Router._currentController.template},getCurrentRoute=function(){return Router._currentController.path},clearSeenErrors=function(){Errors.update({seen:!0},{$set:{show:!1}},{multi:!0})},t=function(e){var t=new Date;console.log("### "+e+" rendered at "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds())},nl2br=function(e){var t="<br />";return(e+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+t+"$2")},getSetting=function(e,t){var n=Settings.find().fetch()[0];return n&&n[e]?n[e]:t},getAuthorName=function(e){return e.author},scrollPageTo=function(e){$("body").scrollTop($(e).offset().top)},getDigestURL=function(e){return"/digest/"+e.year()+"/"+(e.month()+1)+"/"+e.date()},getDateRange=function(e){var t=moment(new Date),n=t.subtract("days",e-1),r={};return r.start=n.startOf("day").valueOf(),r.end=n.endOf("day").valueOf(),r},goTo=function(e){Router.go(e)},getPostUrl=function(e){return Meteor.absoluteUrl()+"posts/"+e},getPostEditUrl=function(e){return Meteor.absoluteUrl()+"posts/"+e+"/edit"},getCommentUrl=function(e){return Meteor.absoluteUrl()+"comments/"+e},getPostCommentUrl=function(e,t){return Meteor.absoluteUrl()+"posts/"+e+"/comment/"+t},getCategoryUrl=function(e){return Meteor.absoluteUrl()+"category/"+e},slugify=function(e){return e&&(e=e.replace(/[^-a-zA-Z0-9,&\s]+/gi,""),e=e.replace(/-/gi,"_"),e=e.replace(/\s/gi,"-"),e=e.toLowerCase()),e},getShortUrl=function(e){return e.shortUrl?e.shortUrl:e.url},getDomain=function(e){return urlObject=Npm.require("url"),urlObject.parse(e).hostname},invitesEnabled=function(){return getSetting("requireViewInvite")||getSetting("requirePostInvite")},cleanUp=function(e){return stripHTML(e)},stripHTML=function(e){return e.replace(/<(?:.|\n)*?>/gm,"")},stripMarkdown=function(e){var t=new Markdown.Converter,n=t.makeHtml(e);return stripHTML(n)},trimWords=function(e,t){return expString=e.split(/\s+/,t),expString.length>=t?expString.join(" ")+"…":e},checkNested=function(e){for(var t=Array.prototype.slice.call(arguments),e=t.shift(),n=0;n<t.length;n++){if(!e.hasOwnProperty(t[n]))return!1;e=e[t[n]]}return!0}}(),function(){getParameters=function(e){var t={find:{status:2},options:{limit:10}};switch(e.view){case"top":var n=deepExtend(!0,t,{options:{sort:{sticky:-1,score:-1}}});break;case"new":var n=deepExtend(!0,t,{options:{sort:{sticky:-1,submitted:-1}}});break;case"best":var n=deepExtend(!0,t,{options:{sort:{sticky:-1,baseScore:-1}}});break;case"pending":var n=deepExtend(!0,t,{find:{status:1},options:{sort:{createdAt:-1}}});break;case"category":var n=deepExtend(!0,t,{options:{sort:{sticky:-1,score:-1}}});break;case"search":if("undefined"!=typeof e.query&&e.query)var n=deepExtend(!0,t,{find:{$or:[{headline:{$regex:e.query,$options:"i"}},{url:{$regex:e.query,$options:"i"}},{body:{$regex:e.query,$options:"i"}}]}});else var n={find:{_id:0}};break;case"digest":var n=deepExtend(!0,t,{find:{submitted:{$gte:e.after,$lt:e.before}},options:{sort:{sticky:-1,baseScore:-1}}})}return deepExtend(!0,n,{options:{sort:{_id:-1}}}),"undefined"!=typeof e.limit&&e.limit&&_.extend(n.options,{limit:parseInt(e.limit)}),"undefined"!=typeof e.category&&e.category&&_.extend(n.find,{"categories.slug":e.category}),n},getUsersParameters=function(e,t,n){var r={},i={createdAt:-1};switch(e){case"invited":r={$or:[{isInvited:!0},{isAdmin:!0}]};break;case"uninvited":r={$and:[{isInvited:!1},{isAdmin:!1}]};break;case"admin":r={isAdmin:!0}}switch(t){case"username":i={username:1};break;case"karma":i={karma:-1};break;case"postCount":i={postCount:-1};break;case"commentCount":i={commentCount:-1};case"invitedCount":i={invitedCount:-1}}return{find:r,options:{sort:i,limit:n}}}}(),function(){canView=function(e){if(getSetting("requireViewInvite",!1)){if(Meteor.isClient){var e="undefined"==typeof e?Meteor.user():e;if(!Session.get("settingsLoaded"))return!1}return e&&(isAdmin(e)||isInvited(e))?!0:!1}return!0},canViewById=function(e,t){return getSetting("requireViewInvite",!1)?e?canView(Meteor.users.findOne(e),t):!1:!0},canPost=function(e,t){var e="undefined"==typeof e?Meteor.user():e;return Meteor.isClient&&!Session.get("settingsLoaded")?!1:e?isAdmin(e)?!0:getSetting("requirePostInvite")?e.isInvited?!0:t?"no_invite":!1:!0:t?"no_account":!1},canPostById=function(e,t){var n=Meteor.users.findOne(e);return canPost(n,t)},canComment=function(e,t){return canPost(e,t)},canCommentById=function(e,t){var n=Meteor.users.findOne(e);return canComment(n,t)},canUpvote=function(e,t,n){return canPost(e,n)},canUpvoteById=function(e,t){var n=Meteor.users.findOne(e);return canUpvote(n,t)},canDownvote=function(e,t,n){return canPost(e,n)},canDownvoteById=function(e,t){var n=Meteor.users.findOne(e);return canDownvote(n,t)},canEdit=function(e,t,n){var e="undefined"==typeof e?Meteor.user():e;return e&&t?isAdmin(e)?!0:e._id!==t.userId?n?"no_rights":!1:!0:n?"no_rights":!1},canEditById=function(e,t){var n=Meteor.users.findOne(e);return canEdit(n,t)},currentUserCanEdit=function(e){return canEdit(Meteor.user(),e)},canInvite=function(e){return isInvited(e)||isAdmin(e)}}(),function(){updateScore=function(e,t,n){var n="undefined"!=typeof n?n:!1,r=30,i=1/Math.pow(24*r+2,1.3),o=1.3,a=t.submitted||t.createdAt,s=t.baseScore,l=((new Date).getTime()-a)/36e5,u=s/Math.pow(l+2,o),c=Math.abs(t.score-u);return n||c>i?(e.update(t._id,{$set:{score:u,inactive:!1}}),1):(l>24*r&&e.update(t._id,{$set:{inactive:!0}}),0)}}(),function(){isAdminById=function(e){var t=Meteor.users.findOne(e);return!(!t||!isAdmin(t))},isAdmin=function(e){return e="undefined"==typeof e?Meteor.user():e,!!e&&!!e.isAdmin},isInvited=function(e){return e&&"undefined"!=typeof e?isAdmin(e)||!!e.isInvited:!1},adminUsers=function(){return Meteor.users.find({isAdmin:!0}).fetch()},getUserName=function(e){return e.username||getProperty(e,"services.twitter.screenName")},getDisplayName=function(e){return e.profile&&e.profile.name?e.profile.name:e.username},getDisplayNameById=function(e){return getDisplayName(Meteor.users.findOne(e))},getProfileUrl=function(e){return Meteor.absoluteUrl()+"users/"+slugify(getUserName(e))
},getProfileUrlById=function(e){return Meteor.absoluteUrl()+"users/"+e},getProfileUrlBySlug=function(e){return Meteor.absoluteUrl()+"users/"+e},getTwitterName=function(e){return checkNested(e,"profile","twitter")?e.profile.twitter:checkNested(e,"services","twitter","screenName")?e.services.twitter.screenName:null},getGitHubName=function(e){return checkNested(e,"profile","github")?e.profile.github:checkNested(e,"services","github","screenName")?e.services.github.screenName:null},getTwitterNameById=function(e){return getTwitterName(Meteor.users.findOne(e))},getSignupMethod=function(e){return e.services&&e.services.twitter?"twitter":"regular"},getEmail=function(e){return e.profile&&e.profile.email?e.profile.email:""},getAvatarUrl=function(e){return"twitter"==getSignupMethod(e)?"http://twitter.com/api/users/profile_image/"+e.services.twitter.screenName:Gravatar.getGravatar(e,{d:"http://demo.telesc.pe/img/default_avatar.png",s:80})},getCurrentUserEmail=function(){return Meteor.user()?getEmail(Meteor.user()):""},userProfileComplete=function(e){return!!getEmail(e)},findLast=function(e,t){return t.findOne({userId:e._id},{sort:{createdAt:-1}})},timeSinceLast=function(e,t){var n=(new Date).getTime(),r=findLast(e,t);return r?Math.abs(Math.floor((n-r.createdAt)/1e3)):999},numberOfItemsInPast24Hours=function(e,t){var n=moment(new Date),r=t.find({userId:e._id,createdAt:{$gte:n.subtract("hours",24).valueOf()}});return r.count()},getUserSetting=function(e,t,n){var n="undefined"==typeof n?Meteor.user():n,t="undefined"==typeof t?null:t,r=getProperty(n.profile,e);return null==r?t:r},getProperty=function(e,t){var n=t.split(".");if(n.length>1){var r=n.shift();return"undefined"==typeof e[r]?null:getProperty(e[r],n.join("."))}return e[n[0]]}}(),function(){var e=function(){return 1},t=function(e,t){Meteor.users.update({_id:e},{$inc:{karma:t}})},n=function(e,t){return e.upvoters&&-1!=e.upvoters.indexOf(t._id)},r=function(e,t){return e.downvoters&&-1!=e.downvoters.indexOf(t._id)},i=function(i,o){var a=Meteor.user(),l=e(a);return a&&canUpvote(a,i,!0)&&!n(o,a)?(r(o,a)&&s(i,o,a),i.update({_id:o&&o._id},{$addToSet:{upvoters:a._id},$pull:{downvoters:a._id},$inc:{votes:1,baseScore:l},$set:{inactive:!1}}),o=_.extend(o,{baseScore:o.baseScore+l}),updateScore(i,o,!0),o.userId!=a._id&&(t(o.userId,l),getSetting("redistributeKarma",!1)&&_.each(o.upvoters,function(e){Math.min(.1,l/o.upvoters.length),t(e,.1)})),!0):!1},o=function(i,o){var s=Meteor.user(),l=e(s);return s&&canDownvote(s,i,!0)&&!r(o,s)?(n(o,s)&&a(i,o,s),i.update({_id:o&&o._id},{$addToSet:{downvoters:s._id},$pull:{upvoters:s._id},$inc:{votes:-1,baseScore:-l},$set:{inactive:!1}}),o=_.extend(o,{baseScore:o.baseScore+l}),updateScore(i,o,!0),o.userId!=s._id&&t(o.userId,l),!0):!1},a=function(r,i){var o=Meteor.user();return votePower=e(o),n(i,o)?(r.update({_id:i&&i._id},{$pull:{upvoters:o._id},$inc:{votes:-1,baseScore:-votePower},$set:{inactive:!1}}),i=_.extend(i,{baseScore:i.baseScore+votePower}),updateScore(r,i,!0),i.userId!=o._id&&t(i.userId,votePower),!0):!1},s=function(r,i){var o=Meteor.user(),a=e(o);return n(i,o)?(r.update({_id:i&&i._id},{$pull:{downvoters:o._id},$inc:{votes:1,baseScore:a},$set:{inactive:!1}}),i=_.extend(i,{baseScore:i.baseScore+a}),updateScore(r,i,!0),i.userId!=o._id&&t(i.userId,a),!0):!1};Meteor.methods({upvotePost:function(e){return i.call(this,Posts,e)},downvotePost:function(e){return o.call(this,Posts,e)},cancelUpvotePost:function(e){return a.call(this,Posts,e)},cancelDownvotePost:function(e){return s.call(this,Posts,e)},upvoteComment:function(e){return i.call(this,Comments,e)},downvoteComment:function(e){return i.call(this,Comments,e)},cancelUpvoteComment:function(e){return a.call(this,Comments,e)},cancelDownvoteComment:function(e){return s.call(this,Comments,e)}})}(),function(){Template.categories.helpers({categories:function(){return Categories.find()}}),Template.categories.events({"click input[type=submit]":function(e){e.preventDefault();var t=$("#name").val(),n=slugify(t);Meteor.call("category",{name:t,slug:n},function(e){e?(console.log(e),throwError(e.reason),clearSeenErrors()):$("#name").val("")})}})}(),function(){Template.category_item.events({"click .edit-link":function(e,t){e.preventDefault();var n=t.data._id,r=$("#name_"+n).val(),i=slugify(r);r?Categories.update(n,{$set:{name:r,slug:i}}):Categories.remove(n)}})}(),function(){Template.logs.helpers({getTime:function(){return moment(this.timestamp).format("HH:mm:ss")},getDate:function(){return currentDate=moment(this.timestamp).format("MMMM DD")},searchCount:function(){var e=moment(this.timestamp).startOf("day").valueOf(),t=moment(this.timestamp).endOf("day").valueOf();return Searches.find({timestamp:{$gte:e,$lt:t}}).count()},isNewDate:function(){return"undefined"==typeof currentDate?!0:currentDate!==moment(this.timestamp).format("MMMM DD")},loadMoreUrl:function(){var e=parseInt(Session.get("logsLimit"))+100;return"/logs/"+e}})}(),function(){var e;Template.settings.helpers({generateSettingsForm:function(t){Meteor.defer(function(){e=new DatabaseForm,e.generateFor(t,"#json-form")})},noSettings:function(){return Settings.findOne()?!1:!0},setting:function(){var e=Settings.find().fetch()[0];return new Setting(e)||new Setting}}),Template.settings.events({"click input[type=submit]":function(t){if(t.preventDefault(),!Meteor.user())throw"You must be logged in.";e.submit(function(){throwError("Settings have been created")},function(e){e&&console.log(e),throwError("Settings have been updated")})}})}(),function(){Template.toolbox.events={"click .update-categories":function(){},"click .give-invites":function(){Meteor.call("giveInvites")},"click .update-user-profiles":function(){Meteor.call("updateUserProfiles")},"click .update-posts-slugs":function(){Meteor.call("updatePostsSlugs")}}}(),function(){Template.comment_edit.rendered=function(){var e=this.data.comment;e&&Meteor.user()&&!this.editor&&(this.editor=new EpicEditor(EpicEditorOptions).load(),this.editor.importFile("editor",e.body),$(this.editor.editor).bind("keydown","meta+return",function(){$(window.editor).closest("form").find('input[type="submit"]').click()}))},Template.comment_edit.events({"click input[type=submit]":function(e,t){var n=this,r=cleanUp(t.editor.exportFile());if(e.preventDefault(),!Meteor.user())throw i18n.t("You must be logged in.");Comments.update(n._id,{$set:{body:r}}),trackEvent("edit comment",{postId:n.post,commentId:n._id}),Router.go("/posts/"+n.post+"/comment/"+n._id)},"click .delete-link":function(e){var t=this;e.preventDefault(),confirm(i18n.t("Are you sure?"))&&(Meteor.call("removeComment",t._id),Router.go("/comments/deleted"))}})}(),function(){Template.comment_form.rendered=function(){Meteor.user()&&!this.editor&&(this.editor=new EpicEditor(EpicEditorOptions).load(),$(this.editor.editor).bind("keydown","meta+return",function(){$(window.editor).closest("form").find('input[type="submit"]').click()}))},Template.comment_form.events({"submit form":function(e,t){e.preventDefault(),$(e.target).addClass("disabled"),clearSeenErrors();var n=t.editor.exportFile();if("comment_reply"==getCurrentTemplate()){var r=this.comment;console.log(r),Meteor.call("comment",r.post,r._id,n,function(e,t){e?(console.log(e),throwError(e.reason)):(trackEvent("newComment",t),Router.go("/posts/"+r.post+"/comment/"+t.commentId))})}else{var i=postObject;Meteor.call("comment",i._id,null,n,function(e,n){e?(console.log(e),throwError(e.reason)):(trackEvent("newComment",n),Session.set("scrollToCommentId",n.commentId),t.editor.importFile("editor",""))})}}})}(),function(){findQueueContainer=function(e){return $up=e.prevAll(".queue-container, .comment-displayed").first(),$down=e.nextAll(".queue-container, .comment-displayed").first(),$prev=e.prev(),$next=e.next(),$queuedAncestors=e.parents(".comment-queued"),$queuedAncestors.exists()?$container=$queuedAncestors.last().data("queue"):$prev.hasClass("queue-container")?$container=$prev.data("queue"):$prev.find(".comment").last().hasClass("comment-queued")?$container=$prev.find(".comment").last().data("queue"):$down.hasClass("queue-container")?$container=$next.data("queue"):($up.hasClass("comment-displayed")||!$up.exists())&&($container=$('<div class="queue-container"><ul></ul></div>').insertBefore(e),$container.click(function(e){e.preventDefault();var t=$(this).find("a");t.each(function(){var e=$(this).attr("href");$(e).removeClass("comment-queued").addClass("comment-displayed"),window.openedComments.push(e.substr(1))}),$(this).hide("slow").remove()})),$container},Template.comment_item.created=function(){this.isQueued=window.queueComments},Template.comment_item.rendered=function(){if(this.data){var e=this.data,t=$("#"+e._id);if(Meteor.user()&&Meteor.user()._id==e.userId);else if(this.isQueued&&!t.hasClass("comment-queued")&&-1==window.openedComments.indexOf(e._id)){var n=Meteor.users.findOne(e.userId),r=getDisplayName(n),i=getAvatarUrl(n),o=findQueueContainer(t),a='<li class="icon-user"><a href="#'+e._id+'" class="has-tooltip" style="background-image:url('+i+')"><span class="tooltip"><span>'+r+"</span></span></a></li>";$(a).appendTo(o.find("ul")),t.removeClass("comment-displayed").addClass("comment-queued"),t.data("queue",o)}}},Template.comment_item.helpers({full_date:function(){var e=new Date(this.submitted);return e.toString()},child_comments:function(){return Comments.find({parent:this._id})},author:function(){return Meteor.users.findOne(this.userId)},authorName:function(){return getAuthorName(this)},user_avatar:function(){return(author=Meteor.users.findOne(this.userId))?getAvatarUrl(author):void 0},can_edit:function(){return this.userId&&Meteor.userId()?Meteor.user().isAdmin||Meteor.userId()===this.userId:!1},body_formatted:function(){if(this.body){var e=new Markdown.Converter,t=e.makeHtml(this.body);return t.autoLink()}},showChildComments:function(){return!0},ago:function(){return moment(this.submitted).fromNow()},upvoted:function(){return Meteor.user()&&_.include(this.upvoters,Meteor.user()._id)},downvoted:function(){return Meteor.user()&&_.include(this.downvoters,Meteor.user()._id)},profileUrl:function(){var e=Meteor.users.findOne(this.userId);return e?getProfileUrl(e):void 0}}),Template.comment_item.events({"click .queue-comment":function(e){e.preventDefault();var t=$(event.target).closest(".comment").attr("id");new Date,Comments.update(t,{$set:{submitted:(new Date).getTime()}})},"click .not-upvoted .upvote":function(e,t){e.preventDefault(),Meteor.user()||(Router.go("/signin"),throwError(i18n.t("Please log in first"))),Meteor.call("upvoteComment",this,function(){trackEvent("post upvoted",{commentId:t.data._id,postId:t.data.post,authorId:t.data.userId})})},"click .upvoted .upvote":function(e,t){e.preventDefault(),Meteor.user()||(Router.go("/signin"),throwError(i18n.t("Please log in first"))),Meteor.call("cancelUpvoteComment",this,function(){trackEvent("post upvote cancelled",{commentId:t.data._id,postId:t.data.post,authorId:t.data.userId})})},"click .not-downvoted .downvote":function(e,t){e.preventDefault(),Meteor.user()||(Router.go("/signin"),throwError(i18n.t("Please log in first"))),Meteor.call("downvoteComment",this,function(){trackEvent("post downvoted",{commentId:t.data._id,postId:t.data.post,authorId:t.data.userId})})},"click .downvoted .downvote":function(e,t){e.preventDefault(),Meteor.user()||(Router.go("/signin"),throwError(i18n.t("Please log in first"))),Meteor.call("cancelDownvoteComment",this,function(){trackEvent("post downvote cancelled",{commentId:t.data._id,postId:t.data.post,authorId:t.data.userId})})}})}(),function(){Template.comment_list.created=function(){postObject=this.data},Template.comment_list.helpers({has_comments:function(){var e=this,t=Comments.find({post:e._id,parent:null},{sort:{score:-1,submitted:-1}});return t.count()>0},child_comments:function(){var e=this,t=Comments.find({post:e._id,parent:null},{sort:{score:-1,submitted:-1}});return t}}),Template.comment_list.rendered=function(){window.queueComments=!0}}(),function(){Template.comment_page.helpers({post:function(){return Posts.findOne(this.comment.post)}})}(),function(){Template.comment_reply.helpers({post:function(){return Posts.findOne(this.comment.post)}})}(),function(){Template.error.errors=function(){return Errors.find()}}(),function(){Template.error_item.helpers({}),Template.error_item.created=function(){var e=this.data._id;Meteor.setTimeout(function(){Errors.update(e,{$set:{seen:!0}})},100)}}(),function(){Template.footer.helpers({footerCode:function(){return getSetting("footerCode")},footerClass:function(){return Session.get("isPostsList")?"absolute":"static"}})}(),function(){Template.layout.helpers({pageName:function(){getCurrentTemplate()},backgroundColor:function(){return getSetting("backgroundColor")},secondaryColor:function(){return getSetting("secondaryColor")},buttonColor:function(){return getSetting("buttonColor")},headerColor:function(){return getSetting("headerColor")},extraCode:function(){return getSetting("extraCode")}}),Template.layout.created=function(){Session.set("currentScroll",null)},Template.layout.rendered=function(){(currentScroll=Session.get("currentScroll"))&&($("body").scrollTop(currentScroll),Session.set("currentScroll",null));var e=getSetting("title"),t=getSetting("tagline");document.title=(t?e+": "+t:e)||""}}(),function(){Template.mobile_nav.events({"click .mobile-nav a":function(){$("body").toggleClass("mobile-nav-open")}})}(),function(){Template.nav.helpers({site_title:function(){return getSetting("title")},logo_url:function(){return getSetting("logoUrl")},logo_height:function(){return getSetting("logoHeight")},logo_width:function(){return getSetting("logoWidth")},logo_top:function(){return Math.floor((70-getSetting("logoHeight"))/2)},logo_offset:function(){return-Math.floor(getSetting("logoWidth")/2)},intercom:function(){return!!getSetting("intercomId")},canPost:function(){return canPost(Meteor.user())},requirePostsApproval:function(){return getSetting("requirePostsApproval")},hasCategories:function(){return Categories.find().count()},categories:function(){return Categories.find()},categoryLink:function(){return getCategoryUrl(this.slug)}}),Template.nav.rendered=function(){Meteor.user()?($("#login-buttons-logout").before('<a href="/users/'+Meteor.user().slug+'" class="account-link button">View Profile</a>'),$("#login-buttons-logout").before('<a href="/account" class="account-link button">Edit Account</a>')):$(".login-link-text").text("Sign Up/Sign In")},Template.nav.events({"click #logout":function(e){e.preventDefault(),Meteor.logout()},"click #mobile-menu":function(e){e.preventDefault(),$("body").toggleClass("mobile-nav-open")},"click .login-header":function(e){e.preventDefault(),Router.go("/account")}})}(),function(){Template.search.helpers({searchQuery:function(){return Session.get("searchQuery")},searchQueryEmpty:function(){return Session.get("searchQuery")?"":"empty"}}),Template.search.preserve({"input#search":function(e){return e.id}}),Template.search.events({"keyup, search .search-field":function(t){t.preventDefault();var n=$(t.target).val(),r=$(".search");""==n?(r.addClass("empty"),Session.set("searchQuery","")):e(function(){Session.set("searchQuery",n),r.removeClass("empty"),-1==getCurrentRoute().indexOf("search")&&Router.go("/search")},500)}});var e=function(){var e=0;return function(t,n){clearTimeout(e),e=setTimeout(t,n)}}()}(),function(){Template.loading.rendered=function(){this.spinner||(this.spinner=(new Spinner).spin(this.find("#loading")))}}(),function(){Template.no_account.helpers({landingPageText:function(){return getSetting("landingPageText")}}),Template.no_account.events({"click .twitter-button":function(){Meteor.loginWithTwitter(function(){Router.go("/")})}})}(),function(){Template.no_invite.helpers({afterSignupText:function(){return getSetting("afterSignupText")}})}(),function(){Template.notification_item.helpers({nice_time:function(){return moment(this.timestamp).fromNow()},properties:function(){return this.properties},notificationHTML:function(){return getNotificationContents(this).html}}),Template.notification_item.events({"click .action-link":function(e,t){var n=t.data._id;Notifications.update({_id:n},{$set:{read:!0}},function(e){e&&console.log(e)})}})}(),function(){Template.notifications.helpers({notifications:function(){return Notifications.find({userId:Meteor.userId()},{sort:{timestamp:-1}})},notification_count:function(){var e=Notifications.find({userId:Meteor.userId(),read:!1}).fetch();return 0==e.length?i18n.t("No notifications"):1==e.length?i18n.t("1 notification"):e.length+" "+i18n.t("notifications")},notification_class:function(){var e=Notifications.find({userId:Meteor.userId(),read:!1}).fetch();return 0==e.length?"no-notifications":void 0}}),Template.notifications.events({"click .notifications-toggle":function(e){e.preventDefault(),$("body").toggleClass("notifications-open")},"click .mark-as-read":function(){Meteor.call("markAllNotificationsAsRead",function(e){e&&console.log(e)})}})}(),function(){Template.unsubscribe.created=function(){var e=this.data.hash;Meteor.call("unsubscribeUser",e,function(e,t){t?Session.set("unsubscribedMessage","You have been unsubscribed from all notifications."):Session.set("unsubscribedMessage","User not found.")}),trackEvent("notificationsUnsubcribe",{hash:e})},Template.unsubscribe.helpers({unsubscribed:function(){return Session.get("unsubscribedMessage")}})}(),function(){Template.post_edit.created=function(){post=Posts.findOne(this.data.postId)},Template.post_edit.helpers({post:function(){return Posts.findOne(this.postId)},created:function(){return moment(this.createdAt).format("MMMM Do, h:mm:ss a")},categories:function(){var e=this;return Categories.find().map(function(t){return t.checked=_.contains(_.pluck(e.categories,"_id"),t._id)?"checked":"",t})},isApproved:function(){return this.status==STATUS_APPROVED},isSticky:function(){return this.sticky?"checked":""},isSelected:function(){return post&&this._id==post.userId?"selected":""},submittedDate:function(){return moment(this.submitted).format("MM/DD/YYYY")},submittedTime:function(){return moment(this.submitted).format("HH:mm")},users:function(){return Meteor.users.find().fetch()},userName:function(){return getDisplayName(this)},hasStatusPending:function(){return this.status==STATUS_PENDING?"checked":""},hasStatusApproved:function(){return this.status==STATUS_APPROVED?"checked":""},hasStatusRejected:function(){return this.status==STATUS_REJECTED?"checked":""},shorten:function(){return!!getSetting("bitlyToken")}}),Template.post_edit.rendered=function(){post&&!this.editor&&(this.editor=new EpicEditor(EpicEditorOptions).load(),this.editor.importFile("editor",post.body),$("#submitted_date").datepicker()),$("#postUser").selectToAutocomplete()},Template.post_edit.events({"click input[type=submit]":function(e,t){var n=this,r=[],i=$("#url").val(),o=$("#short-url").val(),a=parseInt($("input[name=status]:checked").val());if(e.preventDefault(),!Meteor.user())return throwError("You must be logged in."),!1;$("input[name=category]:checked").each(function(){var e=$(this).val();(category=Categories.findOne(e))&&r.push(category)});var s={headline:$("#title").val(),shortUrl:o,body:t.editor.exportFile(),categories:r};i&&(s.url="http://"==i.substring(0,7)||"https://"==i.substring(0,8)?i:"http://"+i),isAdmin(Meteor.user())&&(a==STATUS_APPROVED&&(n.submitted?$("#submitted_date").exists()&&(s.submitted=parseInt(moment($("#submitted_date").val()+$("#submitted_time").val(),"MM/DD/YYYY HH:mm").valueOf())):s.submitted=(new Date).getTime()),adminProperties={sticky:!!$("#sticky").attr("checked"),userId:$("#postUser").val(),status:a},s=_.extend(s,adminProperties)),Posts.update(n._id,{$set:s},function(e){e?(console.log(e),throwError(e.reason)):(trackEvent("edit post",{postId:n._id}),Router.go("/posts/"+n._id))})},"click .delete-link":function(e){var t=this;e.preventDefault(),confirm("Are you sure?")&&Meteor.call("deletePostById",t._id,function(e){e?(console.log(e),throwError(e.reason)):Router.go("/posts/deleted")})}})}(),function(){Template.post_item.created=function(){instance=this},Template.post_item.helpers({post:function(){return this.post||this},postLink:function(){return this.url?this.url:"/posts/"+this._id},postTarget:function(){return this.url?"_blank":""},oneBasedRank:function(){return"undefined"!=typeof this.rank?this.rank+1:void 0},domain:function(){var e=document.createElement("a");return e.href=this.url,e.hostname},current_domain:function(){return"http://"+document.domain},can_edit:function(){return canEdit(Meteor.user(),this)},authorName:function(){return getAuthorName(this)},profileUrl:function(){var e=Meteor.users.findOne(this.userId,{reactive:!1});return e?getProfileUrl(e):void 0},short_score:function(){return Math.floor(1e3*this.score)/1e3},body_formatted:function(){var e=new Markdown.Converter,t=e.makeHtml(this.body);return t.autoLink()},ago:function(){return time=this.status==STATUS_APPROVED?this.submitted:this.createdAt,moment(time).fromNow()},timestamp:function(){return time=this.status==STATUS_APPROVED?this.submitted:this.createdAt,moment(time).format("MMMM Do, h:mm:ss a")},voted:function(){var e=Meteor.user();return e?_.include(this.upvoters,e._id):!1},userAvatar:function(){var e=Meteor.users.findOne(this.userId,{reactive:!1});return e?getAvatarUrl(e):void 0},inactiveClass:function(){return isAdmin(Meteor.user())&&this.inactive?i18n.t("inactive"):""},categoryLink:function(){return getCategoryUrl(this.slug)},commentsDisplayText:function(){return 1==this.comments?i18n.t("comment"):i18n.t("comments")},pointsUnitDisplayText:function(){return 1==this.votes?i18n.t("point"):i18n.t("points")}});var e=function(e,t){var n=t[t.length-2]-t[t.length-1];0!=n&&(e.removeClass("animate").css("top",n+"px"),setTimeout(function(){e.addClass("animate").css("top","0px")},1))};Template.post_item.rendered=function(){var t=this,n=$(t.firstNode.nextSibling),r=n.position().top;"undefined"==typeof t.pArray?t.pArray=[r]:t.pArray.push(r),t.pArray.length>1&&e(n,t.pArray)},Template.post_item.events({"click .upvote-link":function(e){var t=this;e.preventDefault(),Meteor.user()||(Router.go("/signin"),throwError(i18n.t("Please log in first"))),Meteor.call("upvotePost",t,function(){trackEvent("post upvoted",{_id:t._id})})},"click .share-link":function(e){var t=$(e.target).parents(".post-share").find(".share-link"),n=t.parents(".post-share").find(".share-options");e.preventDefault(),$(".share-link").not(t).removeClass("active"),$(".share-options").not(n).addClass("hidden"),t.toggleClass("active"),n.toggleClass("hidden"),n.find(".share-replace").sharrre(SharrreOptions)},"click .post-title":function(){Meteor.call("clickedPost",this,Session.get("sessionId"),function(e){e&&console.log(e)})}})}(),function(){Template.post_page.helpers({post:function(){return Posts.findOne(this.postId)},body_formatted:function(){var e=new Markdown.Converter,t=e.makeHtml(this.body);return t.autoLink()},canComment:function(){return canComment(Meteor.user())}}),Template.post_page.rendered=function(){(scrollToCommentId=Session.get("scrollToCommentId"))&&!this.rendered&&$("#"+scrollToCommentId).exists()&&(scrollPageTo("#"+scrollToCommentId),Session.set("scrollToCommentId",null),this.rendered=!0),document.title=this.data.headline}}(),function(){Template.post_submit.helpers({categories:function(){return Categories.find()},users:function(){return Meteor.users.find()},userName:function(){return getDisplayName(this)},isSelected:function(){var e=Posts.findOne(Session.get("selectedPostId"));return e&&this._id==e.userId}}),Template.post_submit.rendered=function(){Session.set("selectedPostId",null),!this.editor&&$("#editor").exists()&&(this.editor=new EpicEditor(EpicEditorOptions).load()),$("#submitted").datepicker().on("changeDate",function(e){$("#submitted_hidden").val(moment(e.date).valueOf())}),$("#postUser").selectToAutocomplete()},Template.post_submit.events({"click input[type=submit]":function(e,t){if(e.preventDefault(),$(e.target).addClass("disabled"),!Meteor.user())return throwError(i18n.t("You must be logged in.")),!1;var n=$("#title").val(),r=$("#url").val(),i=$("#short-url").val(),o=t.editor.exportFile(),a=[],s=!!$("#sticky").attr("checked"),l=$("#submitted_hidden").val(),u=$("#postUser").val(),c=parseInt($("input[name=status]:checked").val());$("input[name=category]:checked").each(function(){a.push(Categories.findOne($(this).val()))});var d={headline:n,body:o,shortUrl:i,categories:a,sticky:s,submitted:l,userId:u,status:c};if(r){var f="http://"==r.substring(0,7)||"https://"==r.substring(0,8)?r:"http://"+r;d.url=f}Meteor.call("post",d,function(t,n){t?(throwError(t.reason),clearSeenErrors(),$(e.target).removeClass("disabled"),603==t.error&&Router.go("/posts/"+t.details)):(trackEvent("new post",{postId:n.postId}),n.status===STATUS_PENDING&&throwError("Thanks, your post is awaiting approval."),Router.go("/posts/"+n.postId))})},"click .get-title-link":function(e){e.preventDefault();var t=$("#url").val();$(".get-title-link").addClass("loading"),t?$.get(t,function(e){null!=(suggestedTitle=/<title>(.*?)<\/title>/m.exec(e.responseText))?$("#title").val(suggestedTitle[1]):alert("Sorry, couldn't find a title..."),$(".get-title-link").removeClass("loading")}):(alert("Please fill in an URL first!"),$(".get-title-link").removeClass("loading"))}})}(),function(){Template.posts_digest.helpers({hasPosts:function(){return!!this.posts.count()},currentDate:function(){var e=moment(Session.get("currentDate")),t=moment(new Date),n=t.diff(e,"days");return 1===n?i18n.t("Today"):2===n?i18n.t("Yesterday"):e.format("dddd, MMMM Do YYYY")},previousDateURL:function(){var e=moment(Session.get("currentDate")),t=e.subtract("days",1);return getDigestURL(t)},showPreviousDate:function(){return!0},nextDateURL:function(){var e=moment(Session.get("currentDate")),t=e.add("days",1);return getDigestURL(t)},showNextDate:function(){var e=moment(Session.get("currentDate")).startOf("day"),t=moment(new Date).startOf("day");return isAdmin(Meteor.user())||t.diff(e,"days")>0}}),Template.posts_digest.created=function(){$(document).unbind("keyup");var e=moment(Session.get("currentDate")).startOf("day"),t=moment(new Date).startOf("daysy");$(document).bind("keyup","left",function(){Router.go($(".prev-link").attr("href"))}),$(document).bind("keyup","right",function(){(isAdmin(Meteor.user())||t.diff(e,"days")>0)&&Router.go($(".next-link").attr("href"))})},Template.posts_digest.rendered=function(){var e=0;$(".post").each(function(){e+=$(this).height()}),e+=55,Session.set("distanceFromTop",e),$("body").css("min-height",e+160),$(".more-button").css("top",e+"px")}}(),function(){Template.posts_list.helpers({posts:function(){this.postsList.rewind();var e=this.postsList.map(function(e,t){return e.rank=t,e});return e},hasMorePosts:function(){return parseInt(Session.get("postsLimit"))==this.postsCount},loadMoreUrl:function(){var e=parseInt(Session.get("postsLimit"))+parseInt(getSetting("postsPerPage",10)),t=Session.get("categorySlug")?Session.get("categorySlug")+"/":"";return"/"+Session.get("view")+"/"+t+e}}),Template.posts_list.rendered=function(){var e=0;$(".post").each(function(){e+=$(this).height()}),Session.set("distanceFromTop",e),$("body").css("min-height",e+160)}}(),function(){Template.forgot_password.events({"click input[type=submit]":function(e){e.preventDefault();var t=new Object;t.email=$("#email").val(),Accounts.forgotPassword(t,function(e){e?console.log(e):throwError(i18n.t("Password reset link sent!"))})}})}(),function(){Template.signin.events({"click input[type=submit]":function(e){e.preventDefault();var t=$("#username").val(),n=$("#password").val();Meteor.loginWithPassword(t,n,function(e){e&&(console.log(e),throwError(e.reason))})},"click #signup":function(){Router.go("/signup")},"click .twitter-button":function(){Meteor.loginWithTwitter(function(){Router.go("/")})}})}(),function(){Template.signup.events({"click input[type=submit]":function(e){e.preventDefault();var t=$("#username").val(),n=$("#email").val(),r=$("#password").val();return t&&n&&r?(Accounts.createUser({username:t,email:n,password:r},function(e){e?console.log(e):Router.go("/")}),void 0):(throwError(i18n.t("Please fill in all fields")),!1)},"click #signin":function(){Router.go("/signin")},"click .twitter-button":function(){Meteor.loginWithTwitter(function(){Router.go("/")})}})}(),function(){Template.user_edit.helpers({profileIncomplete:function(){return this&&!this.loading&&!userProfileComplete(this)},userName:function(){return getUserName(this)},userEmail:function(){return getEmail(this)},getTwitter:function(){return getTwitterName(this)||""},getGitHub:function(){return getGitHubName(this)||""},profileUrl:function(){return Meteor.absoluteUrl()+"users/"+this.slug},hasNotificationsUsers:function(){return getUserSetting("notifications.users","",this)?"checked":""},hasNotificationsPosts:function(){return getUserSetting("notifications.notifications_posts","",this)?"checked":""},hasNotificationsComments:function(){return getUserSetting("notifications.comments","",this)?"checked":""},hasNotificationsReplies:function(){return getUserSetting("notifications.replies","",this)?"checked":""}}),Template.user_edit.events({"submit form":function(e){Meteor.user()||throwError(i18n.t("You must be logged in."));var t=$(e.target),n=t.find("[name=name]").val(),r=this,i={"profile.name":n,"profile.slug":slugify(n),"profile.bio":t.find("[name=bio]").val(),"profile.email":t.find("[name=email]").val(),"profile.twitter":t.find("[name=twitter]").val(),"profile.github":t.find("[name=github]").val(),"profile.site":t.find("[name=site]").val(),"profile.notifications.users":$("input[name=notifications_users]:checked").length,"profile.notifications.posts":$("input[name=notifications_posts]:checked").length,"profile.notifications.comments":$("input[name=notifications_comments]:checked").length,"profile.notifications.replies":$("input[name=notifications_replies]:checked").length,inviteCount:parseInt(t.find("[name=inviteCount]").val())},o=t.find("[name=old_password]").val(),a=t.find("[name=new_password]").val();o&&a&&Accounts.changePassword(o,a,function(e){e&&throwError(e.reason)}),Meteor.users.update(r._id,{$set:i},function(e){e?throwError(e.reason):throwError(i18n.t("Profile updated"))})}})}(),function(){Template.user_email.helpers({user:function(){return Meteor.user()}}),Template.user_email.events({"submit form":function(e){e.preventDefault(),Meteor.user()||throwError(i18n.t("You must be logged in."));var t=$(e.target),n=Session.get("selectedUserId")?Meteor.users.findOne(Session.get("selectedUserId")):Meteor.user(),r={"profile.email":t.find("[name=email]").val()};t.find("[name=email]").val(),Meteor.users.update(n._id,{$set:r},function(e){e?throwError(e.reason):(throwError(i18n.t("Thanks for signing up!")),Meteor.call("addCurrentUserToMailChimpList"),trackEvent("new sign-up",{userId:n._id,auth:"twitter"}),Router.go("/"))})}})}(),function(){Template.user_item.helpers({avatarUrl:function(){return getAvatarUrl(this)},createdAtFormatted:function(){return this.createdAt?moment(this.createdAt).fromNow():"–"},displayName:function(){return getDisplayName(this)},getEmail:function(){return getEmail(this)},posts:function(){return Posts.find({userId:this._id})},comments:function(){return Comments.find({userId:this._id})},userIsAdmin:function(){return isAdmin(this)},getProfileUrl:function(){return getProfileUrl(this)},getKarma:function(){return Math.round(100*this.karma)/100},getInvitedUserProfileUrl:function(){var e=Meteor.users.findOne(this.invitedId);return getProfileUrl(e)}}),Template.user_item.events({"click .invite-link":function(e,t){e.preventDefault(),Meteor.call("inviteUser",t.data._id)},"click .uninvite-link":function(e,t){e.preventDefault(),Meteor.users.update(t.data._id,{$set:{isInvited:!1}})},"click .admin-link":function(e,t){e.preventDefault(),Meteor.users.update(t.data._id,{$set:{isAdmin:!0}})},"click .unadmin-link":function(e,t){e.preventDefault(),Meteor.users.update(t.data._id,{$set:{isAdmin:!1}})},"click .delete-link":function(e,t){e.preventDefault(),confirm(i18n.t("Are you sure you want to delete ")+getDisplayName(t.data)+"?")&&Meteor.users.remove(t.data._id)
}})}(),function(){Template.user_profile.helpers({avatarUrl:function(){return getAvatarUrl(this)},canEditProfile:function(){var e=Meteor.user();return e&&(this._id==e._id||isAdmin(e))},createdAtFormatted:function(){return this.createdAt},canInvite:function(){return Meteor.user()&&Meteor.user()._id!=this._id&&!isInvited(this)&&invitesEnabled()&&canInvite(Meteor.user())},inviteCount:function(){return Meteor.user().inviteCount},getTwitterName:function(){return getTwitterName(this)},getGitHubName:function(){return getGitHubName(this)}}),Template.user_profile.events({"click .invite-link":function(e,t){Meteor.call("inviteUser",t.data.user._id),throwError("Thanks, user has been invited.")}})}(),function(){Template.users.helpers({loadMoreUrl:function(){var e=parseInt(Session.get("usersLimit"))+20;return"/all-users/"+e+"?filterBy="+this.filterBy+"&sortBy="+this.sortBy},allPostsLoaded:function(){return!1},activeClass:function(e){return e==this.filterBy||e==this.sortBy?"active":void 0},sortBy:function(e){return"?filterBy="+this.filterBy+"&sortBy="+e},filterBy:function(e){return"?filterBy="+e+"&sortBy="+this.sortBy}})}(),function(){Accounts.ui.config({passwordSignupFields:"USERNAME_AND_EMAIL"}),EpicEditorOptions={container:"editor",basePath:"/editor",clientSideStorage:!1,theme:{base:"/themes/base/epiceditor.css",preview:"/themes/preview/github.css",editor:"/themes/editor/epic-light.css"}},SharrreOptions={share:{googlePlus:!0,twitter:!0},buttons:{googlePlus:{size:"tall",annotation:"bubble"},twitter:{count:"vertical",via:"TelescopeApp"}},enableHover:!1,enableCounter:!1,enableTracking:!0},Statuses={pending:1,approved:2,rejected:3}}(),function(){Handlebars.registerHelper("eachWithRank",function(e,t){e.rewind();var n="";return e.forEach(function(e,r){var i="Branch-"+r;n+=Spark.labelBranch(i,function(){return t.fn(_.extend(e,{rank:r}))})}),n}),Handlebars.registerHelper("getSetting",function(e,t){return getSetting(e,t)}),Handlebars.registerHelper("canView",function(){return canView(Meteor.user())}),Handlebars.registerHelper("canPost",function(){return canPost(Meteor.user())}),Handlebars.registerHelper("canComment",function(){return canComment(Meteor.user())}),Handlebars.registerHelper("canUpvote",function(e){return canUpvote(Meteor.user(),e)}),Handlebars.registerHelper("canDownvote",function(e){return canDownvote(Meteor.user(),e)}),Handlebars.registerHelper("isAdmin",function(e){return isAdmin(Meteor.user())?!0:("string"==typeof e&&"true"===e&&throwError(i18n.t("Sorry, you do not have access to this page")),!1)}),Handlebars.registerHelper("canEdit",function(collectionName,item,action){var action="string"!=typeof action?null:action,collection="string"!=typeof collectionName?Posts:eval(collectionName);return console.log(item),item&&canEdit(Meteor.user(),item,action)})}(),function(){Router.configure({layoutTemplate:"layout",loadingTemplate:"loading",notFoundTemplate:"not_found"});var e={nProgressHook:function(){this.ready()?NProgress.done():(NProgress.start(),this.stop())},resetScroll:function(){var e=window.currentScroll||0;$("body").scrollTop(e),$("body").css("min-height",0)},isLoggedIn:function(){Meteor.loggingIn()||Meteor.user()||(throwError(i18n.t("Please Sign In First.")),this.render("signin"),this.stop())},isLoggedOut:function(){Meteor.user()&&(this.render("already_logged_in"),this.stop())},isAdmin:function(){Meteor.loggingIn()||!Session.get("settingsLoaded")||isAdmin()||(throwError(i18n.t("Sorry, you  have to be an admin to view this page.")),this.render("no_rights"),this.stop())},canView:function(){Session.get("settingsLoaded")&&!canView()&&(console.log("cannot view"),this.render("no_rights"),this.stop())},canPost:function(){Meteor.loggingIn()||!Session.get("settingsLoaded")||canPost()||(throwError(i18n.t("Sorry, you don't have permissions to add new items.")),this.render("no_rights"),this.stop())},canEditPost:function(){var e=Posts.findOne(this.params._id);Meteor.loggingIn()||!Session.get("settingsLoaded")||currentUserCanEdit(e)||(throwError(i18n.t("Sorry, you cannot edit this post.")),this.render("no_rights"),this.stop())},canEditComment:function(){var e=Comments.findOne(this.params._id);Meteor.loggingIn()||!Session.get("settingsLoaded")||currentUserCanEdit(e)||(throwError(i18n.t("Sorry, you cannot edit this comment.")),this.render("no_rights"),this.stop())},hasCompletedProfile:function(){var e=Meteor.user();!e||Meteor.loggingIn()||userProfileComplete(e)||(this.render("user_email"),this.stop())}};Router.load(function(){clearSeenErrors(),Session.set("categorySlug",null),-1==getCurrentRoute().indexOf("search")&&(Session.set("searchQuery",""),$(".search-field").val("").blur())}),Router.before(e.nProgressHook,{only:["posts_top","posts_new","posts_best","posts_pending","posts_digest","posts_category","search","post_page","post_edit","comment_page","comment_edit","comment_reply","user_edit","user_profile","all-users","logs"]}),Router.before(e.canView),Router.before(e.hasCompletedProfile),Router.before(e.isLoggedIn,{only:["comment_reply","post_submit"]}),Router.before(e.isLoggedOut,{only:["signin","signup"]}),Router.before(e.canPost,{only:["posts_pending","comment_reply","post_submit"]}),Router.before(e.canEditPost,{only:["post_edit"]}),Router.before(e.canEditComment,{only:["comment_edit"]}),Router.before(e.isAdmin,{only:["posts_pending","all-users","settings","categories","toolbox","logs"]}),Router.after(e.resetScroll,{except:["posts_top","posts_new","posts_best","posts_pending","posts_category","all-users"]}),Router.after(function(){analyticsRequest()}),PostsListController=RouteController.extend({template:"posts_list",waitOn:function(){return this._terms={view:"/"==this.path?"top":this.path.split("/")[1],limit:this.params.limit||getSetting("postsPerPage",10),category:this.params.slug,query:Session.get("searchQuery")},[Meteor.subscribe("postsList",this._terms),Meteor.subscribe("postsListUsers",this._terms)]},data:function(){var e=getParameters(this._terms),t=Posts.find(e.find,e.options);return postsCount=t.count(),Session.set("postsLimit",this._terms.limit),{postsList:t,postsCount:postsCount}},after:function(){var e="/"==this.path?"top":this.path.split("/")[1];Session.set("view",e)}}),PostsDigestController=RouteController.extend({template:"posts_digest",waitOn:function(){var e=this.params.day?new Date(this.params.year,this.params.month-1,this.params.day):Session.get("today"),t={view:"digest",after:moment(e).startOf("day").valueOf(),before:moment(e).endOf("day").valueOf()};return[Meteor.subscribe("postsList",t),Meteor.subscribe("postsListUsers",t)]},data:function(){var e=this.params.day?new Date(this.params.year,this.params.month-1,this.params.day):Session.get("today"),t={view:"digest",after:moment(e).startOf("day").valueOf(),before:moment(e).endOf("day").valueOf()},n=getParameters(t);return Session.set("currentDate",e),{posts:Posts.find(n.find,n.options)}}}),PostPageController=RouteController.extend({template:"post_page",waitOn:function(){return[Meteor.subscribe("singlePost",this.params._id),Meteor.subscribe("postComments",this.params._id),Meteor.subscribe("postUsers",this.params._id)]},data:function(){return{postId:this.params._id}},after:function(){window.queueComments=!1,window.openedComments=[]}}),CommentPageController=RouteController.extend({waitOn:function(){return[Meteor.subscribe("singleComment",this.params._id),Meteor.subscribe("commentUser",this.params._id),Meteor.subscribe("commentPost",this.params._id)]},data:function(){return{comment:Comments.findOne(this.params._id)}},after:function(){window.queueComments=!1}}),UserPageController=RouteController.extend({waitOn:function(){return Meteor.subscribe("singleUser",this.params._idOrSlug)},data:function(){var e=Meteor.users.findOne(this.params._idOrSlug),t=Meteor.users.findOne({slug:this.params._idOrSlug});return"undefined"==typeof e?{user:"undefined"==typeof e?t:e}:(Router.go(getProfileUrl(e),{replaceState:!0}),void 0)}}),Router.map(function(){this.route("posts_top",{path:"/",controller:PostsListController}),this.route("posts_top",{path:"/top/:limit?",controller:PostsListController}),this.route("posts_new",{path:"/new/:limit?",controller:PostsListController}),this.route("posts_best",{path:"/best/:limit?",controller:PostsListController}),this.route("posts_pending",{path:"/pending/:limit?",controller:PostsListController}),this.route("posts_category",{path:"/category/:slug/:limit?",controller:PostsListController,after:function(){Session.set("categorySlug",this.params.slug)}}),this.route("search",{path:"/search/:limit?",controller:PostsListController}),this.route("posts_digest",{path:"/digest/:year/:month/:day",controller:PostsDigestController}),this.route("posts_digest",{path:"/digest",controller:PostsDigestController}),this.route("post_page",{path:"/posts/:_id",controller:PostPageController}),this.route("post_page",{path:"/posts/:_id/comment/:commentId",controller:PostPageController,after:function(){}}),this.route("post_edit",{path:"/posts/:_id/edit",waitOn:function(){return Meteor.subscribe("singlePost",this.params._id)},data:function(){return{postId:this.params._id}}}),this.route("post_submit",{path:"/submit"}),this.route("comment_page",{path:"/comments/:_id",controller:CommentPageController}),this.route("comment_reply",{path:"/comments/:_id/reply",controller:CommentPageController,after:function(){window.queueComments=!1}}),this.route("comment_edit",{path:"/comments/:_id/edit",controller:CommentPageController,after:function(){window.queueComments=!1}}),this.route("user_profile",{path:"/users/:_idOrSlug",controller:UserPageController}),this.route("user_edit",{path:"/users/:_idOrSlug/edit",controller:UserPageController}),this.route("account",{path:"/account",template:"user_edit",data:function(){return{user:Meteor.user()}}}),this.route("forgot_password"),this.route("all-users",{path:"/all-users/:limit?",template:"users",waitOn:function(){var e=parseInt(this.params.limit)||20;return Meteor.subscribe("allUsers",this.params.filterBy,this.params.sortBy,e)},data:function(){var e=parseInt(this.params.limit)||20,t=getUsersParameters(this.params.filterBy,this.params.sortBy,e),n="string"==typeof this.params.filterBy?this.params.filterBy:"all",r="string"==typeof this.params.sortBy?this.params.sortBy:"createdAt";return Session.set("usersLimit",e),{users:Meteor.users.find(t.find,t.options),filterBy:n,sortBy:r}}}),this.route("unsubscribe",{path:"/unsubscribe/:hash",data:function(){return{hash:this.params.hash}}}),this.route("signup"),this.route("signin"),this.route("categories"),this.route("settings"),this.route("toolbox"),this.route("logs",{path:"/logs/:limit?",waitOn:function(){var e=this.params.limit||100;return Session.set("logsLimit",e),Meteor.subscribe("searches",e)},data:function(){return Searches.find({},{sort:{timestamp:-1}})}})})}(),function(){!function(){function e(){}function t(e){this.buttonBar=d.getElementById("wmd-button-bar"+e),this.preview=d.getElementById("wmd-preview"+e),this.input=d.getElementById("wmd-input"+e)}function n(e,t){var n,i,o,a=this,s=[],u=0,c="none",d=function(e,t){c!=e&&(c=e,t||p()),m.isIE&&"moving"==c?o=null:i=setTimeout(f,1)},f=function(e){o=new r(t,e),i=void 0};this.setCommandMode=function(){c="command",p(),i=setTimeout(f,0)},this.canUndo=function(){return u>1},this.canRedo=function(){return s[u+1]?!0:!1},this.undo=function(){a.canUndo()&&(n?(n.restore(),n=null):(s[u]=new r(t),s[--u].restore(),e&&e())),c="none",t.input.focus(),f()},this.redo=function(){a.canRedo()&&(s[++u].restore(),e&&e()),c="none",t.input.focus(),f()};var p=function(){var i=o||new r(t);return i?"moving"==c?(n||(n=i),void 0):(n&&(s[u-1].text!=n.text&&(s[u++]=n),n=null),s[u++]=i,s[u+1]=null,e&&e(),void 0):!1},h=function(e){var t=!1;if(e.ctrlKey||e.metaKey){var n=e.charCode||e.keyCode,r=String.fromCharCode(n);switch(r){case"y":a.redo(),t=!0;break;case"z":e.shiftKey?a.redo():a.undo(),t=!0}}return t?(e.preventDefault&&e.preventDefault(),window.event&&(window.event.returnValue=!1),void 0):void 0},g=function(e){if(!e.ctrlKey&&!e.metaKey){var t=e.keyCode;t>=33&&40>=t||t>=63232&&63235>=t?d("moving"):8==t||46==t||127==t?d("deleting"):13==t?d("newlines"):27==t?d("escape"):(16>t||t>20)&&91!=t&&d("typing")}},v=function(){l.addEvent(t.input,"keypress",function(e){!e.ctrlKey&&!e.metaKey||89!=e.keyCode&&90!=e.keyCode||e.preventDefault()});var e=function(){(m.isIE||o&&o.text!=t.input.value)&&void 0==i&&(c="paste",p(),f())};l.addEvent(t.input,"keydown",h),l.addEvent(t.input,"keydown",g),l.addEvent(t.input,"mousedown",function(){d("moving")}),t.input.onpaste=e,t.input.ondrop=e},_=function(){v(),f(!0),p()};_()}function r(t,n){var r=this,i=t.input;this.init=function(){l.isVisible(i)&&(n||!d.activeElement||d.activeElement===i)&&(this.setInputAreaSelectionStartEnd(),this.scrollTop=i.scrollTop,(!this.text&&i.selectionStart||0===i.selectionStart)&&(this.text=i.value))},this.setInputAreaSelection=function(){if(l.isVisible(i))if(void 0===i.selectionStart||m.isOpera){if(d.selection){if(d.activeElement&&d.activeElement!==i)return;i.focus();var e=i.createTextRange();e.moveStart("character",-i.value.length),e.moveEnd("character",-i.value.length),e.moveEnd("character",r.end),e.moveStart("character",r.start),e.select()}}else i.focus(),i.selectionStart=r.start,i.selectionEnd=r.end,i.scrollTop=r.scrollTop},this.setInputAreaSelectionStartEnd=function(){if(t.ieCachedRange||!i.selectionStart&&0!==i.selectionStart){if(d.selection){r.text=l.fixEolChars(i.value);var e=t.ieCachedRange||d.selection.createRange(),n=l.fixEolChars(e.text),o="",a=o+n+o;e.text=a;var s=l.fixEolChars(i.value);e.moveStart("character",-a.length),e.text=n,r.start=s.indexOf(o),r.end=s.lastIndexOf(o)-o.length;var u=r.text.length-l.fixEolChars(i.value).length;if(u){for(e.moveStart("character",-n.length);u--;)n+="\n",r.end+=1;e.text=n}t.ieCachedRange&&(r.scrollTop=t.ieCachedScrollTop),t.ieCachedRange=null,this.setInputAreaSelection()}}else r.start=i.selectionStart,r.end=i.selectionEnd},this.restore=function(){void 0!=r.text&&r.text!=i.value&&(i.value=r.text),this.setInputAreaSelection(),i.scrollTop=r.scrollTop},this.getChunks=function(){var t=new e;return t.before=l.fixEolChars(r.text.substring(0,r.start)),t.startTag="",t.selection=l.fixEolChars(r.text.substring(r.start,r.end)),t.endTag="",t.after=l.fixEolChars(r.text.substring(r.end)),t.scrollTop=r.scrollTop,t},this.setChunks=function(e){e.before=e.before+e.startTag,e.after=e.endTag+e.after,this.start=e.before.length,this.end=e.before.length+e.selection.length,this.text=e.before+e.selection+e.after,this.scrollTop=e.scrollTop},this.init()}function i(e,t,n){var r,i,o,a=3e3,s="delayed",c=function(e,t){l.addEvent(e,"input",t),e.onpaste=t,e.ondrop=t,l.addEvent(e,"keypress",t),l.addEvent(e,"keydown",t)},f=function(){var e=0;return window.innerHeight?e=window.pageYOffset:d.documentElement&&d.documentElement.scrollTop?e=d.documentElement.scrollTop:d.body&&(e=d.body.scrollTop),e},p=function(){if(t.preview){var n=t.input.value;if(!n||n!=o){o=n;var r=(new Date).getTime();n=e.makeHtml(n);var a=(new Date).getTime();i=a-r,M(n)}}},h=function(){if(r&&(clearTimeout(r),r=void 0),"manual"!==s){var e=0;"delayed"===s&&(e=i),e>a&&(e=a),r=setTimeout(p,e)}},g=function(e){return e.scrollHeight<=e.clientHeight?1:e.scrollTop/(e.scrollHeight-e.clientHeight)},v=function(){t.preview&&(t.preview.scrollTop=(t.preview.scrollHeight-t.preview.clientHeight)*g(t.preview))};this.refresh=function(e){e?(o="",p()):h()},this.processingTime=function(){return i};var _,y=!0,b=function(e){var n=t.preview,r=n.parentNode,i=n.nextSibling;r.removeChild(n),n.innerHTML=e,i?r.insertBefore(n,i):r.appendChild(n)},w=function(e){t.preview.innerHTML=e},k=function(e){if(_)return _(e);try{w(e),_=w}catch(t){_=b,_(e)}},M=function(e){var r=u.getTop(t.input)-f();if(t.preview&&(k(e),n()),v(),y)return y=!1,void 0;var i=u.getTop(t.input)-f();m.isIE?setTimeout(function(){window.scrollBy(0,i-r)},0):window.scrollBy(0,i-r)},T=function(){c(t.input,h),p(),t.preview&&(t.preview.scrollTop=0)};T()}function o(e,t,n,i,o,a){function s(e){if(g.focus(),e.textOp){n&&n.setCommandMode();var o=new r(t);if(!o)return;var a=o.getChunks(),s=function(){g.focus(),a&&o.setChunks(a),o.restore(),i.refresh()},l=e.textOp(a,s);l||s()}e.execute&&e.execute(n)}function u(e,n){var r="0px",i="-20px",o="-40px",a=e.getElementsByTagName("span")[0];n?(a.style.backgroundPosition=e.XShift+" "+r,e.onmouseover=function(){a.style.backgroundPosition=this.XShift+" "+o},e.onmouseout=function(){a.style.backgroundPosition=this.XShift+" "+r},m.isIE&&(e.onmousedown=function(){d.activeElement&&d.activeElement!==t.input||(t.ieCachedRange=document.selection.createRange(),t.ieCachedScrollTop=t.input.scrollTop)}),e.isHelp||(e.onclick=function(){return this.onmouseout&&this.onmouseout(),s(this),!1})):(a.style.backgroundPosition=e.XShift+" "+i,e.onmouseover=e.onmouseout=e.onclick=function(){})}function c(e){return"string"==typeof e&&(e=o[e]),function(){e.apply(o,arguments)}}function f(){var n=t.buttonBar,r=document.createElement("ul");r.id="wmd-button-row"+e,r.className="wmd-button-row",r=n.appendChild(r);var i=0,o=function(t,n,o,a){var s=document.createElement("li");s.className="wmd-button",s.style.left=i+"px",i+=25;var l=document.createElement("span");return s.id=t+e,s.appendChild(l),s.title=n,s.XShift=o,a&&(s.textOp=a),u(s,!0),r.appendChild(s),s},s=function(t){var n=document.createElement("li");n.className="wmd-spacer wmd-spacer"+t,n.id="wmd-spacer"+t+e,r.appendChild(n),i+=25};v.bold=o("wmd-bold-button","Strong <strong> Ctrl+B","0px",c("doBold")),v.italic=o("wmd-italic-button","Emphasis <em> Ctrl+I","-20px",c("doItalic")),s(1),v.link=o("wmd-link-button","Hyperlink <a> Ctrl+L","-40px",c(function(e,t){return this.doLinkOrImage(e,t,!1)})),v.quote=o("wmd-quote-button","Blockquote <blockquote> Ctrl+Q","-60px",c("doBlockquote")),v.code=o("wmd-code-button","Code Sample <pre><code> Ctrl+K","-80px",c("doCode")),v.image=o("wmd-image-button","Image <img> Ctrl+G","-100px",c(function(e,t){return this.doLinkOrImage(e,t,!0)})),s(2),v.olist=o("wmd-olist-button","Numbered List <ol> Ctrl+O","-120px",c(function(e,t){this.doList(e,t,!0)})),v.ulist=o("wmd-ulist-button","Bulleted List <ul> Ctrl+U","-140px",c(function(e,t){this.doList(e,t,!1)})),v.heading=o("wmd-heading-button","Heading <h1>/<h2> Ctrl+H","-160px",c("doHeading")),v.hr=o("wmd-hr-button","Horizontal Rule <hr> Ctrl+R","-180px",c("doHorizontalRule")),s(3),v.undo=o("wmd-undo-button","Undo - Ctrl+Z","-200px",null),v.undo.execute=function(e){e&&e.undo()};var l=/win/.test(p.platform.toLowerCase())?"Redo - Ctrl+Y":"Redo - Ctrl+Shift+Z";if(v.redo=o("wmd-redo-button",l,"-220px",null),v.redo.execute=function(e){e&&e.redo()},a){var d=document.createElement("li"),f=document.createElement("span");d.appendChild(f),d.className="wmd-button wmd-help-button",d.id="wmd-help-button"+e,d.XShift="-240px",d.isHelp=!0,d.style.right="0px",d.title=a.title||b,d.onclick=a.handler,u(d,!0),r.appendChild(d),v.help=d}h()}function h(){n&&(u(v.undo,n.canUndo()),u(v.redo,n.canRedo()))}var g=t.input,v={};f();var _="keydown";m.isOpera&&(_="keypress"),l.addEvent(g,_,function(e){if((e.ctrlKey||e.metaKey)&&!e.altKey&&!e.shiftKey){var t=e.charCode||e.keyCode,n=String.fromCharCode(t).toLowerCase();switch(n){case"b":s(v.bold);break;case"i":s(v.italic);break;case"l":s(v.link);break;case"q":s(v.quote);break;case"k":s(v.code);break;case"g":s(v.image);break;case"o":s(v.olist);break;case"u":s(v.ulist);break;case"h":s(v.heading);break;case"r":s(v.hr);break;case"y":s(v.redo);break;case"z":e.shiftKey?s(v.redo):s(v.undo);break;default:return}e.preventDefault&&e.preventDefault(),window.event&&(window.event.returnValue=!1)}}),l.addEvent(g,"keyup",function(e){if(e.shiftKey&&!e.ctrlKey&&!e.metaKey){var t=e.charCode||e.keyCode;if(13===t){var n={};n.textOp=c("doAutoindent"),s(n)}}}),m.isIE&&l.addEvent(g,"keydown",function(e){var t=e.keyCode;return 27===t?!1:void 0}),this.setUndoRedoButtonStates=h}function a(e){this.hooks=e}function s(e){return e.replace(/^\s*(.*?)(?:\s+"(.+)")?\s*$/,function(e,t,n){return t=t.replace(/\?.*$/,function(e){return e.replace(/\+/g," ")}),t=decodeURIComponent(t),t=encodeURI(t).replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29"),t=t.replace(/\?.*$/,function(e){return e.replace(/\+/g,"%2b")}),n&&(n=n.trim?n.trim():n.replace(/^\s*/,"").replace(/\s*$/,""),n=n.replace(/"/g,"quot;").replace(/\(/g,"&#40;").replace(/\)/g,"&#41;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),n?t+' "'+n+'"':t})}var l={},u={},c={},d=window.document,f=window.RegExp,p=window.navigator,h={lineLength:72},m={isIE:/msie/.test(p.userAgent.toLowerCase()),isIE_5or6:/msie 6/.test(p.userAgent.toLowerCase())||/msie 5/.test(p.userAgent.toLowerCase()),isOpera:/opera/.test(p.userAgent.toLowerCase())},g='<p><b>Insert Hyperlink</b></p><p>http://example.com/ "optional title"</p>',v="<p><b>Insert Image</b></p><p>http://example.com/images/diagram.jpg \"optional title\"<br><br>Need <a href='http://www.google.com/search?q=free+image+hosting' target='_blank'>free image hosting?</a></p>",_="http://",y="http://",b="Markdown Editing Help";Markdown.Editor=function(e,r,s){r=r||"";var l=this.hooks=new Markdown.HookCollection;l.addNoop("onPreviewRefresh"),l.addNoop("postBlockquoteCreation"),l.addFalse("insertImageDialog"),this.getConverter=function(){return e};var u,c=this;this.run=function(){if(!u){u=new t(r);var f,p,h=new a(l),m=new i(e,u,function(){l.onPreviewRefresh()});/\?noundo/.test(d.location.href)||(f=new n(function(){m.refresh(),p&&p.setUndoRedoButtonStates()},u),this.textOperation=function(e){f.setCommandMode(),e(),c.refreshPreview()}),p=new o(r,u,f,m,h,s),p.setUndoRedoButtonStates();var g=c.refreshPreview=function(){m.refresh(!0)};g()}}},e.prototype.findTags=function(e,t){var n,r=this;e&&(n=l.extendRegExp(e,"","$"),this.before=this.before.replace(n,function(e){return r.startTag=r.startTag+e,""}),n=l.extendRegExp(e,"^",""),this.selection=this.selection.replace(n,function(e){return r.startTag=r.startTag+e,""})),t&&(n=l.extendRegExp(t,"","$"),this.selection=this.selection.replace(n,function(e){return r.endTag=e+r.endTag,""}),n=l.extendRegExp(t,"^",""),this.after=this.after.replace(n,function(e){return r.endTag=e+r.endTag,""}))},e.prototype.trimWhitespace=function(e){var t,n,r=this;e?t=n="":(t=function(e){return r.before+=e,""},n=function(e){return r.after=e+r.after,""}),this.selection=this.selection.replace(/^(\s*)/,t).replace(/(\s*)$/,n)},e.prototype.skipLines=function(e,t,n){void 0===e&&(e=1),void 0===t&&(t=1),e++,t++;var r,i;if(navigator.userAgent.match(/Chrome/)&&"X".match(/()./),this.selection=this.selection.replace(/(^\n*)/,""),this.startTag=this.startTag+f.$1,this.selection=this.selection.replace(/(\n*$)/,""),this.endTag=this.endTag+f.$1,this.startTag=this.startTag.replace(/(^\n*)/,""),this.before=this.before+f.$1,this.endTag=this.endTag.replace(/(\n*$)/,""),this.after=this.after+f.$1,this.before){for(r=i="";e--;)r+="\\n?",i+="\n";n&&(r="\\n*"),this.before=this.before.replace(new f(r+"$",""),i)}if(this.after){for(r=i="";t--;)r+="\\n?",i+="\n";n&&(r="\\n*"),this.after=this.after.replace(new f(r,""),i)}},l.isVisible=function(e){return window.getComputedStyle?"none"!==window.getComputedStyle(e,null).getPropertyValue("display"):e.currentStyle?"none"!==e.currentStyle.display:void 0},l.addEvent=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)},l.removeEvent=function(e,t,n){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener(t,n,!1)},l.fixEolChars=function(e){return e=e.replace(/\r\n/g,"\n"),e=e.replace(/\r/g,"\n")},l.extendRegExp=function(e,t,n){(null===t||void 0===t)&&(t=""),(null===n||void 0===n)&&(n="");var r,i=e.toString();return i=i.replace(/\/([gim]*)$/,function(e,t){return r=t,""}),i=i.replace(/(^\/|\/$)/g,""),i=t+i+n,new f(i,r)},u.getTop=function(e,t){var n=e.offsetTop;if(!t)for(;e=e.offsetParent;)n+=e.offsetTop;return n},u.getHeight=function(e){return e.offsetHeight||e.scrollHeight},u.getWidth=function(e){return e.offsetWidth||e.scrollWidth},u.getPageSize=function(){var e,t,n,r;self.innerHeight&&self.scrollMaxY?(e=d.body.scrollWidth,t=self.innerHeight+self.scrollMaxY):d.body.scrollHeight>d.body.offsetHeight?(e=d.body.scrollWidth,t=d.body.scrollHeight):(e=d.body.offsetWidth,t=d.body.offsetHeight),self.innerHeight?(n=self.innerWidth,r=self.innerHeight):d.documentElement&&d.documentElement.clientHeight?(n=d.documentElement.clientWidth,r=d.documentElement.clientHeight):d.body&&(n=d.body.clientWidth,r=d.body.clientHeight);var i=Math.max(e,n),o=Math.max(t,r);return[i,o,n,r]},c.createBackground=function(){var e=d.createElement("div"),t=e.style;e.className="wmd-prompt-background",t.position="absolute",t.top="0",t.zIndex="1000",m.isIE?t.filter="alpha(opacity=50)":t.opacity="0.5";var n=u.getPageSize();return t.height=n[1]+"px",m.isIE?(t.left=d.documentElement.scrollLeft,t.width=d.documentElement.clientWidth):(t.left="0",t.width="100%"),d.body.appendChild(e),e},c.prompt=function(e,t,n){var r,i;void 0===t&&(t="");var o=function(e){var t=e.charCode||e.keyCode;27===t&&a(!0)},a=function(e){l.removeEvent(d.body,"keydown",o);var t=i.value;return e?t=null:(t=t.replace(/^http:\/\/(https?|ftp):\/\//,"$1://"),/^(?:https?|ftp):\/\//.test(t)||(t="http://"+t)),r.parentNode.removeChild(r),n(t),!1},s=function(){r=d.createElement("div"),r.className="wmd-prompt-dialog",r.style.padding="10px;",r.style.position="fixed",r.style.width="400px",r.style.zIndex="1001";var n=d.createElement("div");n.innerHTML=e,n.style.padding="5px",r.appendChild(n);var s=d.createElement("form"),c=s.style;s.onsubmit=function(){return a(!1)},c.padding="0",c.margin="0",c.cssFloat="left",c.width="100%",c.textAlign="center",c.position="relative",r.appendChild(s),i=d.createElement("input"),i.type="text",i.value=t,c=i.style,c.display="block",c.width="80%",c.marginLeft=c.marginRight="auto",s.appendChild(i);var f=d.createElement("input");f.type="button",f.onclick=function(){return a(!1)},f.value="OK",c=f.style,c.margin="10px",c.display="inline",c.width="7em";var p=d.createElement("input");p.type="button",p.onclick=function(){return a(!0)},p.value="Cancel",c=p.style,c.margin="10px",c.display="inline",c.width="7em",s.appendChild(f),s.appendChild(p),l.addEvent(d.body,"keydown",o),r.style.top="50%",r.style.left="50%",r.style.display="block",m.isIE_5or6&&(r.style.position="absolute",r.style.top=d.documentElement.scrollTop+200+"px",r.style.left="50%"),d.body.appendChild(r),r.style.marginTop=-(u.getHeight(r)/2)+"px",r.style.marginLeft=-(u.getWidth(r)/2)+"px"};setTimeout(function(){s();var e=t.length;if(void 0!==i.selectionStart)i.selectionStart=0,i.selectionEnd=e;else if(i.createTextRange){var n=i.createTextRange();n.collapse(!1),n.moveStart("character",-e),n.moveEnd("character",e),n.select()}i.focus()},0)};var w=a.prototype;w.prefixes="(?:\\s{4,}|\\s*>|\\s*-\\s+|\\s*\\d+\\.|=|\\+|-|_|\\*|#|\\s*\\[[^\n]]+\\]:)",w.unwrap=function(e){var t=new f("([^\\n])\\n(?!(\\n|"+this.prefixes+"))","g");e.selection=e.selection.replace(t,"$1 $2")},w.wrap=function(e,t){this.unwrap(e);var n=new f("(.{1,"+t+"})( +|$\\n?)","gm"),r=this;e.selection=e.selection.replace(n,function(e,t){return new f("^"+r.prefixes,"").test(e)?e:t+"\n"}),e.selection=e.selection.replace(/\s+$/,"")},w.doBold=function(e,t){return this.doBorI(e,t,2,"strong text")},w.doItalic=function(e,t){return this.doBorI(e,t,1,"emphasized text")},w.doBorI=function(e,t,n,r){e.trimWhitespace(),e.selection=e.selection.replace(/\n{2,}/g,"\n");var i=/(\**$)/.exec(e.before)[0],o=/(^\**)/.exec(e.after)[0],a=Math.min(i.length,o.length);if(a>=n&&(2!=a||1!=n))e.before=e.before.replace(f("[*]{"+n+"}$",""),""),e.after=e.after.replace(f("^[*]{"+n+"}",""),"");else if(!e.selection&&o){e.after=e.after.replace(/^([*_]*)/,""),e.before=e.before.replace(/(\s?)$/,"");var s=f.$1;e.before=e.before+o+s}else{e.selection||o||(e.selection=r);var l=1>=n?"*":"**";e.before=e.before+l,e.after=l+e.after}},w.stripLinkDefs=function(e,t){return e=e.replace(/^[ ]{0,3}\[(\d+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|$)/gm,function(e,n,r,i,o){return t[n]=e.replace(/\s*$/,""),i?(t[n]=e.replace(/["(](.+?)[")]$/,""),i+o):""})},w.addLinkDef=function(e,t){var n=0,r={};e.before=this.stripLinkDefs(e.before,r),e.selection=this.stripLinkDefs(e.selection,r),e.after=this.stripLinkDefs(e.after,r);var i="",o=/(\[)((?:\[[^\]]*\]|[^\[\]])*)(\][ ]?(?:\n[ ]*)?\[)(\d+)(\])/g,a=function(e){n++,e=e.replace(/^[ ]{0,3}\[(\d+)\]:/,"  ["+n+"]:"),i+="\n"+e},s=function(e,t,i,l,u,c){return i=i.replace(o,s),r[u]?(a(r[u]),t+i+l+n+c):e};e.before=e.before.replace(o,s),t?a(t):e.selection=e.selection.replace(o,s);var l=n;return e.after=e.after.replace(o,s),e.after&&(e.after=e.after.replace(/\n*$/,"")),e.after||(e.selection=e.selection.replace(/\n*$/,"")),e.after+="\n\n"+i,l},w.doLinkOrImage=function(e,t,n){e.trimWhitespace(),e.findTags(/\s*!?\[/,/\][ ]?(?:\n[ ]*)?(\[.*?\])?/);var r;if(!(e.endTag.length>1&&e.startTag.length>0)){if(e.selection=e.startTag+e.selection+e.endTag,e.startTag=e.endTag="",/\n\n/.test(e.selection))return this.addLinkDef(e,null),void 0;var i=this,o=function(o){if(r.parentNode.removeChild(r),null!==o){e.selection=(" "+e.selection).replace(/([^\\](?:\\\\)*)(?=[[\]])/g,"$1\\").substr(1);var a=" [999]: "+s(o),l=i.addLinkDef(e,a);e.startTag=n?"![":"[",e.endTag="]["+l+"]",e.selection||(e.selection=n?"enter image description here":"enter link description here")}t()};return r=c.createBackground(),n?this.hooks.insertImageDialog(o)||c.prompt(v,_,o):c.prompt(g,y,o),!0}e.startTag=e.startTag.replace(/!?\[/,""),e.endTag="",this.addLinkDef(e,null)},w.doAutoindent=function(e){var t=this,n=!1;e.before=e.before.replace(/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]*\n$/,"\n\n"),e.before=e.before.replace(/(\n|^)[ ]{0,3}>[ \t]*\n$/,"\n\n"),e.before=e.before.replace(/(\n|^)[ \t]+\n$/,"\n\n"),e.selection||/^[ \t]*(?:\n|$)/.test(e.after)||(e.after=e.after.replace(/^[^\n]*/,function(t){return e.selection=t,""}),n=!0),/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]+.*\n$/.test(e.before)&&t.doList&&t.doList(e),/(\n|^)[ ]{0,3}>[ \t]+.*\n$/.test(e.before)&&t.doBlockquote&&t.doBlockquote(e),/(\n|^)(\t|[ ]{4,}).*\n$/.test(e.before)&&t.doCode&&t.doCode(e),n&&(e.after=e.selection+e.after,e.selection="")},w.doBlockquote=function(e){e.selection=e.selection.replace(/^(\n*)([^\r]+?)(\n*)$/,function(t,n,r,i){return e.before+=n,e.after=i+e.after,r}),e.before=e.before.replace(/(>[ \t]*)$/,function(t,n){return e.selection=n+e.selection,""}),e.selection=e.selection.replace(/^(\s|>)+$/,""),e.selection=e.selection||"Blockquote";var t,n="",r="";if(e.before){for(var i=e.before.replace(/\n$/,"").split("\n"),o=!1,a=0;a<i.length;a++){var s=!1;t=i[a],o=o&&t.length>0,/^>/.test(t)?(s=!0,!o&&t.length>1&&(o=!0)):s=/^[ \t]*$/.test(t)?!0:o,s?n+=t+"\n":(r+=n+t,n="\n")}/(^|\n)>/.test(n)||(r+=n,n="")}e.startTag=n,e.before=r,e.after&&(e.after=e.after.replace(/^\n?/,"\n")),e.after=e.after.replace(/^(((\n|^)(\n[ \t]*)*>(.+\n)*.*)+(\n[ \t]*)*)/,function(t){return e.endTag=t,""});var l=function(t){var n=t?"> ":"";e.startTag&&(e.startTag=e.startTag.replace(/\n((>|\s)*)\n$/,function(e,t){return"\n"+t.replace(/^[ ]{0,3}>?[ \t]*$/gm,n)+"\n"})),e.endTag&&(e.endTag=e.endTag.replace(/^\n((>|\s)*)\n/,function(e,t){return"\n"+t.replace(/^[ ]{0,3}>?[ \t]*$/gm,n)+"\n"}))};/^(?![ ]{0,3}>)/m.test(e.selection)?(this.wrap(e,h.lineLength-2),e.selection=e.selection.replace(/^/gm,"> "),l(!0),e.skipLines()):(e.selection=e.selection.replace(/^[ ]{0,3}> ?/gm,""),this.unwrap(e),l(!1),!/^(\n|^)[ ]{0,3}>/.test(e.selection)&&e.startTag&&(e.startTag=e.startTag.replace(/\n{0,2}$/,"\n\n")),!/(\n|^)[ ]{0,3}>.*$/.test(e.selection)&&e.endTag&&(e.endTag=e.endTag.replace(/^\n{0,2}/,"\n\n"))),e.selection=this.hooks.postBlockquoteCreation(e.selection),/\n/.test(e.selection)||(e.selection=e.selection.replace(/^(> *)/,function(t,n){return e.startTag+=n,""}))},w.doCode=function(e){var t=/\S[ ]*$/.test(e.before),n=/^[ ]*\S/.test(e.after);if(!n&&!t||/\n/.test(e.selection)){e.before=e.before.replace(/[ ]{4}$/,function(t){return e.selection=t+e.selection,""});var r=1,i=1;/(\n|^)(\t|[ ]{4,}).*\n$/.test(e.before)&&(r=0),/^\n(\t|[ ]{4,})/.test(e.after)&&(i=0),e.skipLines(r,i),e.selection?/^[ ]{0,3}\S/m.test(e.selection)?/\n/.test(e.selection)?e.selection=e.selection.replace(/^/gm,"    "):e.before+="    ":e.selection=e.selection.replace(/^[ ]{4}/gm,""):(e.startTag="    ",e.selection="enter code here")
}else e.trimWhitespace(),e.findTags(/`/,/`/),e.startTag||e.endTag?e.endTag&&!e.startTag?(e.before+=e.endTag,e.endTag=""):e.startTag=e.endTag="":(e.startTag=e.endTag="`",e.selection||(e.selection="enter code here"))},w.doList=function(e,t,n){var r=/(\n|^)(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*$/,i=/^\n*(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*/,o="-",a=1,s=function(){var e;return n?(e=" "+a+". ",a++):e=" "+o+" ",e},l=function(e){return void 0===n&&(n=/^\s*\d/.test(e)),e=e.replace(/^[ ]{0,3}([*+-]|\d+[.])\s/gm,function(){return s()})};if(e.findTags(/(\n|^)*[ ]{0,3}([*+-]|\d+[.])\s+/,null),!e.before||/\n$/.test(e.before)||/^\n/.test(e.startTag)||(e.before+=e.startTag,e.startTag=""),e.startTag){var u=/\d+[.]/.test(e.startTag);if(e.startTag="",e.selection=e.selection.replace(/\n[ ]{4}/g,"\n"),this.unwrap(e),e.skipLines(),u&&(e.after=e.after.replace(i,l)),n==u)return}var c=1;e.before=e.before.replace(r,function(e){return/^\s*([*+-])/.test(e)&&(o=f.$1),c=/[^\n]\n\n[^\n]/.test(e)?1:0,l(e)}),e.selection||(e.selection="List item");var d=s(),p=1;e.after=e.after.replace(i,function(e){return p=/[^\n]\n\n[^\n]/.test(e)?1:0,l(e)}),e.trimWhitespace(!0),e.skipLines(c,p,!0),e.startTag=d;var m=d.replace(/./g," ");this.wrap(e,h.lineLength-m.length),e.selection=e.selection.replace(/\n/g,"\n"+m)},w.doHeading=function(e){if(e.selection=e.selection.replace(/\s+/g," "),e.selection=e.selection.replace(/(^\s+|\s+$)/g,""),!e.selection)return e.startTag="## ",e.selection="Heading",e.endTag=" ##",void 0;var t=0;e.findTags(/#+[ ]*/,/[ ]*#+/),/#+/.test(e.startTag)&&(t=f.lastMatch.length),e.startTag=e.endTag="",e.findTags(null,/\s?(-+|=+)/),/=+/.test(e.endTag)&&(t=1),/-+/.test(e.endTag)&&(t=2),e.startTag=e.endTag="",e.skipLines(1,1);var n=0==t?2:t-1;if(n>0){var r=n>=2?"-":"=",i=e.selection.length;for(i>h.lineLength&&(i=h.lineLength),e.endTag="\n";i--;)e.endTag+=r}},w.doHorizontalRule=function(e){e.startTag="----------\n",e.selection="",e.skipLines(2,1,!0)}}()}(),function(){!function(){function e(e){return e.replace(/<[^>]*>?/gi,t)}function t(e){return e.match(o)||e.match(a)||e.match(s)?e:""}function n(e){if(""==e)return"";var t=/<\/?\w+[^>]*(\s|$|>)/g,n=e.toLowerCase().match(t),r=(n||[]).length;if(0==r)return e;for(var i,o,a,s="<p><img><br><li><hr>",l=[],u=[],c=!1,d=0;r>d;d++)if(i=n[d].replace(/<\/?(\w+).*/,"$1"),!(l[d]||s.search("<"+i+">")>-1)){if(o=n[d],a=-1,!/^<\//.test(o))for(var f=d+1;r>f;f++)if(!l[f]&&n[f]=="</"+i+">"){a=f;break}-1==a?c=u[d]=!0:l[a]=!0}if(!c)return e;var d=0;return e=e.replace(t,function(e){var t=u[d]?"":e;return d++,t})}var r,i;"object"==typeof exports&&"function"==typeof require?(r=exports,i=require("./Markdown.Converter").Converter):(r=window.Markdown,i=r.Converter),r.getSanitizingConverter=function(){var t=new i;return t.hooks.chain("postConversion",e),t.hooks.chain("postConversion",n),t};var o=/^(<\/?(b|blockquote|code|del|dd|dl|dt|em|h1|h2|h3|i|kbd|li|ol|p|pre|s|sup|sub|strong|strike|ul)>|<(br|hr)\s?\/?>)$/i,a=/^(<a\shref="((https?|ftp):\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\stitle="[^"<>]+")?\s?>|<\/a>)$/i,s=/^(<img\ssrc="(https?:\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\swidth="\d{1,3}")?(\sheight="\d{1,3}")?(\salt="[^"<>]*")?(\stitle="[^"<>]*")?\s?\/?>)$/i}()}(),function(){(function(){var e,t=[].slice;e=function(){var e,n,r,i,o,a,s,l;if(a=1<=arguments.length?t.call(arguments,0):[],s=/(^|\s)(\b(https?):\/\/[\-A-Z0-9+&@#\/%?=~_|!:,.;]*[\-A-Z0-9+&@#\/%=~_|]\b)/gi,a.length>0){o=a[0],n=o.callback,null!=n&&"function"==typeof n&&(e=n,delete o.callback),i="";for(r in o)l=o[r],i+=" "+r+"='"+l+"'";return this.replace(s,function(t,n,r){var o,a;return a=e&&e(r),o=a||"<a href='"+r+"'"+i+">"+r+"</a>",""+n+o})}return this.replace(s,"$1<a href='$2'>$2</a>")},String.prototype.autoLink=e}).call(this)}(),function(){!function(e){var t=function(t,r){if(this.element=e(t),this.format=n.parseFormat(r.format||this.element.data("date-format")||"mm/dd/yyyy"),this.picker=e(n.template).appendTo("body").on({click:e.proxy(this.click,this),mousedown:e.proxy(this.mousedown,this)}),this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on"):!1,this.isInput?this.element.on({focus:e.proxy(this.show,this),blur:e.proxy(this.hide,this),keyup:e.proxy(this.update,this)}):this.component?this.component.on("click",e.proxy(this.show,this)):this.element.on("click",e.proxy(this.show,this)),this.minViewMode=r.minViewMode||this.element.data("date-minviewmode")||0,"string"==typeof this.minViewMode)switch(this.minViewMode){case"months":this.minViewMode=1;break;case"years":this.minViewMode=2;break;default:this.minViewMode=0}if(this.viewMode=r.viewMode||this.element.data("date-viewmode")||0,"string"==typeof this.viewMode)switch(this.viewMode){case"months":this.viewMode=1;break;case"years":this.viewMode=2;break;default:this.viewMode=0}this.startViewMode=this.viewMode,this.weekStart=r.weekStart||this.element.data("date-weekstart")||0,this.weekEnd=0===this.weekStart?6:this.weekStart-1,this.fillDow(),this.fillMonths(),this.update(),this.showMode()};t.prototype={constructor:t,show:function(t){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),e(window).on("resize",e.proxy(this.place,this)),t&&(t.stopPropagation(),t.preventDefault()),this.isInput||e(document).on("mousedown",e.proxy(this.hide,this)),this.element.trigger({type:"show",date:this.date})},hide:function(){this.picker.hide(),e(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||e(document).off("mousedown",this.hide),this.set(),this.element.trigger({type:"hide",date:this.date})},set:function(){var e=n.formatDate(this.date,this.format);this.isInput?this.element.prop("value",e):(this.component&&this.element.find("input").prop("value",e),this.element.data("date",e))},setValue:function(e){this.date="string"==typeof e?n.parseDate(e,this.format):new Date(e),this.set(),this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0),this.fill()},place:function(){var e=this.component?this.component.offset():this.element.offset();this.picker.css({top:e.top+this.height,left:e.left})},update:function(e){this.date=n.parseDate("string"==typeof e?e:this.isInput?this.element.prop("value"):this.element.data("date"),this.format),this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0),this.fill()},fillDow:function(){for(var e=this.weekStart,t="<tr>";e<this.weekStart+7;)t+='<th class="dow">'+n.dates.daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;12>t;)e+='<span class="month">'+n.dates.monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").append(e)},fill:function(){var e=new Date(this.viewDate),t=e.getFullYear(),r=e.getMonth(),i=this.date.valueOf();this.picker.find(".datepicker-days th:eq(1)").text(n.dates.months[r]+" "+t);var o=new Date(t,r-1,28,0,0,0,0),a=n.getDaysInMonth(o.getFullYear(),o.getMonth());o.setDate(a),o.setDate(a-(o.getDay()-this.weekStart+7)%7);var s=new Date(o);s.setDate(s.getDate()+42),s=s.valueOf(),html=[];for(var l;o.valueOf()<s;)o.getDay()===this.weekStart&&html.push("<tr>"),l="",o.getMonth()<r?l+=" old":o.getMonth()>r&&(l+=" new"),o.valueOf()===i&&(l+=" active"),html.push('<td class="day'+l+'">'+o.getDate()+"</td>"),o.getDay()===this.weekEnd&&html.push("</tr>"),o.setDate(o.getDate()+1);this.picker.find(".datepicker-days tbody").empty().append(html.join(""));var u=this.date.getFullYear(),c=this.picker.find(".datepicker-months").find("th:eq(1)").text(t).end().find("span").removeClass("active");u===t&&c.eq(this.date.getMonth()).addClass("active"),html="",t=10*parseInt(t/10,10);var d=this.picker.find(".datepicker-years").find("th:eq(1)").text(t+"-"+(t+9)).end().find("td");t-=1;for(var f=-1;11>f;f++)html+='<span class="year'+(-1===f||10===f?" old":"")+(u===t?" active":"")+'">'+t+"</span>",t+=1;d.html(html)},click:function(t){t.stopPropagation(),t.preventDefault();var r=e(t.target).closest("span, td, th");if(1===r.length)switch(r[0].nodeName.toLowerCase()){case"th":switch(r[0].className){case"switch":this.showMode(1);break;case"prev":case"next":this.viewDate["set"+n.modes[this.viewMode].navFnc].call(this.viewDate,this.viewDate["get"+n.modes[this.viewMode].navFnc].call(this.viewDate)+n.modes[this.viewMode].navStep*("prev"===r[0].className?-1:1)),this.fill(),this.set()}break;case"span":if(r.is(".month")){var i=r.parent().find("span").index(r);this.viewDate.setMonth(i)}else{var o=parseInt(r.text(),10)||0;this.viewDate.setFullYear(o)}0!==this.viewMode&&(this.date=new Date(this.viewDate),this.element.trigger({type:"changeDate",date:this.date,viewMode:n.modes[this.viewMode].clsName})),this.showMode(-1),this.fill(),this.set();break;case"td":if(r.is(".day")){var a=parseInt(r.text(),10)||1,i=this.viewDate.getMonth();r.is(".old")?i-=1:r.is(".new")&&(i+=1);var o=this.viewDate.getFullYear();this.date=new Date(o,i,a,0,0,0,0),this.viewDate=new Date(o,i,Math.min(28,a),0,0,0,0),this.fill(),this.set(),this.element.trigger({type:"changeDate",date:this.date,viewMode:n.modes[this.viewMode].clsName})}}},mousedown:function(e){e.stopPropagation(),e.preventDefault()},showMode:function(e){e&&(this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+e))),this.picker.find(">div").hide().filter(".datepicker-"+n.modes[this.viewMode].clsName).show()}},e.fn.datepicker=function(n,r){return this.each(function(){var i=e(this),o=i.data("datepicker"),a="object"==typeof n&&n;o||i.data("datepicker",o=new t(this,e.extend({},e.fn.datepicker.defaults,a))),"string"==typeof n&&o[n](r)})},e.fn.datepicker.defaults={},e.fn.datepicker.Constructor=t;var n={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],dates:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},isLeapYear:function(e){return 0===e%4&&0!==e%100||0===e%400},getDaysInMonth:function(e,t){return[31,n.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},parseFormat:function(e){var t=e.match(/[.\/\-\s].*?/),n=e.split(/\W+/);if(!t||!n||0===n.length)throw new Error("Invalid date format.");return{separator:t,parts:n}},parseDate:function(e,t){var n,r=e.split(t.separator),e=new Date;if(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),r.length===t.parts.length)for(var i=0,o=t.parts.length;o>i;i++)switch(n=parseInt(r[i],10)||1,t.parts[i]){case"dd":case"d":e.setDate(n);break;case"mm":case"m":e.setMonth(n-1);break;case"yy":e.setFullYear(2e3+n);break;case"yyyy":e.setFullYear(n)}return e},formatDate:function(e,t){var n={d:e.getDate(),m:e.getMonth()+1,yy:e.getFullYear().toString().substring(2),yyyy:e.getFullYear()};n.dd=(n.d<10?"0":"")+n.d,n.mm=(n.m<10?"0":"")+n.m;for(var e=[],r=0,i=t.parts.length;i>r;r++)e.push(n[t.parts[r]]);return e.join(t.separator)},headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};n.template='<div class="datepicker dropdown-menu"><div class="datepicker-days"><table class=" table-condensed">'+n.headTemplate+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+n.headTemplate+n.contTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+n.headTemplate+n.contTemplate+"</table></div></div>"}(window.jQuery)}(),function(){!function(e,t){function n(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function r(e,t){for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])}function i(t,n){var r=t,i=null;return e.getComputedStyle?i=document.defaultView.getComputedStyle(r,null).getPropertyValue(n):r.currentStyle&&(i=r.currentStyle[n]),i}function o(e,t,n){var o,a={};if("save"===t){for(o in n)n.hasOwnProperty(o)&&(a[o]=i(e,o));r(e,n)}else"apply"===t&&r(e,n);return a}function a(e){var t,n=parseInt(i(e,"border-left-width"),10)+parseInt(i(e,"border-right-width"),10),r=parseInt(i(e,"padding-left"),10)+parseInt(i(e,"padding-right"),10),o=e.offsetWidth;return isNaN(n)&&(n=0),t=n+r+o}function s(e){var t,n=parseInt(i(e,"border-top-width"),10)+parseInt(i(e,"border-bottom-width"),10),r=parseInt(i(e,"padding-top"),10)+parseInt(i(e,"padding-bottom"),10),o=e.offsetHeight;return isNaN(n)&&(n=0),t=n+r+o}function l(e,t,r){r=r||"";var i=t.getElementsByTagName("head")[0],o=t.createElement("link");n(o,{type:"text/css",id:r,rel:"stylesheet",href:e,name:e,media:"screen"}),i.appendChild(o)}function u(e,t,n){e.className=e.className.replace(t,n)}function c(e){return e.contentDocument||e.contentWindow.document}function d(e){var t;return document.body.innerText?t=e.innerText:(t=e.innerHTML.replace(/<br>/gi,"\n"),t=t.replace(/<(?:.|\n)*?>/gm,""),t=t.replace(/&lt;/gi,"<"),t=t.replace(/&gt;/gi,">")),t}function f(e,t){return document.body.innerText?e.innerText=t:e.innerHTML=t.replace(/\n/g,"<br>"),!0}function p(){var e,t=-1,n=navigator.userAgent;return"Microsoft Internet Explorer"==navigator.appName&&(e=/MSIE ([0-9]{1,}[\.0-9]{0,})/,null!=e.exec(n)&&(t=parseFloat(RegExp.$1,10))),t}function h(e){var t={};return e&&"[object Function]"===t.toString.call(e)}function m(){var e,n,r,i,o=arguments[0]||{},a=1,s=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[1]||{},a=2),"object"!=typeof o&&!h(o)&&(o={}),s===a&&(o=this,--a);s>a;a++)if(null!=(e=arguments[a]))for(n in e)if(e.hasOwnProperty(n)){if(r=o[n],i=e[n],o===i)continue;l&&i&&"object"==typeof i&&!i.nodeType?o[n]=m(l,r||(null!=i.length?[]:{}),i):i!==t&&(o[n]=i)}return o}function g(e){var n,r,i=this,o=e||{},a={container:"epiceditor",basePath:"epiceditor",clientSideStorage:!0,localStorageName:"epiceditor",file:{name:null,defaultContent:"",autoSave:100},theme:{base:"/themes/base/epiceditor.css",preview:"/themes/preview/github.css",editor:"/themes/editor/epic-dark.css"},focusOnLoad:!1,shortcut:{modifier:18,fullscreen:70,preview:80,edit:79},parser:"function"==typeof marked?marked:null};return i.settings=m(!0,a,o),("function"!=typeof i.settings.parser||"string"!=typeof i.settings.parser("TEST"))&&(i.settings.parser=function(e){return e}),"string"==typeof i.settings.container?i.element=document.getElementById(i.settings.container):"object"==typeof i.settings.container&&(i.element=i.settings.container),i.settings.file.name||("string"==typeof i.settings.container?i.settings.file.name=i.settings.container:"object"==typeof i.settings.container&&(i.element.id?i.settings.file.name=i.element.id:(g._data.unnamedEditors||(g._data.unnamedEditors=[]),g._data.unnamedEditors.push(i),i.settings.file.name="__epiceditor-untitled-"+g._data.unnamedEditors.length))),i._instanceId="epiceditor-"+Math.round(1e5*Math.random()),i._storage={},i._canSave=!0,i._defaultFileSchema=function(){return{content:i.settings.file.defaultContent,created:new Date,modified:new Date}},localStorage&&i.settings.clientSideStorage&&(this._storage=localStorage,this._storage[i.settings.localStorageName]&&i.getFiles(i.settings.file.name)===t&&(n=i.getFiles(i.settings.file.name),n=i._defaultFileSchema(),n.content=i.settings.file.defaultContent)),this._storage[i.settings.localStorageName]||(r={},r[i.settings.file.name]=i._defaultFileSchema(),r=JSON.stringify(r),this._storage[i.settings.localStorageName]=r),i.events||(i.events={}),this}g.prototype.load=function(t){function n(e){for(var t=0;t<e.length;t++)e[t].style.width=I.element.offsetWidth-_+"px",e[t].style.height=I.element.offsetHeight-y+"px"}function u(e){_=a(I.element)-I.element.offsetWidth;for(var t=0;t<e.length;t++)e[t].style.width=I.element.offsetWidth-_+"px"}function d(t){(Math.abs(A.y-t.pageY)>=5||Math.abs(A.x-t.pageX)>=5)&&(w.style.display="block",k&&clearTimeout(k),k=e.setTimeout(function(){w.style.display="none"},1e3)),A={y:t.pageY,x:t.pageX}}function f(e){e.keyCode==I.settings.shortcut.modifier&&(O=!0),17==e.keyCode&&(Y=!0),O===!0&&e.keyCode==I.settings.shortcut.preview&&!I.eeState.fullscreen&&(e.preventDefault(),I.preview()),O===!0&&e.keyCode==I.settings.shortcut.edit&&(e.preventDefault(),I.eeState.fullscreen||I.edit()),O===!0&&e.keyCode==I.settings.shortcut.fullscreen&&(e.preventDefault(),x(D)),O===!0&&e.keyCode!==I.settings.shortcut.modifier&&(O=!1),27==e.keyCode&&I.eeState.fullscreen&&(document.body.webkitRequestFullScreen||E(D)),Y===!0&&83==e.keyCode&&(I.save(),e.preventDefault(),Y=!1),e.metaKey&&83==e.keyCode&&(I.save(),e.preventDefault())}function h(e){e.keyCode==I.settings.shortcut.modifier&&(O=!1),17==e.keyCode&&(Y=!1)}var m,g,v,_,y,b,w,k,M,T,S,x,E,L,D,C,P,I=this,A={y:-1,x:-1},N=document.body.webkitRequestFullScreen?!0:!1,O=!1,Y=!1;for(t=t||function(){},I.eeState={fullscreen:!1,preview:!1,edit:!0,loaded:!1,unloaded:!1},m={chrome:'<div id="epiceditor-wrapper" class="epiceditor-edit-mode"><iframe frameborder="0" id="epiceditor-editor-frame"></iframe><iframe frameborder="0" id="epiceditor-previewer-frame"></iframe><div id="epiceditor-utilbar"><img width="30" src="'+this.settings.basePath+'/images/preview.png" title="Toggle Preview Mode" class="epiceditor-toggle-btn epiceditor-toggle-preview-btn"> <img width="30" src="'+this.settings.basePath+'/images/edit.png" title="Toggle Edit Mode" class="epiceditor-toggle-btn epiceditor-toggle-edit-btn"> <img width="30" src="'+this.settings.basePath+'/images/fullscreen.png" title="Enter Fullscreen" class="epiceditor-fullscreen-btn"></div></div>',previewer:'<div id="epiceditor-preview"></div>'},I.element.innerHTML='<iframe scrolling="no" frameborder="0" id= "'+I._instanceId+'"></iframe>',g=document.getElementById(I._instanceId),I.iframeElement=g,I.iframe=c(g),I.iframe.open(),I.iframe.write(m.chrome),I.editorIframe=I.iframe.getElementById("epiceditor-editor-frame"),I.previewerIframe=I.iframe.getElementById("epiceditor-previewer-frame"),I.editorIframeDocument=c(I.editorIframe),I.editorIframeDocument.open(),I.editorIframeDocument.write(""),I.editorIframeDocument.close(),I.previewerIframeDocument=c(I.previewerIframe),I.previewerIframeDocument.open(),I.previewerIframeDocument.write(m.previewer),v=I.previewerIframeDocument.createElement("base"),v.target="_blank",I.previewerIframeDocument.getElementsByTagName("head")[0].appendChild(v),I.previewerIframeDocument.close(),_=a(I.element)-I.element.offsetWidth,y=s(I.element)-I.element.offsetHeight,L=[I.iframeElement,I.editorIframe,I.previewerIframe],n(L),l(I.settings.basePath+I.settings.theme.base,I.iframe,"theme"),l(I.settings.basePath+I.settings.theme.editor,I.editorIframeDocument,"theme"),l(I.settings.basePath+I.settings.theme.preview,I.previewerIframeDocument,"theme"),I.iframe.getElementById("epiceditor-wrapper").style.position="relative",I.editor=I.editorIframeDocument.body,I.previewer=I.previewerIframeDocument.getElementById("epiceditor-preview"),I.editor.contentEditable=!0,I.iframe.body.style.height=this.element.offsetHeight+"px",this.previewerIframe.style.display="none",p()>-1&&(this.previewer.style.height=parseInt(i(this.previewer,"height"),10)+2),this.open(I.settings.file.name),I.settings.focusOnLoad&&I.iframe.addEventListener("readystatechange",function(){"complete"==I.iframe.readyState&&I.editorIframeDocument.body.focus()}),b=I.iframe.getElementById("epiceditor-utilbar"),T={},x=function(t){if(I.eeState.fullscreen)return E(t),void 0;N&&t.webkitRequestFullScreen(),S=I.eeState.edit,I.eeState.fullscreen=!0,I.eeState.edit=!0,I.eeState.preview=!0;var n=(e.innerWidth,e.innerHeight),r=e.outerWidth,a=e.outerHeight;N||(a=e.innerHeight),T.editorIframe=o(I.editorIframe,"save",{width:r/2+"px",height:a+"px","float":"left",cssFloat:"left",styleFloat:"left",display:"block"}),T.previewerIframe=o(I.previewerIframe,"save",{width:r/2+"px",height:a+"px","float":"right",cssFloat:"right",styleFloat:"right",display:"block"}),T.element=o(I.element,"save",{position:"fixed",top:"0",left:"0",width:"100%","z-index":"9999",zIndex:"9999",border:"none",margin:"0",background:i(I.editor,"background-color"),height:n+"px"}),T.iframeElement=o(I.iframeElement,"save",{width:r+"px",height:n+"px"}),b.style.visibility="hidden",N||(document.body.style.overflow="hidden"),I.preview(),I.editorIframeDocument.body.focus()},E=function(){o(I.element,"apply",T.element),o(I.iframeElement,"apply",T.iframeElement),o(I.editorIframe,"apply",T.editorIframe),o(I.previewerIframe,"apply",T.previewerIframe),I.element.style.width="",I.element.style.height="",b.style.visibility="visible",N?document.webkitCancelFullScreen():document.body.style.overflow="auto",I.eeState.fullscreen=!1,S?I.edit():I.preview(),u(L)},I.editor.addEventListener("keyup",function(){M&&e.clearTimeout(M),M=e.setTimeout(function(){I.eeState.fullscreen&&I.preview()},250)}),D=I.iframeElement,b.addEventListener("click",function(e){var t=e.target.className;t.indexOf("epiceditor-toggle-preview-btn")>-1?I.preview():t.indexOf("epiceditor-toggle-edit-btn")>-1?I.edit():t.indexOf("epiceditor-fullscreen-btn")>-1&&x(D)}),document.body.webkitRequestFullScreen&&D.addEventListener("webkitfullscreenchange",function(){document.webkitIsFullScreen||E(D)},!1),w=I.iframe.getElementById("epiceditor-utilbar"),w.style.display="none",w.addEventListener("mouseover",function(){k&&clearTimeout(k)}),C=[I.previewerIframeDocument,I.editorIframeDocument],P=0;P<C.length;P++)C[P].addEventListener("mousemove",function(e){d(e)}),C[P].addEventListener("scroll",function(e){d(e)}),C[P].addEventListener("keyup",function(e){h(e)}),C[P].addEventListener("keydown",function(e){f(e)});return I.settings.file.autoSave&&(I.saveInterval=e.setInterval(function(){I._canSave&&I.save()},I.settings.file.autoSave)),e.addEventListener("resize",function(){!I.iframe.webkitRequestFullScreen&&I.eeState.fullscreen?(r(I.iframeElement,{width:e.outerWidth+"px",height:e.innerHeight+"px"}),r(I.element,{height:e.innerHeight+"px"}),r(I.previewerIframe,{width:e.outerWidth/2+"px",height:e.innerHeight+"px"}),r(I.editorIframe,{width:e.outerWidth/2+"px",height:e.innerHeight+"px"})):I.eeState.fullscreen||u(L)}),I.iframe.close(),I.eeState.loaded=!0,I.eeState.unloaded=!1,t.call(this),this.emit("load"),this},g.prototype.unload=function(t){if(this.eeState.unloaded)throw new Error("Editor isn't loaded");var n=this,r=e.parent.document.getElementById(n._instanceId);return r.parentNode.removeChild(r),n.eeState.loaded=!1,n.eeState.unloaded=!0,t=t||function(){},n.saveInterval&&e.clearInterval(n.saveInterval),t.call(this),n.emit("unload"),n},g.prototype.preview=function(e){var t=this;return e=e||t.settings.basePath+t.settings.theme.preview,u(t.getElement("wrapper"),"epiceditor-edit-mode","epiceditor-preview-mode"),t.previewerIframeDocument.getElementById("theme")?t.previewerIframeDocument.getElementById("theme").name!==e&&(t.previewerIframeDocument.getElementById("theme").href=e):l(e,t.previewerIframeDocument,"theme"),t.previewer.innerHTML=t.exportFile(null,"html"),t.eeState.fullscreen||(t.editorIframe.style.display="none",t.previewerIframe.style.display="block",t.eeState.preview=!0,t.eeState.edit=!1,t.previewerIframe.focus()),t.emit("preview"),t},g.prototype.edit=function(){var e=this;return u(e.getElement("wrapper"),"epiceditor-preview-mode","epiceditor-edit-mode"),e.eeState.preview=!1,e.eeState.edit=!0,e.editorIframe.style.display="block",e.previewerIframe.style.display="none",e.editorIframe.focus(),e.emit("edit"),this},g.prototype.getElement=function(e){var t={container:this.element,wrapper:this.iframe.getElementById("epiceditor-wrapper"),wrapperIframe:this.iframeElement,editor:this.editorIframeDocument,editorIframe:this.editorIframe,previewer:this.previewerIframeDocument,previewerIframe:this.previewerIframe};return!t[e]||this.eeState.unloaded?null:t[e]},g.prototype.open=function(e){var n,r=this,i=r.settings.file.defaultContent;return e=e||r.settings.file.name,r.settings.file.name=e,this._storage[r.settings.localStorageName]&&(n=r.getFiles(),n[e]!==t?(f(r.editor,n[e].content),r.emit("read")):(f(r.editor,i),r.save(),r.emit("create")),r.previewer.innerHTML=r.exportFile(null,"html"),r.emit("open")),this},g.prototype.save=function(){var e,n=this,r=!1,i=n.settings.file.name,o=d(this.editor);return this._canSave=!0,e=JSON.parse(this._storage[n.settings.localStorageName]),e[i]===t?e[i]=n._defaultFileSchema():o!==e[i].content&&(e[i].modified=new Date,r=!0),e[i].content=o,this._storage[n.settings.localStorageName]=JSON.stringify(e),r&&n.emit("update"),this.emit("save"),this},g.prototype.remove=function(e){var t,n=this;return e=e||n.settings.file.name,e==n.settings.file.name&&(n._canSave=!1),t=JSON.parse(this._storage[n.settings.localStorageName]),delete t[e],this._storage[n.settings.localStorageName]=JSON.stringify(t),this.emit("remove"),this},g.prototype.rename=function(e,t){var n=this,r=JSON.parse(this._storage[n.settings.localStorageName]);return r[t]=r[e],delete r[e],this._storage[n.settings.localStorageName]=JSON.stringify(r),n.open(t),this},g.prototype.importFile=function(e,n,r,i){var o=this,a=!1;return e=e||o.settings.file.name,n=n||"",r=r||"md",i=i||{},JSON.parse(this._storage[o.settings.localStorageName])[e]===t&&(a=!0),o.settings.file.name=e,f(o.editor,n),a&&o.emit("create"),o.save(),o.eeState.fullscreen&&o.preview(),this},g.prototype.exportFile=function(e,n){var r,i,o=this;if(e=e||o.settings.file.name,n=n||"text",r=o.getFiles(e),r!==t)switch(i=r.content,n){case"html":return i=i.replace(/\u00a0/g," ").replace(/&nbsp;/g," "),o.settings.parser(i);case"text":return i=i.replace(/&nbsp;/g," ");default:return i}},g.prototype.getFiles=function(e){var t=JSON.parse(this._storage[this.settings.localStorageName]);return e?t[e]:t},g.prototype.on=function(e,t){var n=this;return this.events[e]||(this.events[e]=[]),this.events[e].push(t),n},g.prototype.emit=function(e,t){function n(e){e.call(i,t)}var r,i=this;if(t=t||i.getFiles(i.settings.file.name),this.events[e]){for(r=0;r<i.events[e].length;r++)n(i.events[e][r]);return i}},g.prototype.removeListener=function(e,t){var n=this;return t?this.events[e]?(this.events[e].splice(this.events[e].indexOf(t),1),n):n:(this.events[e]=[],n)},g.version="0.1.1",g._data={},e.EpicEditor=g}(window),function(){function e(e,t){return"!"!==e[0][0]?'<a href="'+o(t.href)+'"'+(t.title?' title="'+o(t.title)+'"':"")+">"+p.lexer(e[1])+"</a>":'<img src="'+o(t.href)+'" alt="'+o(e[1])+'"'+(t.title?' title="'+o(t.title)+'"':"")+">"}function t(){return m=h.pop()}function n(){switch(m.type){case"space":return"";case"hr":return"<hr>\n";case"heading":return"<h"+m.depth+">"+p.lexer(m.text)+"</h"+m.depth+">\n";case"code":return g.highlight&&(m.code=g.highlight(m.text,m.lang),null!=m.code&&m.code!==m.text&&(m.escaped=!0,m.text=m.code)),m.escaped||(m.text=o(m.text,!0)),"<pre><code"+(m.lang?' class="lang-'+m.lang+'"':"")+">"+m.text+"</code></pre>\n";case"blockquote_start":for(var e="";"blockquote_end"!==t().type;)e+=n();return"<blockquote>\n"+e+"</blockquote>\n";case"list_start":for(var i=m.ordered?"ol":"ul",e="";"list_end"!==t().type;)e+=n();return"<"+i+">\n"+e+"</"+i+">\n";case"list_item_start":for(var e="";"list_item_end"!==t().type;)e+="text"===m.type?r():n();return"<li>"+e+"</li>\n";case"loose_item_start":for(var e="";"list_item_end"!==t().type;)e+=n();return"<li>"+e+"</li>\n";case"html":return g.sanitize?p.lexer(m.text):m.pre||g.pedantic?m.text:p.lexer(m.text);case"paragraph":return"<p>"+p.lexer(m.text)+"</p>\n";case"text":return"<p>"+r()+"</p>\n"}}function r(){for(var e,n=m.text;(e=h[h.length-1])&&"text"===e.type;)n+="\n"+t().text;return p.lexer(n)}function i(e){h=e.reverse();for(var r="";t();)r+=n();return h=null,m=null,r}function o(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function a(e){for(var t,n="",r=e.length,i=0;r>i;i++)t=e.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n}function s(){var e="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+";return e}function l(e,t){return e=e.source,t=t||"",function n(r,i){return r?(e=e.replace(r,i.source||i),n):new RegExp(e,t)}}function u(){}function c(e,t){return d(t),i(f.lexer(e))}function d(e){e||(e=v),g!==e&&(g=e,g.gfm?(f.fences=f.gfm.fences,f.paragraph=f.gfm.paragraph,p.text=p.gfm.text,p.url=p.gfm.url):(f.fences=f.normal.fences,f.paragraph=f.normal.paragraph,p.text=p.normal.text,p.url=p.normal.url),g.pedantic?(p.em=p.pedantic.em,p.strong=p.pedantic.strong):(p.em=p.normal.em,p.strong=p.normal.strong))}var f={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:u,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,lheading:/^([^\n]+)\n *(=|-){3,} *\n*/,blockquote:/^( *>[^\n]+(\n[^\n]+)*\n*)+/,list:/^( *)(bull) [^\0]+?(?:hr|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *([^\s]+)(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,paragraph:/^([^\n]+\n?(?!body))+\n*/,text:/^[^\n]+/};f.bullet=/(?:[*+-]|\d+\.)/,f.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,f.item=l(f.item,"gm")(/bull/g,f.bullet)(),f.list=l(f.list)(/bull/g,f.bullet)("hr",/\n+(?=(?: *[-*_]){3,} *(?:\n+|$))/)(),f.html=l(f.html)("comment",/<!--[^\0]*?-->/)("closed",/<(tag)[^\0]+?<\/\1>/)("closing",/<tag(?!:\/|@)\b(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,s())(),f.paragraph=function(){var e=f.paragraph.source,t=[];return function n(e){return e=f[e]?f[e].source:e,t.push(e.replace(/(^|[^\[])\^/g,"$1")),n}("hr")("heading")("lheading")("blockquote")("<"+s())("def"),new RegExp(e.replace("body",t.join("|")))}(),f.normal={fences:f.fences,paragraph:f.paragraph},f.gfm={fences:/^ *``` *(\w+)? *\n([^\0]+?)\s*``` *(?:\n+|$)/,paragraph:/^/},f.gfm.paragraph=l(f.paragraph)("(?!","(?!"+f.gfm.fences.source.replace(/(^|[^\[])\^/g,"$1")+"|")(),f.lexer=function(e){var t=[];return t.links={},e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),f.token(e,t,!0)},f.token=function(e,t,n){for(var r,i,o,a,s,l,u,e=e.replace(/^ +$/gm,"");e;)if((o=f.newline.exec(e))&&(e=e.substring(o[0].length),o[0].length>1&&t.push({type:"space"})),o=f.code.exec(e))e=e.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),t.push({type:"code",text:g.pedantic?o:o.replace(/\n+$/,"")});else if(o=f.fences.exec(e))e=e.substring(o[0].length),t.push({type:"code",lang:o[1],text:o[2]});else if(o=f.heading.exec(e))e=e.substring(o[0].length),t.push({type:"heading",depth:o[1].length,text:o[2]});else if(o=f.lheading.exec(e))e=e.substring(o[0].length),t.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(o=f.hr.exec(e))e=e.substring(o[0].length),t.push({type:"hr"});else if(o=f.blockquote.exec(e))e=e.substring(o[0].length),t.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),f.token(o,t,n),t.push({type:"blockquote_end"});else if(o=f.list.exec(e)){for(e=e.substring(o[0].length),t.push({type:"list_start",ordered:isFinite(o[2])}),o=o[0].match(f.item),r=!1,u=o.length,l=0;u>l;l++)a=o[l],s=a.length,a=a.replace(/^ *([*+-]|\d+\.) +/,""),~a.indexOf("\n ")&&(s-=a.length,a=g.pedantic?a.replace(/^ {1,4}/gm,""):a.replace(new RegExp("^ {1,"+s+"}","gm"),"")),i=r||/\n\n(?!\s*$)/.test(a),l!==u-1&&(r="\n"===a[a.length-1],i||(i=r)),t.push({type:i?"loose_item_start":"list_item_start"}),f.token(a,t),t.push({type:"list_item_end"});t.push({type:"list_end"})}else(o=f.html.exec(e))?(e=e.substring(o[0].length),t.push({type:"html",pre:"pre"===o[1],text:o[0]})):n&&(o=f.def.exec(e))?(e=e.substring(o[0].length),t.links[o[1].toLowerCase()]={href:o[2],title:o[3]}):n&&(o=f.paragraph.exec(e))?(e=e.substring(o[0].length),t.push({type:"paragraph",text:o[0]})):(o=f.text.exec(e))&&(e=e.substring(o[0].length),t.push({type:"text",text:o[0]}));
return t};var p={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:u,tag:/^<!--[^\0]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([^\0]+?)__(?!_)|^\*\*([^\0]+?)\*\*(?!\*)/,em:/^\b_((?:__|[^\0])+?)_\b|^\*((?:\*\*|[^\0])+?)\*(?!\*)/,code:/^(`+)([^\0]*?[^`])\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,text:/^[^\0]+?(?=[\\<!\[_*`]| {2,}\n|$)/};p._linkInside=/(?:\[[^\]]*\]|[^\]]|\](?=[^\[]*\]))*/,p._linkHref=/\s*<?([^\s]*?)>?(?:\s+['"]([^\0]*?)['"])?\s*/,p.link=l(p.link)("inside",p._linkInside)("href",p._linkHref)(),p.reflink=l(p.reflink)("inside",p._linkInside)(),p.normal={url:p.url,strong:p.strong,em:p.em,text:p.text},p.pedantic={strong:/^__(?=\S)([^\0]*?\S)__(?!_)|^\*\*(?=\S)([^\0]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([^\0]*?\S)_(?!_)|^\*(?=\S)([^\0]*?\S)\*(?!\*)/},p.gfm={url:/^(https?:\/\/[^\s]+[^.,:;"')\]\s])/,text:/^[^\0]+?(?=[\\<!\[_*`]|https?:\/\/| {2,}\n|$)/},p.lexer=function(t){for(var n,r,i,s,l="",u=h.links;t;)if(s=p.escape.exec(t))t=t.substring(s[0].length),l+=s[1];else if(s=p.autolink.exec(t))t=t.substring(s[0].length),"@"===s[2]?(r=":"===s[1][6]?a(s[1].substring(7)):a(s[1]),i=a("mailto:")+r):(r=o(s[1]),i=r),l+='<a href="'+i+'">'+r+"</a>";else if(s=p.url.exec(t))t=t.substring(s[0].length),r=o(s[1]),i=r,l+='<a href="'+i+'">'+r+"</a>";else if(s=p.tag.exec(t))t=t.substring(s[0].length),l+=g.sanitize?o(s[0]):s[0];else if(s=p.link.exec(t))t=t.substring(s[0].length),l+=e(s,{href:s[2],title:s[3]});else if((s=p.reflink.exec(t))||(s=p.nolink.exec(t))){if(t=t.substring(s[0].length),n=(s[2]||s[1]).replace(/\s+/g," "),n=u[n.toLowerCase()],!n||!n.href){l+=s[0][0],t=s[0].substring(1)+t;continue}l+=e(s,n)}else(s=p.strong.exec(t))?(t=t.substring(s[0].length),l+="<strong>"+p.lexer(s[2]||s[1])+"</strong>"):(s=p.em.exec(t))?(t=t.substring(s[0].length),l+="<em>"+p.lexer(s[2]||s[1])+"</em>"):(s=p.code.exec(t))?(t=t.substring(s[0].length),l+="<code>"+o(s[2],!0)+"</code>"):(s=p.br.exec(t))?(t=t.substring(s[0].length),l+="<br>"):(s=p.text.exec(t))&&(t=t.substring(s[0].length),l+=o(s[0]));return l};var h,m;u.exec=u;var g,v;c.options=c.setOptions=function(e){return v=e,d(e),c},c.setOptions({gfm:!0,pedantic:!1,sanitize:!1,highlight:null}),c.parser=function(e,t){return d(t),i(e)},c.lexer=function(e,t){return d(t),f.lexer(e)},c.parse=c,"undefined"!=typeof module?module.exports=c:this.marked=c}.call(function(){return this||("undefined"!=typeof window?window:global)}())}(),function(){!function(e,t){function n(t,n){var i=t.nodeName.toLowerCase();if("area"===i){var o,a=t.parentNode,s=a.name;return t.href&&s&&"map"===a.nodeName.toLowerCase()?(o=e("img[usemap=#"+s+"]")[0],!!o&&r(o)):!1}return(/input|select|textarea|button|object/.test(i)?!t.disabled:"a"==i?t.href||n:n)&&r(t)}function r(t){return!e(t).parents().andSelf().filter(function(){return"hidden"===e.curCSS(this,"visibility")||e.expr.filters.hidden(this)}).length}e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"1.8.23",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),e.fn.extend({propAttr:e.fn.prop||e.fn.attr,_focus:e.fn.focus,focus:function(t,n){return"number"==typeof t?this.each(function(){var r=this;setTimeout(function(){e(r).focus(),n&&n.call(r)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=e.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.curCSS(this,"position",1))&&/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var r,i,o=e(this[0]);o.length&&o[0]!==document;){if(r=o.css("position"),("absolute"===r||"relative"===r||"fixed"===r)&&(i=parseInt(o.css("zIndex"),10),!isNaN(i)&&0!==i))return i;o=o.parent()}return 0},disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,r){function i(t,n,r,i){return e.each(o,function(){n-=parseFloat(e.curCSS(t,"padding"+this,!0))||0,r&&(n-=parseFloat(e.curCSS(t,"border"+this+"Width",!0))||0),i&&(n-=parseFloat(e.curCSS(t,"margin"+this,!0))||0)}),n}var o="Width"===r?["Left","Right"]:["Top","Bottom"],a=r.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){return n===t?s["inner"+r].call(this):this.each(function(){e(this).css(a,i(this,n)+"px")})},e.fn["outer"+r]=function(t,n){return"number"!=typeof t?s["outer"+r].call(this,t):this.each(function(){e(this).css(a,i(this,t,!0,n)+"px")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var r=e.attr(t,"tabindex"),i=isNaN(r);return(i||r>=0)&&n(t,!i)}}),e(function(){var t=document.body,n=t.appendChild(n=document.createElement("div"));n.offsetHeight,e.extend(n.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=100===n.offsetHeight,e.support.selectstart="onselectstart"in n,t.removeChild(n).style.display="none"}),e.curCSS||(e.curCSS=e.css),e.extend(e.ui,{plugin:{add:function(t,n,r){var i=e.ui[t].prototype;for(var o in r)i.plugins[o]=i.plugins[o]||[],i.plugins[o].push([n,r[o]])},call:function(e,t,n){var r=e.plugins[t];if(r&&e.element[0].parentNode)for(var i=0;i<r.length;i++)e.options[r[i][0]]&&r[i][1].apply(e.element,n)}},contains:function(e,t){return document.compareDocumentPosition?16&e.compareDocumentPosition(t):e!==t&&e.contains(t)},hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var r=n&&"left"===n?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)},isOverAxis:function(e,t,n){return e>t&&t+n>e},isOver:function(t,n,r,i,o,a){return e.ui.isOverAxis(t,r,o)&&e.ui.isOverAxis(n,i,a)}}))}(jQuery),function(e,t){if(e.cleanData){var n=e.cleanData;e.cleanData=function(t){for(var r,i=0;null!=(r=t[i]);i++)try{e(r).triggerHandler("remove")}catch(o){}n(t)}}else{var r=e.fn.remove;e.fn.remove=function(t,n){return this.each(function(){return n||(!t||e.filter(t,[this]).length)&&e("*",this).add([this]).each(function(){try{e(this).triggerHandler("remove")}catch(t){}}),r.call(e(this),t,n)})}}e.widget=function(t,n,r){var i,o=t.split(".")[0];t=t.split(".")[1],i=o+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i]=function(n){return!!e.data(n,t)},e[o]=e[o]||{},e[o][t]=function(e,t){arguments.length&&this._createWidget(e,t)};var a=new n;a.options=e.extend(!0,{},a.options),e[o][t].prototype=e.extend(!0,a,{namespace:o,widgetName:t,widgetEventPrefix:e[o][t].prototype.widgetEventPrefix||t,widgetBaseClass:i},r),e.widget.bridge(t,e[o][t])},e.widget.bridge=function(n,r){e.fn[n]=function(i){var o="string"==typeof i,a=Array.prototype.slice.call(arguments,1),s=this;return i=!o&&a.length?e.extend.apply(null,[!0,i].concat(a)):i,o&&"_"===i.charAt(0)?s:(o?this.each(function(){var r=e.data(this,n),o=r&&e.isFunction(r[i])?r[i].apply(r,a):r;return o!==r&&o!==t?(s=o,!1):void 0}):this.each(function(){var t=e.data(this,n);t?t.option(i||{})._init():e.data(this,n,new r(i,this))}),s)}},e.Widget=function(e,t){arguments.length&&this._createWidget(e,t)},e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(t,n){e.data(n,this.widgetName,this),this.element=e(n),this.options=e.extend(!0,{},this.options,this._getCreateOptions(),t);var r=this;this.element.bind("remove."+this.widgetName,function(){r.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(n,r){var i=n;if(0===arguments.length)return e.extend({},this.options);if("string"==typeof n){if(r===t)return this.options[n];i={},i[n]=r}return this._setOptions(i),this},_setOptions:function(t){var n=this;return e.each(t,function(e,t){n._setOption(e,t)}),this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&this.widget()[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",t),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(t,n,r){var i,o,a=this.options[t];if(r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent,o)for(i in o)i in n||(n[i]=o[i]);return this.element.trigger(n,r),!(e.isFunction(a)&&a.call(this.element[0],n,r)===!1||n.isDefaultPrevented())}}}(jQuery),function(e){e.ui=e.ui||{};var t=/left|center|right/,n=/top|center|bottom/,r="center",i={},o=e.fn.position,a=e.fn.offset;e.fn.position=function(a){if(!a||!a.of)return o.apply(this,arguments);a=e.extend({},a);var s,l,u,c=e(a.of),d=c[0],f=(a.collision||"flip").split(" "),p=a.offset?a.offset.split(" "):[0,0];return 9===d.nodeType?(s=c.width(),l=c.height(),u={top:0,left:0}):d.setTimeout?(s=c.width(),l=c.height(),u={top:c.scrollTop(),left:c.scrollLeft()}):d.preventDefault?(a.at="left top",s=l=0,u={top:a.of.pageY,left:a.of.pageX}):(s=c.outerWidth(),l=c.outerHeight(),u=c.offset()),e.each(["my","at"],function(){var e=(a[this]||"").split(" ");1===e.length&&(e=t.test(e[0])?e.concat([r]):n.test(e[0])?[r].concat(e):[r,r]),e[0]=t.test(e[0])?e[0]:r,e[1]=n.test(e[1])?e[1]:r,a[this]=e}),1===f.length&&(f[1]=f[0]),p[0]=parseInt(p[0],10)||0,1===p.length&&(p[1]=p[0]),p[1]=parseInt(p[1],10)||0,"right"===a.at[0]?u.left+=s:a.at[0]===r&&(u.left+=s/2),"bottom"===a.at[1]?u.top+=l:a.at[1]===r&&(u.top+=l/2),u.left+=p[0],u.top+=p[1],this.each(function(){var t,n=e(this),o=n.outerWidth(),c=n.outerHeight(),d=parseInt(e.curCSS(this,"marginLeft",!0))||0,h=parseInt(e.curCSS(this,"marginTop",!0))||0,m=o+d+(parseInt(e.curCSS(this,"marginRight",!0))||0),g=c+h+(parseInt(e.curCSS(this,"marginBottom",!0))||0),v=e.extend({},u);"right"===a.my[0]?v.left-=o:a.my[0]===r&&(v.left-=o/2),"bottom"===a.my[1]?v.top-=c:a.my[1]===r&&(v.top-=c/2),i.fractions||(v.left=Math.round(v.left),v.top=Math.round(v.top)),t={left:v.left-d,top:v.top-h},e.each(["left","top"],function(n,r){e.ui.position[f[n]]&&e.ui.position[f[n]][r](v,{targetWidth:s,targetHeight:l,elemWidth:o,elemHeight:c,collisionPosition:t,collisionWidth:m,collisionHeight:g,offset:p,my:a.my,at:a.at})}),e.fn.bgiframe&&n.bgiframe(),n.offset(e.extend(v,{using:a.using}))})},e.ui.position={fit:{left:function(t,n){var r=e(window),i=n.collisionPosition.left+n.collisionWidth-r.width()-r.scrollLeft();t.left=i>0?t.left-i:Math.max(t.left-n.collisionPosition.left,t.left)},top:function(t,n){var r=e(window),i=n.collisionPosition.top+n.collisionHeight-r.height()-r.scrollTop();t.top=i>0?t.top-i:Math.max(t.top-n.collisionPosition.top,t.top)}},flip:{left:function(t,n){if(n.at[0]!==r){var i=e(window),o=n.collisionPosition.left+n.collisionWidth-i.width()-i.scrollLeft(),a="left"===n.my[0]?-n.elemWidth:"right"===n.my[0]?n.elemWidth:0,s="left"===n.at[0]?n.targetWidth:-n.targetWidth,l=-2*n.offset[0];t.left+=n.collisionPosition.left<0?a+s+l:o>0?a+s+l:0}},top:function(t,n){if(n.at[1]!==r){var i=e(window),o=n.collisionPosition.top+n.collisionHeight-i.height()-i.scrollTop(),a="top"===n.my[1]?-n.elemHeight:"bottom"===n.my[1]?n.elemHeight:0,s="top"===n.at[1]?n.targetHeight:-n.targetHeight,l=-2*n.offset[1];t.top+=n.collisionPosition.top<0?a+s+l:o>0?a+s+l:0}}}},e.offset.setOffset||(e.offset.setOffset=function(t,n){/static/.test(e.curCSS(t,"position"))&&(t.style.position="relative");var r=e(t),i=r.offset(),o=parseInt(e.curCSS(t,"top",!0),10)||0,a=parseInt(e.curCSS(t,"left",!0),10)||0,s={top:n.top-i.top+o,left:n.left-i.left+a};"using"in n?n.using.call(t,s):r.css(s)},e.fn.offset=function(t){var n=this[0];return n&&n.ownerDocument?t?e.isFunction(t)?this.each(function(n){e(this).offset(t.call(this,n,e(this).offset()))}):this.each(function(){e.offset.setOffset(this,t)}):a.call(this):null}),e.curCSS||(e.curCSS=e.css),function(){var t,n,r,o,a,s=document.getElementsByTagName("body")[0],l=document.createElement("div");t=document.createElement(s?"div":"body"),r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&e.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(var u in r)t.style[u]=r[u];t.appendChild(l),n=s||document.documentElement,n.insertBefore(t,n.firstChild),l.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",o=e(l).offset(function(e,t){return t}).offset(),t.innerHTML="",n.removeChild(t),a=o.top+o.left+(s?2e3:0),i.fractions=a>21&&22>a}()}(jQuery),function(e){var t=0;e.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var t,n=this,r=this.element[0].ownerDocument;this.isMultiLine=this.element.is("textarea"),this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(r){if(!n.options.disabled&&!n.element.propAttr("readOnly")){t=!1;var i=e.ui.keyCode;switch(r.keyCode){case i.PAGE_UP:n._move("previousPage",r);break;case i.PAGE_DOWN:n._move("nextPage",r);break;case i.UP:n._keyEvent("previous",r);break;case i.DOWN:n._keyEvent("next",r);break;case i.ENTER:case i.NUMPAD_ENTER:n.menu.active&&(t=!0,r.preventDefault());case i.TAB:if(!n.menu.active)return;n.menu.select(r);break;case i.ESCAPE:n.element.val(n.term),n.close(r);break;default:clearTimeout(n.searching),n.searching=setTimeout(function(){n.term!=n.element.val()&&(n.selectedItem=null,n.search(null,r))},n.options.delay)}}}).bind("keypress.autocomplete",function(e){t&&(t=!1,e.preventDefault())}).bind("focus.autocomplete",function(){n.options.disabled||(n.selectedItem=null,n.previous=n.element.val())}).bind("blur.autocomplete",function(e){n.options.disabled||(clearTimeout(n.searching),n.closing=setTimeout(function(){n.close(e),n._change(e)},150))}),this._initSource(),this.menu=e("<ul></ul>").addClass("ui-autocomplete").appendTo(e(this.options.appendTo||"body",r)[0]).mousedown(function(t){var r=n.menu.element[0];e(t.target).closest(".ui-menu-item").length||setTimeout(function(){e(document).one("mousedown",function(t){t.target!==n.element[0]&&t.target!==r&&!e.ui.contains(r,t.target)&&n.close()})},1),setTimeout(function(){clearTimeout(n.closing)},13)}).menu({focus:function(e,t){var r=t.item.data("item.autocomplete");!1!==n._trigger("focus",e,{item:r})&&/^key/.test(e.originalEvent.type)&&n.element.val(r.value)},selected:function(e,t){var i=t.item.data("item.autocomplete"),o=n.previous;n.element[0]!==r.activeElement&&(n.element.focus(),n.previous=o,setTimeout(function(){n.previous=o,n.selectedItem=i},1)),!1!==n._trigger("select",e,{item:i})&&n.element.val(i.value),n.term=n.element.val(),n.close(e),n.selectedItem=i},blur:function(){n.menu.element.is(":visible")&&n.element.val()!==n.term&&n.element.val(n.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),e.fn.bgiframe&&this.menu.element.bgiframe(),n.beforeunloadHandler=function(){n.element.removeAttr("autocomplete")},e(window).bind("beforeunload",n.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),e(window).unbind("beforeunload",this.beforeunloadHandler),e.Widget.prototype.destroy.call(this)},_setOption:function(t,n){e.Widget.prototype._setOption.apply(this,arguments),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(e(n||"body",this.element[0].ownerDocument)[0]),"disabled"===t&&n&&this.xhr&&this.xhr.abort()},_initSource:function(){var t,n,r=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,r){r(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,i){r.xhr&&r.xhr.abort(),r.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){i(e)},error:function(){i([])}})}):this.source=this.options.source},search:function(e,t){return e=null!=e?e:this.element.val(),this.term=this.element.val(),e.length<this.options.minLength?this.close(t):(clearTimeout(this.closing),this._trigger("search",t)!==!1?this._search(e):void 0)},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:e},this._response())},_response:function(){var e=this,n=++t;return function(r){n===t&&e.__response(r),e.pending--,e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){!this.options.disabled&&e&&e.length?(e=this._normalize(e),this._suggest(e),this._trigger("open")):this.close()},close:function(e){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",e))},_change:function(e){this.previous!==this.element.val()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var n=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(n,t),this.menu.deactivate(),this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new e.Event("mouseover"))},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var r=this;e.each(n,function(e,n){r._renderItem(t,n)})},_renderItem:function(t,n){return e("<li></li>").data("item.autocomplete",n).append(e("<a></a>").text(n.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.first()&&/^previous/.test(e)||this.menu.last()&&/^next/.test(e)?(this.element.val(this.term),this.menu.deactivate(),void 0):(this.menu[e](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(t,n){var r=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return r.test(e.label||e.value||e)})}})}(jQuery),function(e){e.widget("ui.menu",{_create:function(){var t=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(n){e(n.target).closest(".ui-menu-item a").length&&(n.preventDefault(),t.select(n))}),this.refresh()},refresh:function(){var t=this,n=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");n.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(n){t.activate(n,e(this).parent())}).mouseleave(function(){t.deactivate()})},activate:function(e,t){if(this.deactivate(),this.hasScroll()){var n=t.offset().top-this.element.offset().top,r=this.element.scrollTop(),i=this.element.height();0>n?this.element.scrollTop(r+n):n>=i&&this.element.scrollTop(r+n-i+t.height())}this.active=t.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",e,{item:t})},deactivate:function(){this.active&&(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(e){this.move("next",".ui-menu-item:first",e)},previous:function(e){this.move("prev",".ui-menu-item:last",e)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(e,t,n){if(!this.active)return this.activate(n,this.element.children(t)),void 0;var r=this.active[e+"All"](".ui-menu-item").eq(0);r.length?this.activate(n,r):this.activate(n,this.element.children(t))},nextPage:function(t){if(this.hasScroll()){if(!this.active||this.last())return this.activate(t,this.element.children(".ui-menu-item:first")),void 0;var n=this.active.offset().top,r=this.element.height(),i=this.element.children(".ui-menu-item").filter(function(){var t=e(this).offset().top-n-r+e(this).height();return 10>t&&t>-10});i.length||(i=this.element.children(".ui-menu-item:last")),this.activate(t,i)}else this.activate(t,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(t){if(this.hasScroll()){if(!this.active||this.first())return this.activate(t,this.element.children(".ui-menu-item:last")),void 0;var n=this.active.offset().top,r=this.element.height(),i=this.element.children(".ui-menu-item").filter(function(){var t=e(this).offset().top-n+r-e(this).height();return 10>t&&t>-10});i.length||(i=this.element.children(".ui-menu-item:first")),this.activate(t,i)}else this.activate(t,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[e.fn.prop?"prop":"attr"]("scrollHeight")},select:function(e){this._trigger("selected",e,{item:this.active})}})}(jQuery)}(),function(){$.fn.exists=function(){return 0!==this.length}}(),function(){!function(e){function t(t){if("string"==typeof t.data){var n=t.handler,r=t.data.toLowerCase().split(" ");t.handler=function(t){if(this===t.target||!/textarea|select/i.test(t.target.nodeName)&&"text"!==t.target.type){var i="keypress"!==t.type&&e.hotkeys.specialKeys[t.which],o=String.fromCharCode(t.which).toLowerCase(),a="",s={};t.altKey&&"alt"!==i&&(a+="alt+"),t.ctrlKey&&"ctrl"!==i&&(a+="ctrl+"),t.metaKey&&!t.ctrlKey&&"meta"!==i&&(a+="meta+"),t.shiftKey&&"shift"!==i&&(a+="shift+"),i?s[a+i]=!0:(s[a+o]=!0,s[a+e.hotkeys.shiftNums[o]]=!0,"shift+"===a&&(s[e.hotkeys.shiftNums[o]]=!0));for(var l=0,u=r.length;u>l;l++)if(s[r[l]])return n.apply(this,arguments)}}}}e.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},e.each(["keydown","keyup","keypress"],function(){e.event.special[this]={add:t}})}(jQuery)}(),function(){!function(e){var t={sort:!1,"sort-attr":"data-priority","sort-desc":!1,autoselect:!0,"alternative-spellings":!0,"alternative-spellings-attr":"data-alternative-spellings","remove-valueless-options":!0,"copy-attributes-to-text-field":!0,"autocomplete-plugin":"jquery_ui","relevancy-sorting":!0,"relevancy-sorting-partial-match-value":1,"relevancy-sorting-strict-match-value":5,"relevancy-sorting-booster-attr":"data-relevancy-booster",handle_invalid_input:function(e){e.$text_field.val(e.$select_field.find("option:selected:first").text())},handle_select_field:function(e){return e.hide()},insert_text_field:function(n){var r=e("<input></input>");if(t["copy-attributes-to-text-field"]){for(var i={},o=n.$select_field[0].attributes,a=0;a<o.length;a++){var s=o[a].nodeName,l=o[a].nodeValue;"name"!==s&&"id"!==s&&"undefined"!=typeof n.$select_field.attr(s)&&(i[s]=l)}r.attr(i)}return r.blur(function(){var i=n.$select_field.find("option").map(function(t,n){return e(n).text()});r.val()in i||"function"!=typeof t.handle_invalid_input||t.handle_invalid_input(n)}),n.settings.autoselect&&r.click(function(){this.select()}),r.val(n.$select_field.find("option:selected:first").text()).insertAfter(n.$select_field)},extract_options:function(n){var r=[],i=n.find("option"),o=i.length;return i.each(function(){var n=e(this),i={"real-value":n.attr("value"),label:n.text()};if(t["remove-valueless-options"]&&""===i["real-value"]);else{i.matches=i.label;var a=n.attr(t["alternative-spellings-attr"]);if(a&&(i.matches+=" "+a),t.sort){var s=parseInt(n.attr(t["sort-attr"]),10);i.weight=s?s:o}if(t["relevancy-sorting"]){i["relevancy-score"]=0,i["relevancy-score-booster"]=1;var l=parseFloat(n.attr(t["relevancy-sorting-booster-attr"]));l&&(i["relevancy-score-booster"]=l)}r.push(i)}}),t.sort&&(t["sort-desc"]?r.sort(function(e,t){return t.weight-e.weight}):r.sort(function(e,t){return e.weight-t.weight})),r}},n={init:function(n){return e.browser.msie&&parseInt(e.browser.version,10)<=6?this:(t=e.extend(t,n),this.each(function(){var n=e(this),i={$select_field:n,options:t.extract_options(n),settings:t};i.$text_field=t.insert_text_field(i),t.handle_select_field(n),"string"==typeof t["autocomplete-plugin"]?r[t["autocomplete-plugin"]](i):t["autocomplete-plugin"](i)}))}},r={jquery_ui:function(t){var n=function(n){for(var r=n.split(" "),i=[],o=0;o<r.length;o++)if(r[o].length>0){var a={};a.partial=new RegExp(e.ui.autocomplete.escapeRegex(r[o]),"i"),t.settings["relevancy-sorting"]&&(a.strict=new RegExp("^"+e.ui.autocomplete.escapeRegex(r[o]),"i")),i.push(a)}return e.grep(t.options,function(e){var r=0;if(t.settings["relevancy-sorting"])var o=!1,a=e.matches.split(" ");for(var s=0;s<i.length;s++)if(i[s].partial.test(e.matches)&&r++,t.settings["relevancy-sorting"])for(var l=0;l<a.length;l++)if(i[s].strict.test(a[l])){o=!0;break}if(t.settings["relevancy-sorting"]){var u=0;u+=r*t.settings["relevancy-sorting-partial-match-value"],o&&(u+=t.settings["relevancy-sorting-strict-match-value"]),u*=e["relevancy-score-booster"],e["relevancy-score"]=u}return!n||i.length===r})},r=function(e){if(e)t.$select_field.val()!==e["real-value"]&&(t.$select_field.val(e["real-value"]),t.$select_field.change());else{for(var n=t.$text_field.val().toLowerCase(),r={"real-value":!1},i=0;i<t.options.length;i++)if(n===t.options[i].label.toLowerCase()){r=t.options[i];break}t.$select_field.val()!==r["real-value"]&&(t.$select_field.val(r["real-value"]||""),t.$select_field.change()),r["real-value"]&&t.$text_field.val(r.label),"function"==typeof t.settings.handle_invalid_input&&""===t.$select_field.val()&&t.settings.handle_invalid_input(t)}};t.$text_field.autocomplete({minLength:0,delay:0,autoFocus:!0,source:function(e,r){var i=n(e.term);t.settings["relevancy-sorting"]&&(i=i.sort(function(e,t){return t["relevancy-score"]-e["relevancy-score"]})),r(i)},select:function(e,t){r(t.item)},change:function(e,t){r(t.item)}}),t.$text_field.parents("form:first").submit(function(){r()}),r()}};e.fn.selectToAutocomplete=function(t){return n[t]?n[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?(e.error("Method "+t+" does not exist on jQuery.fn.selectToAutocomplete"),void 0):n.init.apply(this,arguments)}}(jQuery)}(),function(){eval(function(e,t,n,r,i,o){if(i=function(e){return(t>e?"":i(parseInt(e/t)))+((e%=t)>35?String.fromCharCode(e+29):e.toString(36))},!"".replace(/^/,String)){for(;n--;)o[i(n)]=r[n]||i(n);r=[function(e){return o[e]}],i=function(){return"\\w+"},n=1}for(;n--;)r[n]&&(e=e.replace(new RegExp("\\b"+i(n)+"\\b","g"),r[n]));return e}(";(4($,g,h,i){l j='1X',1Y={2u:'1X',L:{N:B,C:B,y:B,H:B,o:B,I:B,J:B,A:B},1Z:0,1a:'',Y:'',3:h.2v.14,w:h.Y,1g:'1X.2w',x:{},1h:0,1r:r,2x:r,2y:r,20:B,21:4(){},2z:4(){},1C:4(){},22:4(){},8:{N:{3:'',15:B,1i:'2A',Z:'2B-3f',23:''},C:{3:'',15:B,R:'1D',11:'3g',F:'',1s:'B',24:'B',25:'',1t:'',Z:'3h'},y:{3:'',15:B,x:'2C',26:'',16:'',1E:'',Z:'2B'},H:{3:'',15:B,P:'3i'},o:{3:'',15:B,1i:'2A'},I:{3:'',15:B,11:'1'},J:{3:'',15:B,27:''},A:{3:'',1u:'',1v:'',11:'2C'}}},1j={N:\"\",C:\"Q://3j.C.p/?28={3}&1w=?\",y:\"Q://3k.3l.y.p/1/3m/x.2D?3={3}&1w=?\",H:\"Q://3n.H.p/2.0/3o.3p?3q={3}&P=1b&1w=?\",o:'Q://3r.o.p/3s/2D/3t/n?3={3}&1w=?',I:\"\",J:\"Q://1k.J.p/3u/x/L?3v=3w&3={3}&1w=?\",A:\"\"},2E={N:4(b){l c=b.6.8.N;$(b.q).V('.8').12('<m G=\"S 3x\"><m G=\"g-1F\" n-1i=\"'+c.1i+'\" n-14=\"'+(c.3!==''?c.3:b.6.3)+'\" n-23=\"'+c.23+'\"></m></m>');g.3y={Z:b.6.8.N.Z};l d=0;9(z 2F==='E'&&d==0){d=1;(4(){l a=h.1c('O');a.P='w/1b';a.1l=r;a.17='//3z.2G.p/W/1F.W';l s=h.1d('O')[0];s.1e.1f(a,s)})()}K{2F.1F.3A()}},C:4(c){l e=c.6.8.C;$(c.q).V('.8').12('<m G=\"S C\"><m 28=\"1G-3B\"></m><m G=\"1G-1D\" n-14=\"'+(e.3!==''?e.3:c.6.3)+'\" n-1s=\"'+e.1s+'\" n-11=\"'+e.11+'\" n-F=\"'+e.F+'\" n-3C-24=\"'+e.24+'\" n-R=\"'+e.R+'\" n-25=\"'+e.25+'\" n-1t=\"'+e.1t+'\" n-16=\"'+e.16+'\"></m></m>');l f=0;9(z 1m==='E'&&f==0){f=1;(4(d,s,a){l b,29=d.1d(s)[0];9(d.3D(a)){1x}b=d.1c(s);b.28=a;b.17='//3E.C.3F/'+e.Z+'/3G.W#3H=1';29.1e.1f(b,29)}(h,'O','C-3I'))}K{1m.3J.3K()}},y:4(b){l c=b.6.8.y;$(b.q).V('.8').12('<m G=\"S y\"><a 14=\"1H://y.p/L\" G=\"y-L-S\" n-3=\"'+(c.3!==''?c.3:b.6.3)+'\" n-x=\"'+c.x+'\" n-w=\"'+b.6.w+'\" n-16=\"'+c.16+'\" n-26=\"'+c.26+'\" n-1E=\"'+c.1E+'\" n-Z=\"'+c.Z+'\">3L</a></m>');l d=0;9(z 2a==='E'&&d==0){d=1;(4(){l a=h.1c('O');a.P='w/1b';a.1l=r;a.17='//1I.y.p/1J.W';l s=h.1d('O')[0];s.1e.1f(a,s)})()}K{$.3M({3:'//1I.y.p/1J.W',3N:'O',3O:r})}},H:4(a){l b=a.6.8.H;$(a.q).V('.8').12('<m G=\"S H\"><a G=\"3P '+b.P+'\" 3Q=\"3R 3S\" 14=\"Q://H.p/2H?3='+T((b.3!==''?b.3:a.6.3))+'\"></a></m>');l c=0;9(z 3T==='E'&&c==0){c=1;(4(){l s=h.1c('2I'),2b=h.1d('2I')[0];s.P='w/1b';s.1l=r;s.17='//1J.H.p/8.W';2b.1e.1f(s,2b)})()}},o:4(a){9(a.6.8.o.1i=='3U'){l b='F:2c;',2d='D:2J;F:2c;1t-1i:3V;1y-D:2J;',2e='D:2K;1y-D:2K;2f-3W:1K;'}K{l b='F:3X;',2d='2g:3Y;2h:0 1K;D:1z;F:3Z;1y-D:1z;',2e='2g:40;D:1z;1y-D:1z;'}l c=a.1r(a.6.x.o);9(z c===\"E\"){c=0}$(a.q).V('.8').12('<m G=\"S o\"><m 1L=\"'+b+'1t:41 42,43,44-45;46:47;1M:#48;2L:49-2M;2g:2N;D:1z;1y-D:4a;2f:0;2h:0;w-4b:0;4c-2i:4d;\">'+'<m 1L=\"'+2d+'2O-1M:#2P;2f-4e:4f;4g:4h;w-2i:2Q;1N:2R 2S #4i;1N-2T:1K;\">'+c+'</m>'+'<m 1L=\"'+2e+'2L:2M;2h:0;w-2i:2Q;w-4j:2N;F:2c;2O-1M:#4k;1N:2R 2S #4l;1N-2T:1K;1M:#2P;\">'+'<2U 17=\"Q://1k.o.p/4m/2U/o.4n.4o\" D=\"10\" F=\"10\" 4p=\"4q\" /> 4r</m></m></m>');$(a.q).V('.o').4s('1C',4(){a.2V('o')})},I:4(b){l c=b.6.8.I;$(b.q).V('.8').12('<m G=\"S I\"><2W:2j 11=\"'+c.11+'\" 2v=\"'+(c.3!==''?c.3:b.6.3)+'\"></2W:2j></m>');l d=0;9(z 1O==='E'&&d==0){d=1;(4(){l a=h.1c('O');a.P='w/1b';a.1l=r;a.17='//1I.I.p/1/1J.W';l s=h.1d('O')[0];s.1e.1f(a,s)})();s=g.4t(4(){9(z 1O!=='E'){1O.2X();2k(s)}},2l)}K{1O.2X()}},J:4(b){l c=b.6.8.J;$(b.q).V('.8').12('<m G=\"S J\"><O P=\"2m/L\" n-3=\"'+(c.3!==''?c.3:b.6.3)+'\" n-27=\"'+c.27+'\"></O></m>');l d=0;9(z g.2Y==='E'&&d==0){d=1;(4(){l a=h.1c('O');a.P='w/1b';a.1l=r;a.17='//1I.J.p/2m.W';l s=h.1d('O')[0];s.1e.1f(a,s)})()}K{g.2Y.1P()}},A:4(b){l c=b.6.8.A;$(b.q).V('.8').12('<m G=\"S A\"><a 14=\"Q://A.p/1Q/2n/S/?3='+(c.3!==''?c.3:b.6.3)+'&1u='+c.1u+'&1v='+c.1v+'\" G=\"1Q-4u-S\" x-11=\"'+c.11+'\">4v 4w</a></m>');(4(){l a=h.1c('O');a.P='w/1b';a.1l=r;a.17='//4x.A.p/W/4y.W';l s=h.1d('O')[0];s.1e.1f(a,s)})()}},2Z={N:4(){},C:4(){1G=g.30(4(){9(z 1m!=='E'){1m.2o.2p('31.2n',4(a){1n.1o(['1p','C','1D',a])});1m.2o.2p('31.4z',4(a){1n.1o(['1p','C','4A',a])});1m.2o.2p('4B.1s',4(a){1n.1o(['1p','C','1s',a])});2k(1G)}},32)},y:4(){33=g.30(4(){9(z 2a!=='E'){2a.4C.4D('1R',4(a){9(a){1n.1o(['1p','y','1R'])}});2k(33)}},32)},H:4(){},o:4(){},I:4(){},J:4(){4 4E(){1n.1o(['1p','J','L'])}},A:4(){}},34={N:4(a){g.18(\"1H://1F.2G.p/35/+1/4F?4G=\"+a.8.N.Z+\"&3=\"+T((a.8.N.3!==''?a.8.N.3:a.3)),\"\",\"19=0, 1S=0, F=36, D=2l\")},C:4(a){g.18(\"Q://1k.C.p/4H.2w?u=\"+T((a.8.C.3!==''?a.8.C.3:a.3))+\"&t=\"+a.w+\"\",\"\",\"19=0, 1S=0, F=36, D=2l\")},y:4(a){g.18(\"1H://y.p/4I/1R?w=\"+T(a.w)+\"&3=\"+T((a.8.y.3!==''?a.8.y.3:a.3))+(a.8.y.16!==''?'&16='+a.8.y.16:''),\"\",\"19=0, 1S=0, F=37, D=38\")},H:4(a){g.18(\"Q://H.p/4J/4K/2H?3=\"+T((a.8.H.3!==''?a.8.H.3:a.3))+\"&Y=\"+a.w+\"&1E=r&1L=r\",\"\",\"19=0, 1S=0, F=37, D=38\")},o:4(a){g.18('Q://1k.o.p/4L?v=5&4M&4N=4O&3='+T((a.8.o.3!==''?a.8.o.3:a.3))+'&Y='+a.w,'o','19=1T,F=1q,D=1q')},I:4(a){g.18('Q://1k.I.p/2j/?3='+T((a.8.o.3!==''?a.8.o.3:a.3)),'I','19=1T,F=1q,D=1q')},J:4(a){g.18('1H://1k.J.p/4P/L?3='+T((a.8.o.3!==''?a.8.o.3:a.3))+'&4Q=&4R=r','J','19=1T,F=1q,D=1q')},A:4(a){g.18('Q://A.p/1Q/2n/S/?3='+T((a.8.A.3!==''?a.8.A.3:a.3))+'&1u='+T(a.8.A.1u)+'&1v='+a.8.A.1v,'A','19=1T,F=4S,D=4T')}};4 U(a,b){7.q=a;7.6=$.4U(r,{},1Y,b);7.6.L=b.L;7.4V=1Y;7.4W=j;7.1P()};U.X.1P=4(){l c=7;9(7.6.1g!==''){1j.N=7.6.1g+'?3={3}&P=N';1j.I=7.6.1g+'?3={3}&P=I';1j.A=7.6.1g+'?3={3}&P=A'}$(7.q).4X(7.6.2u);9(z $(7.q).n('Y')!=='E'){7.6.Y=$(7.q).4Y('n-Y')}9(z $(7.q).n('3')!=='E'){7.6.3=$(7.q).n('3')}9(z $(7.q).n('w')!=='E'){7.6.w=$(7.q).n('w')}$.1A(7.6.L,4(a,b){9(b===r){c.6.1Z++}});9(c.6.2y===r){$.1A(7.6.L,4(a,b){9(b===r){4Z{c.39(a)}50(e){}}})}K{7.2q();7.6.22(7,7.6)}$(7.q).21(4(){9($(7).V('.8').51===0&&c.6.2x===r){c.2q()}c.6.21(c,c.6)},4(){c.6.2z(c,c.6)});$(7.q).1C(4(){c.6.1C(c,c.6);1x B})};U.X.2q=4(){l c=7;$(7.q).12('<m G=\"8\"></m>');$.1A(c.6.L,4(a,b){9(b==r){2E[a](c);9(c.6.20===r){2Z[a]()}}})};U.X.39=4(c){l d=7,x=0,3=1j[c].1B('{3}',T(7.6.3));9(7.6.8[c].15===r&&7.6.8[c].3!==''){3=1j[c].1B('{3}',7.6.8[c].3)}9(3!=''&&d.6.1g!==''){$.52(3,4(a){9(z a.x!==\"E\"){l b=a.x+'';b=b.1B('\\53\\54','');x+=1U(b,10)}K 9(z a.3a!==\"E\"){x+=1U(a.3a,10)}K 9(z a.3b!==\"E\"){x+=1U(a.3b,10)}K 9(z a[0]!==\"E\"){x+=1U(a[0].55,10)}K 9(z a[0]!==\"E\"){}d.6.x[c]=x;d.6.1h+=x;d.2r();d.1V()}).56(4(){d.6.x[c]=0;d.1V()})}K{d.2r();d.6.x[c]=0;d.1V()}};U.X.1V=4(){l a=0;57(e 2m 7.6.x){a++}9(a===7.6.1Z){7.6.22(7,7.6)}};U.X.2r=4(){l a=7.6.1h,1a=7.6.1a;9(7.6.1r===r){a=7.1r(a)}9(1a!==''){1a=1a.1B('{1h}',a);$(7.q).1W(1a)}K{$(7.q).1W('<m G=\"58\"><a G=\"x\" 14=\"#\">'+a+'</a>'+(7.6.Y!==''?'<a G=\"L\" 14=\"#\">'+7.6.Y+'</a>':'')+'</m>')}};U.X.1r=4(a){9(a>=3c){a=(a/3c).3d(2)+\"M\"}K 9(a>=3e){a=(a/3e).3d(1)+\"k\"}1x a};U.X.2V=4(a){34[a](7.6);9(7.6.20===r){l b={N:{13:'59',R:'+1'},C:{13:'C',R:'1D'},y:{13:'y',R:'1R'},H:{13:'H',R:'2s'},o:{13:'o',R:'2s'},I:{13:'I',R:'2s'},J:{13:'J',R:'L'},A:{13:'A',R:'1Q'}};1n.1o(['1p',b[a].13,b[a].R])}};U.X.5a=4(){l a=$(7.q).1W();$(7.q).1W(a.1B(7.6.1h,7.6.1h+1))};U.X.5b=4(a,b){9(a!==''){7.6.3=a}9(b!==''){7.6.w=b}};$.5c[j]=4(b){l c=5d;9(b===i||z b==='5e'){1x 7.1A(4(){9(!$.n(7,'2t'+j)){$.n(7,'2t'+j,5f U(7,b))}})}K 9(z b==='5g'&&b[0]!=='35'&&b!=='1P'){1x 7.1A(4(){l a=$.n(7,'2t'+j);9(a 5h U&&z a[b]==='4'){a[b].5i(a,5j.X.5k.5l(c,1))}})}}})(5m,5n,5o);",62,335,"|||url|function||options|this|buttons|if||||||||||||var|div|data|delicious|com|element|true|||||text|count|twitter|typeof|pinterest|false|facebook|height|undefined|width|class|digg|stumbleupon|linkedin|else|share||googlePlus|script|type|http|action|button|encodeURIComponent|Plugin|find|js|prototype|title|lang||layout|append|site|href|urlCount|via|src|open|toolbar|template|javascript|createElement|getElementsByTagName|parentNode|insertBefore|urlCurl|total|size|urlJson|www|async|FB|_gaq|push|_trackSocial|550|shorterTotal|send|font|media|description|callback|return|line|20px|each|replace|click|like|related|plusone|fb|https|platform|widgets|3px|style|color|border|STMBLPN|init|pin|tweet|status|no|parseInt|rendererPerso|html|sharrre|defaults|shareTotal|enableTracking|hover|render|annotation|faces|colorscheme|hashtags|counter|id|fjs|twttr|s1|50px|cssCount|cssShare|margin|float|padding|align|badge|clearInterval|500|in|create|Event|subscribe|loadButtons|renderer|add|plugin_|className|location|php|enableHover|enableCounter|hide|medium|en|horizontal|json|loadButton|gapi|google|submit|SCRIPT|35px|18px|display|block|none|background|fff|center|1px|solid|radius|img|openPopup|su|processWidgets|IN|tracking|setInterval|edge|1000|tw|popup|_|900|650|360|getSocialJson|likes|shares|1e6|toFixed|1e3|US|button_count|en_US|DiggCompact|graph|cdn|api|urls|services|story|getInfo|links|feeds|v2|urlinfo|countserv|format|jsonp|googleplus|___gcfg|apis|go|root|show|getElementById|connect|net|all|xfbml|jssdk|XFBML|parse|Tweet|ajax|dataType|cache|DiggThisButton|rel|nofollow|external|__DBW|tall|15px|top|93px|right|26px|left|12px|Arial|Helvetica|sans|serif|cursor|pointer|666666|inline|normal|indent|vertical|baseline|bottom|5px|overflow|hidden|ccc|decoration|7EACEE|40679C|static|small|gif|alt|Delicious|Add|on|setTimeout|it|Pin|It|assets|pinit|remove|unlike|message|events|bind|LinkedInShare|confirm|hl|sharer|intent|tools|diggthis|save|noui|jump|close|cws|token|isFramed|700|300|extend|_defaults|_name|addClass|attr|try|catch|length|getJSON|u00c2|u00a0|total_posts|error|for|box|Google|simulateClick|update|fn|arguments|object|new|string|instanceof|apply|Array|slice|call|jQuery|window|document".split("|"),0,{}))
}(),function(){jQuery.ajax=function(e){function t(e){return!i.test(e)&&/:\/\//.test(e)}var n=location.protocol,r=location.hostname,i=RegExp(n+"//"+r),o="http"+(/^https/.test(n)?"s":"")+"://query.yahooapis.com/v1/public/yql?callback=?",a='select * from html where url="{URL}" and xpath="*"';return function(n){var r=n.url;return/get/i.test(n.type)&&!/json/i.test(n.dataType)&&t(r)&&(n.url=o,n.dataType="json",n.data={q:a.replace("{URL}",r+(n.data?(/\?/.test(r)?"&":"?")+jQuery.param(n.data):"")),format:"xml"},!n.success&&n.complete&&(n.success=n.complete,delete n.complete),n.success=function(e){return function(t){e&&e.call(this,{responseText:(t.results[0]||"").replace(/<script[^>]+?\/>|<script(.|\s)*?\/script>/gi,"")},"success")}}(n.success)),e.apply(this,arguments)}}(jQuery.ajax)}(),function(){!function(e,t){window.mixpanel=t;var n,r,i,o;n=e.createElement("script"),n.type="text/javascript",n.async=!0,n.src=("https:"===e.location.protocol?"https:":"http:")+"//cdn.mxpnl.com/libs/mixpanel-2.1.min.js",r=e.getElementsByTagName("script")[0],r.parentNode.insertBefore(n,r),t._i=[],t.init=function(e,n,r){function a(e,t){var n=t.split(".");2==n.length&&(e=e[n[0]],t=n[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}var s=t;for("undefined"!=typeof r?s=t[r]=[]:r="mixpanel",s.people=s.people||[],i="disable track track_pageview track_links track_forms register register_once unregister identify name_tag set_config people.identify people.set people.increment".split(" "),o=0;o<i.length;o++)a(s,i[o]);t._i.push([e,n,r])},t.__SV=1.1}(document,window.mixpanel||[])}(),function(){jQuery.expr[":"].regex=function(e,t,n){var r=n[3].split(","),i=/^(data|css):/,o={method:r[0].match(i)?r[0].split(":")[0]:"attr",property:r.shift().replace(i,"")},a="ig",s=new RegExp(r.join("").replace(/^\s+|\s+$/g,""),a);return s.test(jQuery(e)[o.method](o.property))}}(),function(){!function(e,t,n){function r(e,n){var r,i=t.createElement(e||"div");for(r in n)i[r]=n[r];return i}function i(e){for(var t=1,n=arguments.length;n>t;t++)e.appendChild(arguments[t]);return e}function o(e,t,n,r){var i=["opacity",t,~~(100*e),n,r].join("-"),o=.01+100*(n/r),a=Math.max(1-(1-e)/t*(100-o),e),s=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=s&&"-"+s+"-"||"";return f[i]||(p.insertRule("@"+l+"keyframes "+i+"{0%{opacity:"+a+"}"+o+"%{opacity:"+e+"}"+(o+.01)+"%{opacity:1}"+(o+t)%100+"%{opacity:"+e+"}100%{opacity:"+a+"}}",p.cssRules.length),f[i]=1),i}function a(e,t){var r,i,o=e.style;if(o[t]!==n)return t;for(t=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<d.length;i++)if(r=d[i]+t,o[r]!==n)return r}function s(e,t){for(var n in t)e.style[a(e,n)||n]=t[n];return e}function l(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)e[i]===n&&(e[i]=r[i])}return e}function u(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e=e.offsetParent;)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}var c,d=["webkit","Moz","ms","O"],f={},p=function(){var e=r("style",{type:"text/css"});return i(t.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}(),h={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"},m=function g(e){return this.spin?(this.opts=l(e||{},g.defaults,h),void 0):new g(e)};m.defaults={},l(m.prototype,{spin:function(e){this.stop();var t,n,i=this,o=i.opts,a=i.el=s(r(0,{className:o.className}),{position:o.position,width:0,zIndex:o.zIndex}),l=o.radius+o.length+o.width;if(e&&(e.insertBefore(a,e.firstChild||null),n=u(e),t=u(a),s(a,{left:("auto"==o.left?n.x-t.x+(e.offsetWidth>>1):parseInt(o.left,10)+l)+"px",top:("auto"==o.top?n.y-t.y+(e.offsetHeight>>1):parseInt(o.top,10)+l)+"px"})),a.setAttribute("aria-role","progressbar"),i.lines(a,i.opts),!c){var d=0,f=o.fps,p=f/o.speed,h=(1-o.opacity)/(p*o.trail/100),m=p/o.lines;!function g(){d++;for(var e=o.lines;e;e--){var t=Math.max(1-(d+e*m)%p*h,o.opacity);i.opacity(a,o.lines-e,t,o)}i.timeout=i.el&&setTimeout(g,~~(1e3/f))}()}return i},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=n),this},lines:function(e,t){function n(e,n){return s(r(),{position:"absolute",width:t.length+t.width+"px",height:t.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/t.lines*l+t.rotate)+"deg) translate("+t.radius+"px,0)",borderRadius:(t.corners*t.width>>1)+"px"})}for(var a,l=0;l<t.lines;l++)a=s(r(),{position:"absolute",top:1+~(t.width/2)+"px",transform:t.hwaccel?"translate3d(0,0,0)":"",opacity:t.opacity,animation:c&&o(t.opacity,t.trail,l,t.lines)+" "+1/t.speed+"s linear infinite"}),t.shadow&&i(a,s(n("#000","0 0 4px #000"),{top:"2px"})),i(e,i(a,n(t.color,"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}}),function(){function e(e,t){return r("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}var t=s(r("group"),{behavior:"url(#default#VML)"});!a(t,"transform")&&t.adj?(p.addRule(".spin-vml","behavior:url(#default#VML)"),m.prototype.lines=function(t,n){function r(){return s(e("group",{coordsize:u+" "+u,coordorigin:-l+" "+-l}),{width:u,height:u})}function o(t,o,a){i(d,i(s(r(),{rotation:360/n.lines*t+"deg",left:~~o}),i(s(e("roundrect",{arcsize:n.corners}),{width:l,height:n.width,left:n.radius,top:-n.width>>1,filter:a}),e("fill",{color:n.color,opacity:n.opacity}),e("stroke",{opacity:0}))))}var a,l=n.length+n.width,u=2*l,c=2*-(n.width+n.length)+"px",d=s(r(),{position:"absolute",top:c,left:c});if(n.shadow)for(a=1;a<=n.lines;a++)o(a,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(a=1;a<=n.lines;a++)o(a);return i(t,d)},m.prototype.opacity=function(e,t,n,r){var i=e.firstChild;r=r.shadow&&r.lines||0,i&&t+r<i.childNodes.length&&(i=i.childNodes[t+r],i=i&&i.firstChild,i=i&&i.firstChild,i&&(i.opacity=n))}):c=a(t,"animation")}(),"function"==typeof define&&define.amd?define(function(){return m}):e.Spinner=m}(window,document)}(),function(){Setting=FormModel.extend({blankSchema:{requireViewInvite:!1,requirePostInvite:!1,requirePostsApproval:!1,emailNotifications:!1,nestedComments:!1,redistributeKarma:!1,defaultEmail:"",scoreUpdateInterval:"",postInterval:"",commentInterval:"",maxPostsPerDay:"",startInvitesCount:3,postsPerPage:10,title:"",tagline:"",logoUrl:"",logoHeight:"",logoWidth:"",language:"en",backgroundColor:"",secondaryColor:"",buttonColor:"",headerColor:"",googleAnalyticsId:"",mixpanelId:"",clickyId:"",goSquaredId:"",embedlyId:"",mailChimpAPIKey:"",mailChimpListId:"",footerCode:"",extraCode:"",notes:""},init:function(e){this._super(Settings,e),this.overwriteTitle("scoreUpdateInterval","Scoring Frequency"),this.overwriteTitle("requireViewInvite","Require invite to view?"),this.overwriteTitle("requirePostInvite","Require invite to post?"),this.overwriteTitle("emailNotifications","Enable email notifications?"),this.overwriteTitle("requirePostsApproval","Posts must be approved by admin?"),this.overwriteTitle("title","Site Title"),this.overwriteTitle("mixpanelId",'<a href="http://mixpanel.com/">Mixpanel</a> ID'),this.overwriteTitle("clickyId",'<a href="http://getclicky.com/">Clicky</a> ID'),this.overwriteTitle("goSquaredId",'<a href="http://gosquared.com/">GoSquared</a> ID'),this.overwriteTitle("mailChimpAPIKey",'<a href="http://mailchimp.com">MailChimp</a> API Key'),this.overwriteTitle("mailChimpListId",'<a href="http://mailchimp.com">MailChimp</a> List ID'),this.overwriteTitle("logoUrl","Logo URL"),this.overwriteType("footerCode","textarea"),this.overwriteType("extraCode","textarea"),this.overwriteType("notes","textarea")}})}(),function(){Categories=new Meteor.Collection("categories"),Categories.allow({insert:isAdminById,update:isAdminById,remove:isAdminById}),Meteor.methods({category:function(e){if(!Meteor.user()||!isAdmin(Meteor.user()))throw new Meteor.Error(i18n.t("You need to login and be an admin to add a new category."));return Categories.insert(e),e.name}})}(),function(){Comments=new Meteor.Collection("comments"),Comments.deny({update:function(e,t,n){return isAdminById(e)?!1:_.without(n,"body").length>0}}),Comments.allow({insert:canCommentById,update:canEditById,remove:canEditById}),Meteor.methods({comment:function(e,t,n){var r=Meteor.user(),i=Posts.findOne(e),o=Meteor.users.findOne(i.userId),a=timeSinceLast(r,Comments),s=cleanUp(n),l=Math.abs(parseInt(getSetting("commentInterval",15))),u={commentAuthorId:r._id,commentAuthorName:getDisplayName(r),commentExcerpt:trimWords(stripMarkdown(s),20),postId:e,postHeadline:i.headline};if(!r||!canComment(r))throw new Meteor.Error(i18n.t("You need to login or be invited to post new comments."));if(!this.isSimulation&&l>a)throw new Meteor.Error(704,i18n.t("Please wait ")+(l-a)+i18n.t(" seconds before commenting again"));if(!s)throw new Meteor.Error(704,i18n.t("Your comment is empty."));var c={post:e,body:s,userId:r._id,submitted:(new Date).getTime(),author:getDisplayName(r)};t&&(c.parent=t);var d=Comments.insert(c);if(Meteor.users.update({_id:r._id},{$inc:{commentCount:1}}),c=_.extend(c,{_id:d}),Posts.update(e,{$inc:{comments:1}}),Meteor.call("upvoteComment",c),u.commentId=d,!this.isSimulation)if(t){var f=Comments.findOne(t),p=Meteor.users.findOne(f.userId);u.parentCommentId=t,u.parentAuthorId=f.userId,u.parentAuthorName=getDisplayName(p),p._id!=r._id&&Meteor.call("createNotification",{event:"newReply",properties:u,userToNotify:p,userDoingAction:r,sendEmail:getUserSetting("notifications.replies",!1,p)}),o._id!=r._id&&f.userId!=i.userId&&Meteor.call("createNotification",{event:"newComment",properties:u,userToNotify:o,userDoingAction:r,sendEmail:getUserSetting("notifications.comments",!1,o)})}else o._id!=r._id&&Meteor.call("createNotification",{event:"newComment",properties:u,userToNotify:o,userDoingAction:Meteor.user(),sendEmail:getUserSetting("notifications.comments",!1,o)});return u},removeComment:function(e){var t=Comments.findOne(e);canEdit(Meteor.user(),t)?(Posts.update(t.post,{$inc:{comments:-1}}),Meteor.users.update({_id:t.userId},{$inc:{commentCount:-1}}),Comments.remove(e)):throwError("You don't have permission to delete this comment.")}})}(),function(){Meteor.isClient&&(Errors=new Meteor.Collection(null)),throwError=function(e,t){t="undefined"==typeof t?"error":t,Errors.insert({message:e,type:t,seen:!1,show:!0})}}(),function(){Notifications=new Meteor.Collection("notifications"),Notifications.allow({insert:function(){return!1},update:canEditById,remove:canEditById}),getNotificationContents=function(e,t){var n=e.event,r=e.properties,t="undefined"==typeof t?"sidebar":t,i=Meteor.users.findOne(e.userId);switch(n){case"newReply":var o={subject:'Someone replied to your comment on "'+r.postHeadline+'"',text:r.commentAuthorName+' has replied to your comment on "'+r.postHeadline+'": '+getPostCommentUrl(r.postId,r.commentId),html:'<p><a href="'+getProfileUrlById(r.commentAuthorId)+'">'+r.commentAuthorName+'</a> has replied to your comment on "<a href="'+getPostCommentUrl(r.postId,r.commentId)+'" class="action-link">'+r.postHeadline+'</a>"</p>'};"email"==t&&(o.html+="<p>"+r.commentExcerpt+'</p><a href="'+getPostCommentUrl(r.postId,r.commentId)+'" class="action-link">Read more</a>');break;case"newComment":var o={subject:'A new comment on your post "'+r.postHeadline+'"',text:"You have a new comment by "+r.commentAuthorName+' on your post "'+r.postHeadline+'": '+getPostCommentUrl(r.postId,r.commentId),html:'<p><a href="'+getProfileUrlById(r.commentAuthorId)+'">'+r.commentAuthorName+'</a> left a new comment on your post "<a href="'+getPostCommentUrl(r.postId,r.commentId)+'" class="action-link">'+r.postHeadline+'</a>"</p>'};"email"==t&&(o.html+="<p>"+r.commentExcerpt+'</p><a href="'+getPostCommentUrl(r.postId,r.commentId)+'" class="action-link">Read more</a>');break;case"newPost":var o={subject:r.postAuthorName+' has created a new post: "'+r.postHeadline+'"',text:r.postAuthorName+' has created a new post: "'+r.postHeadline+'" '+getPostUrl(r.postId),html:'<a href="'+getProfileUrlById(r.postAuthorId)+'">'+r.postAuthorName+'</a> has created a new post: "<a href="'+getPostUrl(r.postId)+'" class="action-link">'+r.postHeadline+'</a>".'};break;case"accountApproved":var o={subject:"Your account has been approved.",text:"Welcome to "+getSetting("title")+"! Your account has just been approved.",html:"Welcome to "+getSetting("title")+'!<br/> Your account has just been approved. <a href="'+Meteor.absoluteUrl()+'">Start posting.</a>'};break;case"newUser":var o={subject:"New user: "+r.username,text:"A new user account has been created: "+r.profileUrl,html:'A new user account has been created: <a href="'+r.profileUrl+'">'+r.username+"</a>"}}return"email"==t&&(o.to=getEmail(i),o.text=o.text+"\n\n Unsubscribe from all notifications: "+getUnsubscribeLink(i),o.html=o.html+'<br/><br/><a href="'+getUnsubscribeLink(i)+'">Unsubscribe from all notifications</a>'),o},Meteor.methods({markAllNotificationsAsRead:function(){Notifications.update({userId:Meteor.userId()},{$set:{read:!0}},{multi:!0})}})}(),function(){Posts=new Meteor.Collection("posts"),STATUS_PENDING=1,STATUS_APPROVED=2,STATUS_REJECTED=3,Posts.deny({update:function(e,t,n){return isAdminById(e)?!1:_.without(n,"headline","url","body","shortUrl","shortTitle","categories").length>0}}),Posts.allow({insert:canPostById,update:canEditById,remove:canEditById}),clickedPosts=[],Meteor.methods({post:function(e){var t=cleanUp(e.headline),n=cleanUp(e.body),r=Meteor.user(),i=r._id,o=parseInt(e.submitted)||(new Date).getTime(),a=getSetting("requirePostsApproval")?STATUS_PENDING:STATUS_APPROVED,s=e.status||a,l=Posts.findOne({url:e.url}),u=timeSinceLast(r,Posts),c=numberOfItemsInPast24Hours(r,Posts),d=Math.abs(parseInt(getSetting("postInterval",30))),f=Math.abs(parseInt(getSetting("maxPostsPerDay",30))),p="";if(isAdmin(Meteor.user())&&(i=e.userId||r._id),!r||!canPost(r))throw new Meteor.Error(601,i18n.t("You need to login or be invited to post new stories."));if(!e.headline)throw new Meteor.Error(602,i18n.t("Please fill in a headline"));if(e.url&&"undefined"!=typeof l)throw Meteor.call("upvotePost",l),new Meteor.Error(603,i18n.t("This link has already been posted",l._id));if(!isAdmin(Meteor.user())){if(!this.isSimulation&&d>u)throw new Meteor.Error(604,i18n.t("Please wait ")+(d-u)+i18n.t(" seconds before posting again"));if(!this.isSimulation&&c>f)throw new Meteor.Error(605,i18n.t("Sorry, you cannot submit more than ")+f+i18n.t(" posts per day"))}e=_.extend(e,{headline:t,body:n,userId:i,author:getDisplayNameById(i),createdAt:(new Date).getTime(),votes:0,comments:0,baseScore:0,score:0,inactive:!1,status:s}),s==STATUS_APPROVED&&(e.submitted=o),p=Posts.insert(e),Meteor.users.update({_id:i},{$inc:{postCount:1}}),e=_.extend(e,{_id:p});var h=Meteor.users.findOne(e.userId);if(Meteor.call("upvotePost",e,h),getSetting("emailNotifications",!1)){var m={event:"newPost",properties:{postAuthorName:getDisplayName(h),postAuthorId:e.userId,postHeadline:t,postId:p}};Meteor.call("newPostNotify",m,function(){})}return e.postId=p,e},post_edit:function(){},clickedPost:function(e,t){var n={_id:e._id,sessionId:t};0==_.where(clickedPosts,n).length&&(clickedPosts.push(n),Posts.update(e._id,{$inc:{clicks:1}}))},deletePostById:function(e){var t=Posts.findOne({_id:e});if(!Meteor.userId()||!canEditById(Meteor.userId(),t))throw new Meteor.Error(606,"You need permission to edit or delete a post");Meteor.users.update({_id:t.userId},{$inc:{postCount:-1}}),Posts.remove(e)}})}(),function(){Searches=new Meteor.Collection("searches"),Searches.allow({update:isAdminById,remove:isAdminById})}(),function(){Settings=new Meteor.Collection("settings"),Settings.allow({insert:isAdminById,update:isAdminById,remove:isAdminById})}(),function(){Meteor.users.allow({update:function(e,t){return isAdminById(e)||e==t._id},remove:function(e,t){return isAdminById(e)||e==t._id}})}(),function(){Session.set("initialLoad",!0),Session.set("today",new Date),Session.set("view","top"),Session.set("postsLimit",getSetting("postsPerPage",10)),Session.set("settingsLoaded",!1),Session.set("sessionId",Meteor.default_connection._lastSessionId),Meteor.subscribe("settings",function(){Session.set("settingsLoaded",!0),analyticsInit()}),Meteor.subscribe("categories"),Meteor.subscribe("currentUser"),Meteor.subscribe("allUsersAdmin"),null!=Meteor.user()&&Meteor.subscribe("notifications"),STATUS_PENDING=1,STATUS_APPROVED=2,STATUS_REJECTED=3}();